var aa = window;
var ba;
var h = 0;
var k = 45;
var ca = false;
var da = 8;
var ea = 8;
var fa = da;
var ga = ea;
var ia = new ha();
var ja = 2;
var ka = 0;
var la = 2;
var ma = 0;
var na = 0;
var oa = 0;
var pa = 0;
var qa = 0;
var ra = 0;
var sa = 0;
var ua = 0;
var va = true;
var wa = 0;
var xa = 0;
var ya = 0;
var za = 0;
var Aa = 0;
var Ba = 0;
var Ca = 8;
var Da = 8;
var Ea = 8;
var Fa = 8;
var Ga = new Int8Array(138880);
var Ha = new Int8Array(138880);
var Ia = new Int32Array(500);
var Ja = new Int32Array(500);
var Ka = new Int32Array(500);
var La = new Int32Array(500);
var Ma = new Int8Array(500);
var Na = 0;
var Oa = 0;
var Pa = -1;
var Qa = 0;
var Ra = 0;
var Sa = -1;
var l = new Uint8Array(284789);
var Ta = 0;
var Ua;
var Wa;
var Xa = [0, 0, 0, 0, 0, 0, 0, 0];
var Ya = true;
var Za = 0;
var $a = "";
var ab = 0;
var bb = "";
var cb = 0;
var db = "";
var eb = 0;
var fb = 0;
var gb = 0;
var hb = 0;
var ib = 0;
var jb = 0;
var kb = 0;
var nb = new mb();
var ob = "";
var pb = "";
var qb = new mb();
var rb;
var sb;
var ub = 0;
var vb = 0;
var wb = 0;
var xb = ["sans-serif", "serif", "monospace", "setFont ->"];
var yb = ["PLAIN", "BOLD", "ITALIC", "BOLD&ITALIC"];
var zb = [12, 14, 16, 18, 20, 24, 30, 36, 48, 60, 72];
var Ab = new Int32Array(147968);
var Bb = new mb();
var Cb = [5, 6, 7, 8, 10, 1, 11, 13, 14, 15, 16, 17, 18, 19, 20, 21, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 37, 38, 39, 40, 41, 42, 43, 44, 50, 51, 52, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 3, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
var Db = [5, 6, 7, 8, 10, 0, 12, 13, 0, 0, 16, 0, 18, 19, 20, 21, 23, 24, 25, 7, 27, 28, 0, 0, 31, 32, 33, 0, 35, 0, 38, 39, 40, 41, 0, 43, 0, 0, 51, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
var Eb = [5, 6, 7, 8, 10, 1, 11, 13, 0, 15, 16, 0, 18, 19, 20, 21, 23, 24, 25, 0, 27, 28, 29, 0, 31, 32, 33, 0, 35, 0, 38, 39, 40, 41, 0, 43, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
var Fb = [0, 6, 7, 8, 10, 1, 11, 13, 14, 15, 16, 17, 18, 19, 20, 21, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 37, 38, 39, 40, 41, 42, 43, 44, 50, 51, 52, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
var n = [0, 8421631, 6316128, 4210752, 12632256, 15908203, 4210943, 16728128, 9486400, 8409120, 11567184, 13684991, 16777215, 16728224, 9465872, 16750950, 8400928, 16777164, 16764006, 6697728, 8421504, 16737843, 14737632, 8388736, 4486912, 12615872, 16752672, 13408665, 15790320, 16776992, 4210752, 6710784, 13369344, 13434624, 47872, 16777215, 3381759, 65793, 8417360, 13158, 11184810, 16763955, 4469538, 13421772, 13107, 15908203, 15908203, 15908203, 15908203, 9465872, 3355443, 6706500, 6702131, 0];
var Gb = Array(n.length);
var Hb = [0, 0, 0, 0, 0, 0, 0, 5000, 500, 500, 0, -1000, -500, 0, 0, 0, 0, 0, 0, 0, 0, 10000, 0, 0, 0, 1500, 4000, 500, 0, 2000, 0, 0, 5500, 0, 500, 0, 0, 0, 2000, 2000, 0, 3000, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1000, 0];
var Ib = [[], [6316128, 6316128, 6316128, 6316128, 6316128, 6316128, 6316128, 6316128, 6316128, 6316128, 6316128, 6316128, 6316128, 6316128, 6316128, 6316128], [0, 0, 0, 0, 0, 4210752, 4210752, 0, 0, 4210752, 4210752, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 12632256, 12632256, 0, 0, 12632256, 12632256, 0, 0, 0, 0, 0], []];
var Jb = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz.*".split("");
var Kb = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 63, 0, 0, 0, 62, 0, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 0, 0, 0, 0, 0, 0, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 0, 0, 0, 0, 0, 0, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 0, 0, 0, 0, 0];
aa.GameSave = Lb;
function Lb(a) {
  if (a.length == 0 || Za != 0) {
    return "";
  }
  Mb();
  Nb(1);
  for (var c = a = 0; c < $a.length; c++) {
    a += $a.charCodeAt(c) * ((c & 15) + 1);
  }
  return a = $a + Jb[a & 63];
}
var Ob = "";
aa.GameLoad = Pb;
function Pb(a) {
  if (a.length > 5) {
    var c = 0;
    for (var b = 0; b < a.length - 1; b++) {
      c += a.charCodeAt(b) * ((b & 15) + 1);
    }
    if ((c & 63) != Kb[a.charCodeAt(a.length - 1)]) {
      return -1;
    }
    Ob = a.substring(0, a.length - 1);
    return 0;
  }
  if (a.length == 0 && Ob.length != 0) {
    $a = Ob;
    Ob = "";
    Qb(1);
    Rb();
  }
  return -1;
}
var Sb = 0;
var Tb = 0;
function Ub(a) {
  var c;
  var b;
  if (ja < 0 && ja > 9) {
    q = null;
  }
  if (a == 0) {
    b = Tb;
  } else {
    Tb = b = Vb(1024);
  }
  b += (h | 1) * (b & 15 | 1);
  b += (k | 1) * (b & 15 | 1);
  b += (ja | 1) * (b & 15 | 1);
  b += (la | 1) * (b & 15 | 1);
  b += (ma | 1) * (b & 15 | 1);
  b += (qa | 1) * (b & 15 | 1);
  b += (ra | 1) * (b & 15 | 1);
  b += (sa | 1) * (b & 15 | 1);
  b += (wa | 1) * (b & 15 | 1);
  b += (Sa | 1) * (b & 15 | 1);
  b += (b & 15 | 1) * 29;
  for (c = 0; c < Wa.length; c++) {
    b += (Wa.charCodeAt(c) | 1) * (b & 15 | 1);
  }
  for (c = 0; c < 8; c++) {
    b += (Xa[c] | 1) * (b & 15 | 1);
  }
  b += (Ya ? 1 : 2) * (b & 15 | 1);
  b += (Za | 1) * (b & 15 | 1);
  b += (fb | 1) * (b & 15 | 1);
  b += (gb | 1) * (b & 15 | 1);
  b += (hb | 1) * (b & 15 | 1);
  b += (ib | 1) * (b & 15 | 1);
  if (a == 0) {
    if (Sb != (b ^ 16777215)) {
      q = null;
    }
  } else {
    Sb = b ^ 16777215;
  }
}
function Mb() {
  var a;
  var c;
  var b;
  var d;
  var e;
  for (a = 284788; a >= 0; a--) {
    l[a] = 0;
  }
  for (b = 0; b < 280; b++) {
    for (c = 0; c < 496; c++) {
      d = ((b >> 2) + 2) * r + (c >> 2) + 2;
      e = 29 + b * 496 + c;
      if (t[d] != 0) {
        if (t[d] == 1) {
          l[e] = 2;
        } else if (t[d] == 2) {
          l[e] = 3;
        } else if (t[d] == 3) {
          l[e] = 4;
        }
      }
    }
  }
  for (a = 0; a < Wb; a++) {
    d = a * Xb;
    c = ~~w[d + 4].x - 8;
    b = ~~w[d + 4].y - 8;
    if (c < 0 || c >= 496) {
      Yb(a--);
    } else if (b < 0 || b >= 280) {
      Yb(a--);
    } else {
      c = c >> 2 << 2;
      b = b >> 2 << 2;
      e = 29 + b * 496 + c;
      if (l[e]) {
        Yb(a--);
      } else if (x[a] == Zb) {
        l[e] = 45;
        l[e + 138880] = $b[a];
      } else if (x[a] == ac) {
        l[e] = 46;
        l[e + 138880] = $b[a];
      } else if (x[a] == bc) {
        l[e] = 47;
        l[e + 138880] = 0;
      } else if (x[a] == bc + 1) {
        l[e] = 47;
        l[e + 138880] = 0;
      } else if (x[a] == cc) {
        l[e] = 49;
        l[e + 138880] = 0;
      } else {
        Yb(a--);
      }
    }
  }
  for (a = 0; a < dc; a++) {
    if (y[a] != 0) {
      c = ~~z[a].x - 8;
      b = ~~z[a].y - 8;
      if (c < 0 || c >= 496) {
        ec(a);
      } else if (b < 0 || b >= 280) {
        ec(a);
      } else {
        e = 29 + b * 496 + c;
        if (l[e]) {
          ec(a);
        } else {
          l[e] = 48;
          l[e + 138880] = y[a];
        }
      }
    }
  }
  for (a = 4; a < fc; a++) {
    c = ~~A[a].x - 8;
    b = ~~A[a].y - 8;
    if (c < 0 || c >= 496) {
      gc(a--);
    } else if (b < 0 || b >= 280) {
      gc(a--);
    } else if (B[a] == 22 && C[a] != n[22]) {
      gc(a--);
    } else {
      e = 29 + b * 496 + c;
      if (l[e]) {
        gc(a--);
      } else {
        l[e] = B[a];
        if (B[a] == 1) {
          l[e + 138880] = D[a];
        } else if (B[a] == 15) {
          l[e + 138880] = D[a] & 255;
        } else if (B[a] == 52) {
          l[e + 138880] = D[a] & 1;
        }
      }
    }
  }
  Ta = 138909;
  d = 29;
  for (e = 138909; d < e; d++) {
    if (l[d] == 1 || l[d] == 15 || l[d] == 45 || l[d] == 46 || l[d] == 47 || l[d] == 48 || l[d] == 49 || l[d] == 52) {
      l[Ta++] = l[d + 138880];
    }
  }
  for (a = 0; a < hc; a++) {
    l[Ta] = ic[a];
    if (jc[a] == 0) {
      l[Ta + hc * 1] = E[kc[a]] >> 16 & 255;
      l[Ta + hc * 2] = E[kc[a]] >> 8 & 255;
      l[Ta + hc * 3] = E[kc[a]] & 255;
    } else if (jc[a] == 1) {
      c = ~~w[kc[a] * Xb + 4].x;
      b = ~~w[kc[a] * Xb + 4].y;
      c = c >> 2 << 2;
      b = b >> 2 << 2;
      e = 0 + b * 512 + c;
      l[Ta + hc * 1] = e >> 16 & 255;
      l[Ta + hc * 2] = e >> 8 & 255;
      l[Ta + hc * 3] = e & 255;
    } else if (jc[a] == 2) {
      c = ~~z[kc[a]].x;
      b = ~~z[kc[a]].y;
      e = 0 + b * 512 + c;
      l[Ta + hc * 1] = e >> 16 & 255;
      l[Ta + hc * 2] = e >> 8 & 255;
      l[Ta + hc * 3] = e & 255;
    }
    if (lc[a] == 0) {
      l[Ta + hc * 4] = E[mc[a]] >> 16 & 255;
      l[Ta + hc * 5] = E[mc[a]] >> 8 & 255;
      l[Ta + hc * 6] = E[mc[a]] & 255;
    } else if (lc[a] == 1) {
      c = ~~w[mc[a] * Xb + 4].x;
      b = ~~w[mc[a] * Xb + 4].y;
      c = c >> 2 << 2;
      b = b >> 2 << 2;
      e = 0 + b * 512 + c;
      l[Ta + hc * 4] = e >> 16 & 255;
      l[Ta + hc * 5] = e >> 8 & 255;
      l[Ta + hc * 6] = e & 255;
    } else if (lc[a] == 2) {
      c = ~~z[mc[a]].x;
      b = ~~z[mc[a]].y;
      e = 0 + b * 512 + c;
      l[Ta + hc * 4] = e >> 16 & 255;
      l[Ta + hc * 5] = e >> 8 & 255;
      l[Ta + hc * 6] = e & 255;
    }
    Ta++;
  }
  Ta += hc * 6;
  jb = ib;
}
function Nb(a) {
  var c;
  var b;
  if (a == 0) {
    var d = new Uint8Array(8680);
    var e = new Uint8Array(768);
    var f;
    var g;
    for (c = 0; c < d.length; c++) {
      d[c] = 0;
    }
    for (c = 0; c < dc; c++) {
      if (y[c] != 0) {
        f = ~~z[c].x - 8;
        g = ~~z[c].y - 8;
        if (!(f < 0) && !(f >= 496) && !(g < 0) && !(g >= 280)) {
          f >>= 2;
          g >>= 2;
          d[g * 124 + f] = 48;
        }
      }
    }
    for (g = c = 0; g < 280; g += 4) {
      for (f = 0; f < 496; f += 4) {
        if (!d[c]) {
          b = 29 + g * 496 + f;
          if (!l[b]) {
            b += 497;
          }
          d[c] = l[b];
        }
        if (la == 12) {
          if (d[c] != 7 && d[c] != 21 && d[c] != 26 && d[c] != 29 && d[c] != 32 && d[c] != 41) {
            d[c] = 0;
          }
        } else if (la == 14) {
          d[c] = d[c] ? 0 : 12;
        }
        c++;
      }
    }
    g = n;
    if (la == 10) {
      g = Gb;
    }
    f = new Int32Array(256);
    for (c = 0; c < 256; c++) {
      f[c] = 0;
    }
    for (c = 0; c < d.length; c++) {
      f[d[c]]++;
    }
    var m = eb = 0;
    for (b = 0; b < 256; b++) {
      if (f[b]) {
        e[eb++] = g[b] >> 16 & 255;
        e[eb++] = g[b] >> 8 & 255;
        e[eb++] = g[b] & 255;
        for (c = 0; c < d.length; c++) {
          if (d[c] == b) {
            d[c] = m;
          }
        }
        m++;
      }
    }
    if (la == 16) {
      e[0] = (n[Cb[h]] >> 16 & 255) + (n[Cb[k]] >> 16 & 255) >> 1 & 255;
      e[1] = (n[Cb[h]] >> 8 & 255) + (n[Cb[k]] >> 8 & 255) >> 1 & 255;
      e[2] = (n[Cb[h]] & 255) + (n[Cb[k]] & 255) >> 1 & 255;
    }
    bb = "";
    cb = d.length;
    for (c = 0; c < cb;) {
      b = d[c++];
      for (f = 0; c < cb && f != 255 && b == d[c]; c++) {
        f++;
      }
      bb += String.fromCharCode(b);
      bb += String.fromCharCode(f);
    }
    cb = bb.length;
    bb = aa.btoa(bb);
    db = "";
    for (c = 0; c < eb; c++) {
      db += String.fromCharCode(e[c]);
    }
    db = aa.btoa(db);
  }
  b = 0;
  l[b++] = 0;
  l[b++] = 0;
  for (c = l[b++] = 0; c < 8; c++) {
    l[b++] = Xa[c];
  }
  l[b++] = jb & 255;
  l[b++] = jb >> 8;
  l[b++] = Cb[h];
  l[b++] = Cb[k];
  l[b++] = ja;
  l[b++] = la;
  l[b++] = ra;
  l[b++] = sa;
  l[b++] = va ? 0 : 1;
  l[b++] = ua;
  for (c = 0; c < 8; c++) {
    l[b++] = 0;
  }
  if (a == 0) {
    kb = 0;
    c = 29;
    for (; c < 138909; c++) {
      if (l[c] > 0) {
        kb += c & 255;
      }
    }
  }
  b = 0;
  for (c = 3; c < Ta; c++) {
    b = l[c] < 128 ? b + l[c] * ((c & 15) + 1) : b + (l[c] - 256) * ((c & 15) + 1);
  }
  l[1] = b & 255;
  l[2] = b >> 8 & 255;
  e = [];
  for (c = d = 0; c < Ta;) {
    b = l[c++];
    for (f = 0; c < Ta && f != 255 && b == l[c]; c++) {
      f++;
    }
    e[d++] = b;
    e[d++] = f;
  }
  if (a == 1) {
    var p = [];
    var u = 0;
    f = Array(4096);
    g = 1;
    for (c = 0; c < d;) {
      var m = 0;
      var v = 1;
      if (c < d - 1) {
        for (var G = 1; G < g; G++) {
          if (f[G].length == v) {
            for (b = 0; b < v && f[G][b] == e[c + b]; b++);
            if (b == v && (m = G, v++, c + v >= d)) {
              break;
            }
          }
        }
      }
      p[u++] = m >> 8;
      p[u++] = m & 255;
      p[u++] = e[c + v - 1];
      if (g < 4096) {
        f[g] = Array(v);
        for (b = 0; b < v; b++) {
          f[g][b] = e[c + b];
        }
        g++;
      }
      c += v;
    }
  }
  if (a == 0) {
    a = e;
    ab = d;
  } else {
    a = p;
    ab = u;
  }
  $a = "";
  for (c = 0; c < ab; c++) {
    $a += String.fromCharCode(a[c]);
  }
  $a = aa.btoa($a);
}
function Qb(a) {
  var c;
  var b = aa.atob($a);
  var d = [];
  ab = b.length;
  for (c = 0; c < ab; c++) {
    d[c] = b.charCodeAt(c);
  }
  if (a == 1) {
    var b = [];
    var e = 0;
    var f = Array(4096);
    var g = 1;
    for (c = 0; c < ab;) {
      var m;
      var p = 1;
      m = d[c++] << 8;
      m += d[c++];
      if (m > 0) {
        for (a = 0; a < f[m].length; a++) {
          b[e++] = f[m][a];
        }
        p = 1 + f[m].length;
      }
      b[e++] = d[c++];
      if (g < 4096) {
        f[g] = Array(p);
        for (a = 0; a < p; a++) {
          f[g][a] = b[e - p + a];
        }
        g++;
      }
    }
    d = b;
    ab = e;
  }
  for (c = Ta = 0; c < ab;) {
    b = d[c++];
    e = d[c++];
    l[Ta++] = b;
    a = 0;
    for (; a < e; a++) {
      l[Ta++] = b;
    }
  }
  if (Ta) {
    d = 0;
    for (c = 3; c < Ta; c++) {
      d = l[c] < 128 ? d + l[c] * ((c & 15) + 1) : d + (l[c] - 256) * ((c & 15) + 1);
    }
    if (l[1] != (d & 255)) {
      Ta = 0;
    } else if (l[2] != (d >> 8 & 255)) {
      Ta = 0;
    } else {
      a = 0;
      a++;
      a++;
      a++;
      for (c = 0; c < 8; c++) {
        if (l[a++] != Xa[c]) {
          fb = 2;
          hb = 6;
        }
      }
      jb = l[a++];
      jb += l[a++] << 8;
      if (l[a]) {
        for (c = 0; c < Cb.length; c++) {
          if (l[a] == Cb[c]) {
            h = c;
          }
        }
      }
      a++;
      if (l[a]) {
        for (c = 0; c < Cb.length; c++) {
          if (l[a] == Cb[c]) {
            k = c;
          }
        }
      }
      a++;
      ja = l[a++];
      la = l[a++];
      ra = l[a++];
      sa = l[a++];
      va = l[a++] ? false : true;
      ua = l[a++];
    }
  }
}
function Rb() {
  var a;
  var c;
  var b;
  var d;
  var e;
  nc(1);
  if (Ta) {
    e = 138909;
    b = 8;
    for (d = 29; b < 288; b++) {
      for (c = 8; c < 504; c++, d++) {
        if (l[d]) {
          if (l[d] == 2) {
            t[(b >> 2) * r + (c >> 2)] = 1;
            F[b * 512 + c] = 2;
          } else if (l[d] == 3) {
            t[(b >> 2) * r + (c >> 2)] = 2;
            F[b * 512 + c] = 2;
          } else if (l[d] == 4) {
            t[(b >> 2) * r + (c >> 2)] = 3;
            F[b * 512 + c] = 2;
          } else if (l[d] == 45) {
            oc(c, b, 45, l[e++]);
          } else if (l[d] == 46) {
            oc(c, b, 46, l[e++]);
          } else if (l[d] == 47) {
            oc(c, b, 47, 0);
            e++;
          } else if (l[d] == 48) {
            pc(c, b, l[e++]);
          } else if (l[d] == 49) {
            oc(c, b, 49, 0);
            e++;
          } else {
            a = qc(c, b, l[d], 0);
            if (l[d] == 1) {
              H[a].x = Math.cos(l[e] * rc / 32) * 0.01;
              H[a].y = -Math.sin(l[e] * rc / 32) * 0.01;
              D[a] = l[e];
              e++;
              F[b * 512 + c] = 1;
            } else if (l[d] == 15) {
              D[a] = l[e++];
            } else if (l[d] == 52) {
              D[a] = l[e++];
              C[a] = D[a] == 0 ? 6702131 : 3359829;
            }
          }
        }
      }
    }
    sc();
    c = new ha();
    var f;
    for (a = 4; a < fc; a++) {
      f = 4 + I(Math.random() * (fc - 4));
      c.set(A[a]);
      A[a].set(A[f]);
      A[f].set(c);
      c.set(H[a]);
      H[a].set(H[f]);
      H[f].set(c);
      b = B[a];
      B[a] = B[f];
      B[f] = b;
      b = D[a];
      D[a] = D[f];
      D[f] = b;
      b = C[a];
      C[a] = C[f];
      C[f] = b;
      b = E[a];
      E[a] = E[f];
      E[f] = b;
      F[E[a]] = B[a] == 1 ? 1 : a;
      F[E[f]] = B[f] == 1 ? 1 : f;
    }
    f = I((Ta - e) / 7);
    for (a = e; a < e + f; a++) {
      c = (l[a + f * 1] & 255) << 16 | (l[a + f * 2] & 255) << 8 | l[a + f * 3] & 255;
      b = (l[a + f * 4] & 255) << 16 | (l[a + f * 5] & 255) << 8 | l[a + f * 6] & 255;
      var g;
      var m = 0;
      var p = 0;
      d = 29 + ((c >> 9) - 8) * 496 + ((c & 511) - 8);
      g = l[d] == 45 ? 1 : l[d] == 46 ? 1 : l[d] == 47 ? 1 : l[d] == 48 ? 2 : 0;
      d = 29 + ((b >> 9) - 8) * 496 + ((b & 511) - 8);
      d = l[d] == 45 ? 1 : l[d] == 46 ? 1 : l[d] == 47 ? 1 : l[d] == 48 ? 2 : 0;
      if (g) {
        if (g == 1) {
          m = tc(c);
        } else if (g == 2) {
          m = uc(c);
        }
      } else {
        m = F[c];
      }
      if (d) {
        if (d == 1) {
          p = tc(b);
        } else if (d == 2) {
          p = uc(b);
        }
      } else {
        p = F[b];
      }
      vc(g, d, m, p, l[a + f * 0]);
    }
    ib = jb;
  }
}
aa.fff = wc;
function wc() {
  var a;
  var c;
  var b;
  for (a = 0; a < 138880; a++) {
    Ga[a] = 0;
    Ha[a] = 0;
  }
  for (a = 0; a < fc; a++) {
    c = ~~A[a].x - 8;
    b = ~~A[a].y - 8;
    if (!(c < 0) && !(c >= 496) && !(b < 0) && !(b >= 280)) {
      c = b * 496 + c;
      Ga[c] = B[a];
      if (B[a] == 1) {
        Ha[c] = D[a];
      } else if (B[a] == 15) {
        Ha[c] = D[a] & 255;
      } else if (B[a] == 52) {
        Ha[c] = D[a] & 1;
      }
    }
  }
  if (Ca > Ea) {
    c = Ca;
    Ca = Ea;
    Ea = c;
  }
  if (Da > Fa) {
    b = Da;
    Da = Fa;
    Fa = b;
  }
  for (a = Na = 0; a < hc && Na < 500; a++) {
    if (jc[a] == 0 && lc[a] == 0 && !(~~A[kc[a]].x < Ca) && !(Ea < ~~A[kc[a]].x) && !(~~A[kc[a]].y < Da) && !(Fa < ~~A[kc[a]].y) && !(~~A[mc[a]].x < Ca) && !(Ea < ~~A[mc[a]].x) && !(~~A[mc[a]].y < Da) && !(Fa < ~~A[mc[a]].y)) {
      Ia[Na] = ~~A[kc[a]].x - Ca;
      Ja[Na] = ~~A[kc[a]].y - Da;
      Ka[Na] = ~~A[mc[a]].x - Ca;
      La[Na] = ~~A[mc[a]].y - Da;
      Ma[Na] = ic[a];
      Na++;
    }
  }
}
aa.fff = xc;
function xc() {
  var a;
  var c;
  var b;
  var d;
  var e = da - I((Ea - Ca) / 2) - Ca;
  var f = ea - I((Fa - Da) / 2) - Da;
  for (b = Da - 8; b <= Fa - 8; b++) {
    if (!(f + b < 0) && !(f + b >= 280)) {
      for (c = Ca - 8; c <= Ea - 8; c++) {
        if (!(e + c < 0) && !(e + c >= 496)) {
          d = b * 496 + c;
          if (Ga[d] && F[(f + b + 8) * 512 + (e + c + 8)] == 0) {
            a = qc(e + c + 8, f + b + 8, Ga[d], 0);
            if (a >= 0) {
              if (Ga[d] == 1) {
                H[a].x = Math.cos(Ha[d] * rc / 32) * 0.01;
                H[a].y = -Math.sin(Ha[d] * rc / 32) * 0.01;
                D[a] = Ha[d];
                F[(f + b + 8) * 512 + (e + c + 8)] = 1;
              } else if (Ga[d] == 15) {
                D[a] = Ha[d];
              } else if (Ga[d] == 52) {
                D[a] = Ha[d];
                C[a] = D[a] == 0 ? 6702131 : 3359829;
              }
            }
          }
        }
      }
    }
  }
  e = da - I((Ea - Ca) / 2);
  f = ea - I((Fa - Da) / 2);
  for (a = 0; a < Na; a++) {
    if (!(e + Ia[a] < 8) && !(e + Ia[a] >= 504) && !(f + Ja[a] < 8) && !(f + Ja[a] >= 288) && !(e + Ka[a] < 8) && !(e + Ka[a] >= 504) && !(f + La[a] < 8) && !(f + La[a] >= 288)) {
      c = F[(f + Ja[a]) * 512 + e + Ia[a]];
      b = F[(f + La[a]) * 512 + e + Ka[a]];
      if (c >= 4 && b >= 4 && c != b && (yc[c] & 255) != 255 && (yc[b] & 255) != 255) {
        vc(0, 0, c, b, Ma[a]);
      }
    }
  }
}
function zc(a, c, b, d) {
  var e = a;
  for (;;) {
    if (B[F[e]] == c) {
      J(F[e], b, d, n[b]);
      e--;
    } else {
      break;
    }
  }
  e++;
  var f = a + 1;
  for (;;) {
    if (B[F[f]] == c) {
      J(F[f], b, d, n[b]);
      f++;
    } else {
      break;
    }
  }
  f--;
  for (a = e; a <= f; a++) {
    if (B[F[a - 512]] == c) {
      zc(a - 512, c, b, d);
    }
    if (B[F[a + 512]] == c) {
      zc(a + 512, c, b, d);
    }
  }
}
var Ac = 0;
function Bc(a, c, b, d) {
  if (!Ac) {
    if (a != null) {
      Ua = a;
    } else {
      Ua = "";
    }
    if (c != null) {
      Wa = c;
    } else {
      Wa = "";
    }
    for (a = 0; a < 8 && a < Wa.length; a++) {
      Xa[a] = Wa.charCodeAt(a);
    }
    Ya = b == 0 ? true : false;
    if (d != null) {
      Za = d;
    } else {
      Za = 0;
    }
    Cc(Dc);
    Ec.width = 512;
    Ec.height = 430;
    Ec.width = 496;
    Ec.height = 422;
    for (b = 0; b < 256; b++) {
      Fc[b] = false;
      Gc[b] = false;
      Hc[b] = false;
      Ic[b] = false;
      Jc[b] = false;
      Kc[b] = false;
      Lc[b] = 0;
      Mc[b] = 0;
    }
    for (b = 0; b < 10; b++) {
      Lc[48 + b] = 48 + b;
    }
    for (b = 0; b < 9; b++) {
      Mc[49 + b] = 33 + b;
    }
    for (b = 0; b < 4; b++) {
      Lc[37 + b] = 37 + b;
    }
    for (b = 0; b < 4; b++) {
      Mc[37 + b] = 37 + b;
    }
    Lc[13] = Mc[13] = 13;
    Lc[16] = Mc[16] = 16;
    Lc[17] = Mc[17] = 17;
    Lc[18] = Mc[18] = 18;
    Lc[32] = Mc[32] = 32;
    Lc[186] = 58;
    Mc[186] = 42;
    Lc[187] = 59;
    Mc[187] = 43;
    Lc[188] = 44;
    Mc[188] = 60;
    Lc[189] = 45;
    Mc[189] = 61;
    Lc[190] = 46;
    Mc[190] = 62;
    Lc[191] = 47;
    Mc[191] = 63;
    Lc[192] = 64;
    Mc[192] = 96;
    Lc[219] = 91;
    Mc[219] = 123;
    Lc[220] = 92;
    Mc[220] = 124;
    Lc[221] = 93;
    Mc[221] = 125;
    Lc[222] = 94;
    Mc[222] = 126;
    Lc[226] = 92;
    Mc[226] = 95;
    Lc[58] = 58;
    Mc[58] = 42;
    Lc[59] = 59;
    Mc[59] = 43;
    Lc[173] = 45;
    Mc[173] = 61;
    Lc[64] = 64;
    Mc[64] = 96;
    Lc[160] = 94;
    Mc[160] = 126;
    for (b = 0; b < 1024; b++) {
      Nc[b] = b / 1024;
    }
    for (b = 0; b < 1024; b++) {
      d = I(Math.random() * 1024);
      a = Nc[b];
      Nc[b] = Nc[d];
      Nc[d] = a;
    }
    Oc = I(Math.random() * 1024) & 1023;
    Pc = I(Math.random() * 512) | 1;
    for (b = 0; b < 220160; b++) {
      q[b] = 0;
    }
    b = L;
    d = b.g;
    if (d.l != "font.gif") {
      Qc++;
      d.l = "font.gif";
      d.a = new Image();
      d.a.src = Rc + "font.gif?8.3";
      delete d.b;
      d.b = 0;
      d.i = 0;
    }
    b.c = 8;
    b.i = 12;
    b.a = 0;
    b.f = 0;
    if (Sc()) {
      Ac--;
    } else {
      Ac++;
    }
  }
  if (Ac == 1) {
    b = L.g;
    if (!b.i && b.a.complete) {
      Qc--;
      d = b.a.width;
      a = b.a.height;
      if (!d || !a) {
        delete b.a;
        b.l = "";
        throw Tc;
      }
      c = Uc.createElement(Vc);
      c.width = d;
      c.height = a;
      c = c.getContext(Wc);
      c.drawImage(b.a, 0, 0);
      c = c.getImageData(0, 0, d, a).data;
      Xc(b, d, a);
      d = 0;
      for (a = c.length; d < a; d += 4) {
        b.b[d >> 2] = c[d + 3] == 0 ? -1 : c[d + 0] << 16 | c[d + 1] << 8 | c[d + 2];
      }
      delete b.a;
      b.i = 1;
    }
    if (Qc) {
      Yc(Bc, Zc());
    } else {
      Ac++;
    }
  }
  if (Ac == 2) {
    if (Wa.length == 0) {
      fb = 2;
      hb = 1;
    } else if (Za != 0) {
      fb = 2;
      hb = 3;
    }
    nc(0);
    Mb();
    if (Za > 0) {
      b = $c(47, 115, 99, 111, 114, 101, 47, 100, 117, 115, 116, 50, 46, 112, 104, 112, 63, 97, 61);
      b += Za;
      ad(b, "");
      if (bd == 1 && cd[0] == "ok") {
        $a = cd[1];
        Qb(0);
        if (Ta > 0) {
          Rb();
          gb = 1;
        } else {
          gb = 2;
        }
      } else {
        gb = 2;
      }
      qa = 1;
    }
    Ub(1);
    for (a = 0; a < n.length; a++) {
      b = I(((n[a] >> 16 & 255) * 2989 + (n[a] >> 8 & 255) * 5866 + (n[a] & 255) * 1145) / 10000);
      Gb[a] = b << 16 | b << 8 | b;
    }
    dd(0, 0, 512, 430, 4210752);
    M(L, 13, 291, "POWDER", 15908203, 0);
    M(L, 13, 305, "WATER", 4210943, 0);
    M(L, 13, 319, "FIRE", 16728128, 0);
    M(L, 13, 333, "SEED", 9486400, 0);
    ed(13, 347, "G-POWDER", -1, 0, -2);
    ed(13, 347, "G-POWDER", 11567184, -1, -2);
    ed(13, 361, "FAN", 8421631, 0, -1);
    M(L, 13, 375, "ICE", 13684991, 0);
    M(L, 13, 389, "S-BALL", 16728224, 0);
    M(L, 13, 403, "CLONE", 9465872, 0);
    ed(68, 291, "F-WORKS", 16750950, 0, -1);
    M(L, 68, 305, "OIL", 8400928, 0);
    M(L, 68, 319, "C-4", 16777164, 0);
    M(L, 68, 333, "SAND", 16764006, 0);
    M(L, 68, 347, "MUD", 6697728, 0);
    M(L, 68, 361, "STONE", 8421504, 0);
    M(L, 68, 375, "LAVA", 16737843, 0);
    M(L, 68, 389, "VIRUS", 8388736, 0);
    M(L, 68, 403, "NITRO", 4486912, 0);
    M(L, 123, 291, "ANT", 12615872, 0);
    M(L, 123, 305, "TORCH", 16752672, 0);
    M(L, 123, 319, "GAS", 13408665, 0);
    M(L, 123, 333, "SOAPY", 15790320, 0);
    ed(123, 347, "THUNDER", 16776992, 0, -1);
    M(L, 123, 361, "METAL", 4210752, 0);
    M(L, 123, 375, "BOMB", 6710784, 0);
    M(L, 123, 389, "LASER", 13369344, 0);
    M(L, 123, 403, "ACID", 13434624, 0);
    M(L, 178, 291, "VINE", 47872, 0);
    M(L, 178, 305, "SALT", 16777215, 0);
    M(L, 178, 319, "GLASS", 4210752, 0);
    M(L, 178, 333, "BIRD", 8417360, 0);
    M(L, 178, 347, "FISH", 13158, 0);
    ed(178, 361, "MERCURY", 11184810, 0, -1);
    M(L, 178, 375, "SPARK", 16763955, 0);
    M(L, 178, 389, "FUSE", 4469538, 0);
    M(L, 178, 403, "CLOUD", 13421772, 0);
    M(L, 233, 291, "PUMP", 13107, 0);
    ed(233, 305, "CRYSTAL", 3355443, 0, -1);
    M(L, 233, 319, "JBOMB", 6706500, 0);
    ed(233, 333, "Conveyer", -1, 0, -2);
    ed(233, 333, "Conv    ", 6702131, -1, -2);
    ed(233, 333, "    eyer", 3359829, -1, -2);
    M(L, 288, 291, "WIND", 8421631, 0);
    ed(288, 305, "CYCLONE", 8421631, 0, -1);
    M(L, 288, 319, "DRAG", 16777215, 0);
    M(L, 288, 347, "PLAYER", 15908203, 0);
    ed(288, 361, "FIGHTER", 15908203, 0, -1);
    M(L, 288, 375, "BALL", 15908203, 0);
    M(L, 288, 389, "CREATE", 9465872, 0);
    M(L, 343, 291, "BLOCK", 8421504, 0);
    M(L, 343, 305, "ERASE", 8421504, 0);
    M(L, 343, 319, "CLEAR", 16777215, 0);
    M(L, 343, 333, "BH", 0, 8421504);
    M(L, 343, 347, "WH", 4210752, 12632256);
    ed(343, 403, "MiniMap", 16752800, 0, -1);
    M(L, 398, 305, "TEXT", 16777215, 0);
    ed(397, 319, "Copy", -1, 0, -2);
    ed(397, 319, "Copy", 16777215, -1, -2);
    ed(421, 319, "Paste", -1, 0, -3);
    ed(421, 319, "Paste", 16777215, -1, -3);
    ed(398, 333, "PEN", 16777215, 0, -1);
    ed(398, 347, "PEN-S ", 16777215, 0, -1);
    ed(398, 361, "SCALE", 16777215, 0, -1);
    ed(398, 375, "|", 16777215, 0, -1);
    ed(398, 389, "SPEEDx", 16777215, 0, -1);
    ed(397, 403, "Start", -1, 0, -3);
    ed(397, 403, "Start", 16777215, -1, -3);
    ed(423, 403, "Stop", -1, 0, -2);
    ed(423, 403, "Stop", 16777215, -1, -2);
    M(L, 453, 291, "UPLOAD", 16752800, 0);
    M(L, 453, 305, "SAVE", 16752800, 0);
    M(L, 453, 319, "LOAD", 16752800, 0);
    M(L, 453, 347, "G-", -1, 0);
    ed(453, 361, "SIDE-", -1, 0, -3);
    ed(453, 361, "SIDE-", 16777215, -1, -3);
    ed(453, 375, "BG-", -1, 0, -2);
    ed(453, 375, "BG-", 16777215, -1, -2);
    M(L, 453, 389, "GRID", 8388608, 0);
    M(L, 453, 403, "RESET", 16777215, 0);
    M(L, 69, 417, "x    y", -1, 0);
    M(L, 153, 417, "dot", -1, 0);
    M(L, 230, 417, "j", -1, 0);
    M(L, 285, 417, Dc, -1, 0);
    Xc(Bb, 512, 430);
    for (a = 0; a < 220160; a++) {
      Bb.b[a] = q[a] & 16777215;
    }
    for (b = 220159; b >= 0; b--) {
      q[b] = 0;
    }
    fd();
  }
}
function nc(a) {
  var c;
  var b;
  var d;
  for (d = b = 0; b < gd; b++) {
    for (c = 0; c < r; c++, d++) {
      t[d] = 0;
      N[d] = 0;
      O[d] = 0;
      hd[d] = 0;
      id[d] = 0;
      P[d] = 0;
    }
  }
  sc();
  fc = 4;
  for (c = 0; c < 151552; c++) {
    F[c] = 0;
  }
  for (b = 0; b < 296; b++) {
    for (c = 0; c < 512; c++) {
      jd[b * 512 + c] = c < 8 || c >= 504 || b < 8 || b >= 288 ? false : true;
      Q[b * 512 + c] = (b >> 2) * r + (c >> 2);
    }
  }
  B[0] = 0;
  B[1] = 1;
  B[2] = 2;
  B[3] = 48;
  hc = 0;
  kd = 64;
  for (c = Wb = 0; c < ld * Xb; c++) {
    md[c] = 0;
  }
  for (c = 0; c < ld; c++) {
    x[c] = 0;
  }
  for (c = 0; c < ld; c++) {
    nd[c] = 0;
  }
  for (c = 0; c < ld; c++) {
    $b[c] = 0;
  }
  for (c = 0; c < ld; c++) {
    od[c] = 0;
  }
  for (c = 0; c < ld; c++) {
    pd[c] = 0;
  }
  for (c = 0; c < dc; c++) {
    y[c] = 0;
  }
  for (c = 0; c < dc; c++) {
    R[c] = 0;
  }
  for (c = 0; c < dc; c++) {
    qd[c] = 0;
  }
  for (c = 0; c < dc; c++) {
    rd[c] = 0;
  }
  if (a == 0) {
    for (a = 2; a < sd; a++) {
      t[r * 2 + a] = 1;
    }
    for (a = 2; a < sd; a++) {
      t[(gd - 3) * r + a] = 1;
    }
    for (c = 2; c < td; c++) {
      t[c * r + 2] = 1;
    }
    for (c = 2; c < td; c++) {
      t[c * r + r - 3] = 1;
    }
  }
  for (c = 8; c < 288; c++) {
    for (a = 8; a < 504; a++) {
      if (t[(c >> 2) * r + (a >> 2)] >= 1) {
        F[c * 512 + a] = 2;
      }
    }
  }
  ib = 0;
}
aa.fff = ud;
function ud() {
  if (vd > 0) {
    vd++;
  } else {
    var a;
    var c;
    var b;
    var d;
    var e;
    var f;
    var g;
    d = new ha();
    Ub(0);
    Lb("");
    Pb("");
    if (wd >= 280 && (xd || yd) && ca == 0) {
      ca = true;
    } else if (wd < 280 && (xd || yd) && ca == 1) {
      ca = false;
    }
    if (xd && !Sa) {
      if (Fc[48]) {
        ja = 0;
      } else if (Fc[49]) {
        ja = 1;
      } else if (Fc[50]) {
        ja = 2;
      } else if (Fc[51]) {
        ja = 3;
      } else if (Fc[52]) {
        ja = 4;
      } else if (Fc[53]) {
        ja = 5;
      } else if (Fc[54]) {
        ja = 6;
      } else if (Fc[55]) {
        ja = 7;
      } else if (Fc[56]) {
        ja = 8;
      } else if (Fc[57]) {
        ja = 9;
      } else if (Fc[32]) {
        qa = zd(qa + 1, 1);
      } else if (Fc[10] || Fc[13]) {
        qa = 1;
      } else if (Fc[108]) {
        Rb();
        ka = -10;
      } else if (Fc[106]) {
        Qa = zd(Qa + 1, 3);
      }
    }
    f = 13;
    g = 291;
    if (Ad(f - 4 - 8, g - 1 - 8, 495, 126) && ca && !Sa) {
      e = I((Bd - (f - 4 - 8)) / 55);
      c = I((wd - (g - 1 - 8)) / 14);
      c = e * 9 + c;
      if (c == 5) {
        if (yd) {
          if (h == 5) {
            Aa = zd(Aa + 8, 56);
          }
          h = c;
        } else if (Cd) {
          if (k == 5) {
            Aa = zd(Aa - 8, 56);
          }
          k = c;
        }
      } else if (c != 40 && c != 41 && c != 42 && c != 43 && c != 44 && c != 48) {
        if (c == 53) {
          if (yd) {
            if (h == 53) {
              Oa = zd(Oa + 1, 5);
            }
            h = c;
          } else if (Cd) {
            if (k == 53) {
              Oa = zd(Oa - 1, 5);
            }
            k = c;
          }
        } else if (c != 59 && c != 60 && c != 61) {
          if (c == 62) {
            Ra = zd(Ra + Dd, 1);
          } else if (c != 63) {
            if (c == 65) {
              if (yd) {
                if (h == 65) {
                  Ba = 1 - Ba;
                }
                h = c;
              }
              if (Cd) {
                if (k == 65) {
                  Ba = 1 - Ba;
                }
                k = c;
              }
            } else if (c == 66) {
              wa = zd(wa + Dd, 3);
            } else if (c == 67) {
              ja = zd(ja + Dd, 9);
            } else if (c == 68) {
              if (!ma && (yd || Cd)) {
                for (b = 147455; b >= 4096; b--) {
                  Bb.b[b] = q[b];
                }
              }
              if (yd) {
                if (h == 68 && ma < 4) {
                  ma++;
                  na += 496 >> ma >> 1;
                  oa += 280 >> ma >> 1;
                } else if (h == 68) {
                  ma = 0;
                }
                h = c;
              } else if (Cd) {
                if (k == 68 && ma > 0) {
                  na -= 496 >> ma >> 1;
                  oa -= 280 >> ma >> 1;
                  ma--;
                } else if (k == 68) {
                  ma = 4;
                  na += 248 - (496 >> ma >> 1) - 1;
                  oa += 140 - (280 >> ma >> 1) - 2;
                }
                k = c;
              }
              na = Ed(na, 0, 496 - (496 >> ma));
              oa = Ed(oa, 0, 280 - [280, 140, 70, 35, 18][ma]);
              if (!ma && (yd || Cd)) {
                for (b = 147455; b >= 4096; b--) {
                  q[b] = Bb.b[b];
                }
              }
            } else if (c == 69) {
              pa = zd(pa + Dd, 1);
            } else if (c == 70) {
              ra = zd(ra + Dd, 3);
            } else if (c == 71) {
              qa = zd(qa + Dd, 1);
            } else if (c == 72) {
              if (Dd) {
                Sa = 1;
              }
            } else if (c == 73) {
              if (yd || Cd) {
                Mb();
                ka = 10;
              }
            } else if (c == 74) {
              if (Dd) {
                Rb();
                ka = -10;
              }
            } else if (c != 75) {
              if (c == 76) {
                if (Dd) {
                  va = va ? false : true;
                  for (b = 147455; b >= 4096; b--) {
                    Fd[b] += va ? 1 : -1;
                  }
                  Gd = 1;
                  Hd();
                }
              } else if (c == 77) {
                sa = zd(sa + Dd, 1);
                if (Dd) {
                  if (sa == 0) {
                    for (a = 2; a < sd; a++) {
                      N[128 + a] = 0;
                      N[9216 + a] = 0;
                      O[128 + a] = 0;
                      O[9216 + a] = 0;
                      hd[128 + a] = 0;
                      hd[9216 + a] = 0;
                      id[128 + a] = 0;
                      id[9216 + a] = 0;
                      P[128 + a] = 0;
                      P[9216 + a] = 0;
                    }
                    for (c = 256; c < td << 7; c += r) {
                      N[c + 1] = 0;
                      N[c + sd] = 0;
                      O[c + 1] = 0;
                      O[c + sd] = 0;
                      hd[c + 1] = 0;
                      hd[c + sd] = 0;
                      id[c + 1] = 0;
                      id[c + sd] = 0;
                      P[c + 1] = 0;
                      P[c + sd] = 0;
                    }
                  } else if (sa == 1) {
                    for (a = 2; a < sd; a++) {
                      N[128 + a] = N[9088 + a];
                      N[9216 + a] = N[256 + a];
                      O[128 + a] = O[9088 + a];
                      O[9216 + a] = O[256 + a];
                      hd[128 + a] = hd[9088 + a];
                      hd[9216 + a] = hd[256 + a];
                      id[128 + a] = id[9088 + a];
                      id[9216 + a] = id[256 + a];
                      P[128 + a] = P[9088 + a];
                      P[9216 + a] = P[256 + a];
                    }
                    for (c = 256; c < td << 7; c += r) {
                      N[c + 1] = N[c + sd - 1];
                      N[c + sd] = N[c + 2];
                      O[c + 1] = O[c + sd - 1];
                      O[c + sd] = O[c + 2];
                      hd[c + 1] = hd[c + sd - 1];
                      hd[c + sd] = hd[c + 2];
                      id[c + 1] = id[c + sd - 1];
                      id[c + sd] = id[c + 2];
                      P[c + 1] = P[c + sd - 1];
                      P[c + sd] = P[c + 2];
                    }
                  }
                }
              } else if (c == 78) {
                la = zd(la + Dd, 16);
                if (Dd) {
                  for (a = 0; a < Ab.length; a++) {
                    Ab[a] = 0;
                  }
                }
              } else if (c == 79) {
                ua = zd(ua + Dd, 9);
              } else if (c == 80) {
                if (Dd) {
                  nc(0);
                }
              } else if (yd) {
                h = c;
              } else if (Cd) {
                k = c;
              }
            }
          }
        }
      }
    }
    if (!ca && !Sa) {
      fa = da;
      ga = ea;
      da = Ed(Bd + 8, 8, (r - 2) * 4 - 1);
      ea = Ed(wd + 8, 8, (gd - 2) * 4 - 1);
      if (ma > 0) {
        da = 8 + I(na) + (Bd >> ma);
        ea = 8 + I(oa) + (wd >> ma);
        da = Ed(da, 8, (r - 2) * 4 - 1);
        ea = Ed(ea, 8, (gd - 2) * 4 - 1);
      }
      if (yd) {
        fa = da;
        ga = ea;
      }
      if (wa == 1) {
        if (yd || Cd) {
          ya = da;
          za = ea;
        } else if (Id || Jd) {
          fa = ya;
          ga = za;
        }
      } else if (wa == 2 && (Kd || Ld)) {
        if (yd || Cd) {
          xa = 0;
        }
        if (!xa) {
          if (Md(da - fa) > Md(ea - ga)) {
            xa = 1;
          } else if (Md(da - fa) < Md(ea - ga)) {
            xa = 2;
          } else {
            da = fa;
            ea = ga;
          }
        }
        if (xa == 1) {
          ea = ga;
        } else if (xa == 2) {
          da = fa;
        }
      }
      S(d, da, ea);
      S(ia, fa - ia.x * 5, ga - ia.y * 5);
      c = 5;
      a = e = 0.5;
      Nd(Od, d, ia);
      c -= Pd(Od);
      e *= c;
      a *= c;
      d.x += Od.x * e;
      d.y += Od.y * e;
      ia.x -= Od.x * a;
      ia.y -= Od.y * a;
      Nd(ia, d, ia);
      Pd(ia);
      Qd(0);
      Qd(1);
      if (yd || Cd) {
        ib = Ed(ib + 1, 0, 65535);
      }
    }
    Ub(1);
    c = [1, 2, 4, 8];
    for (e = 0; e < c[ra] && (qa != 1 || xd && !Sa && Fc[10] | Fc[13]); e++) {
      Rd++;
      Sd();
      Td();
      Ud();
      Vd();
      Wd();
    }
    if (ma && pa != 0) {
      for (b = 147455; b >= 4096; b--) {
        q[b] = Bb.b[b];
      }
    }
    Xd();
    if (ma) {
      for (b = 147455; b >= 4096; b--) {
        Bb.b[b] = q[b];
      }
      e = 8 + I(na);
      c = 8 + I(oa);
      if (ma <= 3) {
        Yd(8, 280, e, c, 280 >> ma);
      } else if (ma == 4) {
        Yd(8, 272, e, c, 17);
        Yd(280, 8, e, c + 17, 1);
      }
    }
    d = 220160;
    for (b = 147456; b < d; b++) {
      q[b] = Bb.b[b];
    }
    if (Ad(f - 4 - 8, g - 1 - 8, 495, 126) && ca && !Sa) {
      e = I((Bd - (f - 4 - 8)) / 55);
      c = I((wd - (g - 1 - 8)) / 14);
      e = f - 4 + e * 55;
      c = g - 1 + c * 14;
      d = 55;
      a = 13;
      var m;
      d = e + d > 512 ? 512 : ~~(e + d);
      e = e < 0 ? 0 : ~~e;
      b = (c < 0 ? 0 : ~~c) * 512 + e;
      m = 512 - (d - e);
      d = b + d - e;
      for (a = (c + a > 430 ? 430 : ~~(c + a)) * 512; b < a; b += m, d += 512) {
        for (; b < d; b++) {
          if ((q[b] & 16777215) == 4210752) {
            q[b] = 4194304;
          }
        }
      }
    }
    if (ca) {
      Zd(8, 288, 504, 288, 6684672);
    }
    ed(f + 0 - 2, g + 70, "    " + I(Aa * 360 / 64) + "'", 8421631, 0, -1);
    ed(f + 275, g + 112, "JOINT-n J-left J-right J-scale J-none J-blind".split(" ")[Oa], 15908203, 0, -1);
    if (Ra == 1) {
      ed(f + 330, g + 112, "MiniMap", 16777215, 16711680, -1);
    }
    if (Ba) {
      ed(f + 408, g + 28, "Paste", 16728128, -1, -3);
    } else {
      ed(f + 385 - 1, g + 28, "Copy", 16728128, -1, -2);
    }
    c = ["free", "line", "lock", "paint"];
    if (wa < 3) {
      ed(f + 386, g + 42, "   " + c[wa], 16777215, 0, -1);
    } else {
      ed(f + 389, g + 42, "   " + c[wa], 16777215, 0, -2);
    }
    ed(f + 385, g + 56, "      " + ja, 16777215, 0, -1);
    ed(f + 385, g + 70, "      " + ["x1", "x2", "x4", "x8", "16"][ma], 16777215, 0, -2);
    ed(f + 385, g + 84, " " + ["normal", "exact"][pa], 16777215, 0, -1);
    ed(f + 385, g + 98, "       " + (1 << ra), 16777215, 0, -2);
    if (qa == 0) {
      ed(f + 385 - 1, g + 112, "Start", 16728128, -1, -3);
    } else {
      ed(f + 410, g + 112, "Stop", 16728128, -1, -2);
    }
    if (fb == 2) {
      M(L, f + 440, g + 0, "UPLOAD", 5259328, 3158064);
    }
    if (ka > 0) {
      ka--;
      if (ka > 1) {
        M(L, f + 440, g + 14, "SAVE", 16777215, 16711680);
      }
    }
    if (ka < 0) {
      ka++;
      if (ka < -1) {
        M(L, f + 440, g + 28, "LOAD", 16777215, 16711680);
      }
    }
    M(L, f + 440, g + 56, va ? "  on" : "  off", -1, 0);
    c = ["OFF", "LOOP"];
    ed(f + 465, g + 70, c[sa], -1, 0, -2);
    ed(f + 465, g + 70, c[sa], 16777215, -1, -2);
    c = "non air line blur g-map shade aura light toon mesh gray track dark TG silet mosaic color ".split(" ");
    if (la == 15) {
      ed(f + 443, g + 84, "   " + c[la], -1, 0, -3);
      ed(f + 443, g + 84, "   " + c[la], 16777215, -1, -3);
    } else {
      ed(f + 440, g + 84, "   " + c[la], -1, 0, -2);
      ed(f + 440, g + 84, "   " + c[la], 16777215, -1, -2);
    }
    M(L, f + 440, g + 98, "     " + ua, 8388608, 0);
    dd(f - 4 + I(h / 9) * 55, g + 1 + h % 9 * 14, 3, 4, 16711680);
    dd(f - 4 + I(k / 9) * 55, g + 6 + k % 9 * 14, 3, 4, 255);
    M(L, f + 56, g + 126, " " + (da - 8), -1, 0);
    M(L, f + 56, g + 126, "      " + (ea - 8), -1, 0);
    M(L, f + 140, g + 126, "   " + ($d - fc), -1, 0);
    if (Qa == 0) {
      M(L, f + 217, g + 126, " " + hc, -1, 0);
    } else if (Qa == 1) {
      M(L, f + 217, g + 126, " " + hc, -1, 14540253);
    } else if (Qa == 2) {
      M(L, f + 217, g + 126, " " + hc, -1, 2236962);
    } else if (Qa == 3) {
      M(L, f + 217, g + 126, " " + hc, 0, -1);
    }
    M(L, f + 0, g + 126, ae + be, -1, 0);
    if (Ra == 1) {
      f = 13;
      g = 291;
      if (Bd < 166 && ca) {
        f = 178;
      }
      dd(f, g, 124, 70, 0);
      for (b = a = 0; a < Wb; a++, b += Xb) {
        e = I(w[b + 4].x) - 8;
        c = I(w[b + 4].y) - 8;
        if (!(e < 0) && !(e >= 496) && !(c < 0) && !(c >= 280)) {
          e >>= 2;
          c >>= 2;
          d = (g + c) * 512 + (f + e);
          if (x[a] == Zb) {
            q[d] = 45;
          } else if (x[a] == ac) {
            q[d] = 46;
          } else if (x[a] == bc) {
            q[d] = 47;
          } else if (x[a] == bc + 1) {
            q[d] = 47;
          } else if (x[a] == cc) {
            q[d] = 49;
          }
        }
      }
      for (a = 0; a < dc; a++) {
        if (y[a] != 0) {
          e = I(z[a].x) - 8;
          c = I(z[a].y) - 8;
          if (!(e < 0) && !(e >= 496) && !(c < 0) && !(c >= 280)) {
            e >>= 2;
            c >>= 2;
            d = (g + c) * 512 + (f + e);
            q[d] = 48;
          }
        }
      }
      for (c = 0; c < 70; c++) {
        for (e = 0; e < 124; e++) {
          b = (c + 2) * r + (e + 2);
          d = (c + 2) * 2048 + (e + 2) * 4;
          a = q[(g + c) * 512 + (f + e)];
          if (a == 0) {
            if (t[b] == 1) {
              a = 2;
            } else if (t[b] == 2) {
              a = 3;
            } else if (t[b] == 3) {
              a = 4;
            } else {
              a = B[F[d]];
              if (a == 48) {
                a = 0;
              }
              if (a == 0) {
                a = B[F[d + 513]];
              }
              if (a == 48) {
                a = 0;
              }
            }
          }
          d = n;
          if (la == 10) {
            d = Gb;
          } else if (la == 12) {
            if (a != 7 && a != 21 && a != 26 && a != 29 && a != 32 && a != 41) {
              a = 0;
            }
          } else if (la == 14) {
            a = a == 0 ? 12 : 0;
          }
          q[(g + c) * 512 + (f + e)] = d[a];
          if (la == 16 && a == 0) {
            d = (n[Cb[h]] & 255) + (n[Cb[k]] & 255) >> 1;
            q[(g + c) * 512 + (f + e)] = (n[Cb[h]] >> 16 & 255) + (n[Cb[k]] >> 16 & 255) >> 1 << 16 | (n[Cb[h]] >> 8 & 255) + (n[Cb[k]] >> 8 & 255) >> 1 << 8 | d;
          }
        }
      }
    }
    Ub(0);
    if (Sa == -1) {
      Sa++;
    }
    if (gb == 1) {
      if (Ya) {
        ce(nb, "クリックで再生、ＬＯＡＤで再スタート");
      } else {
        ce(nb, "Click to play, LOAD to restart.");
      }
      gb = 0;
      Sa = 10;
    } else if (gb == 2) {
      if (Ya) {
        ce(nb, "エラー");
      } else {
        ce(nb, "Error");
      }
      gb = 0;
      Sa = 10;
    }
    if (Sa == 1) {
      ma = 0;
      if (!fb) {
        f = $c(47, 115, 99, 111, 114, 101, 47, 100, 117, 115, 116, 50, 46, 112, 104, 112, 63, 97, 61);
        f += Ua;
        f += de + (Ya ? "0" : "1");
        ad(f, "");
        if (bd == 1 && cd[0] == "ok") {
          fb = 1;
        } else {
          fb = 2;
          hb = cd[0] == "err1" ? 1 : cd[0] == "err2" ? 2 : cd[0] == "err3" ? 3 : cd[0] == "err4" ? 4 : cd[0] == "err5" ? 5 : 0;
        }
      }
      Sa++;
    }
    if (Sa == 2) {
      if (fb == 1) {
        if (ib < 10) {
          if (Ya) {
            ce(nb, "もう少し作り込んで下さい。");
          } else {
            ce(nb, "Please carefully created.");
          }
        } else if (Ya) {
          ce(nb, "タイトルを記入してＯＫを押して下さい");
        } else {
          ce(nb, "Enter the title and click OK.");
        }
      } else if (fb == 2) {
        if (Ya) {
          if (hb == 1) {
            ce(nb, "ユーザー登録が必要です");
          } else if (hb == 2) {
            ce(nb, "1日に1回のみです");
          } else if (hb == 3) {
            ce(nb, "ダウンロードデータ");
          } else if (hb == 4) {
            ce(nb, "過去12時間の作品数が50件に達した為ｱｯﾌﾟ出来ません");
          } else if (hb == 5) {
            ce(nb, "言語エラー");
          } else if (hb == 6) {
            ce(nb, "作者のみです");
          } else {
            ce(nb, "アップロード出来ません");
          }
        } else if (hb == 1) {
          ce(nb, "User registration is required.");
        } else if (hb == 2) {
          ce(nb, "1 time in 1 days only.");
        } else if (hb == 3) {
          ce(nb, "Download data.");
        } else if (hb == 4) {
          ce(nb, "Reached 50 posts in 12 hours. Cannot upload.");
        } else if (hb == 5) {
          ce(nb, "Language error.");
        } else if (hb == 6) {
          ce(nb, "Author only.");
        } else {
          ce(nb, "Cannot upload.");
        }
      }
      Sa++;
    } else if (Sa == 3) {
      dd(96, 100, 320, 100, 8421504);
      ee(256, 114, "UPLOAD", 16752800);
      fe(135);
      if (fb == 1 && ib >= 10 && (dd(140, 150, 232, 16, 16777215), ge(139, 149, 234, 0), Ad(132, 142, 232, 16) && (ge(139, 149, 234, 16711680), Id && (f = he("Text", ob), f != null && (ob = f))), ce(qb, ob), ie(qb, 141, 150, 230, 16, 230, 16, 0), d = Ad(200, 172, 16, 12), ee(216, 186, "OK", d ? 16711680 : 16777215), d && Id)) {
        if (ob.length < 2) {
          if (Ya) {
            ce(nb, "タイトルを２文字以上記入して下さい");
          } else {
            ce(nb, "The title must be longer than 2 characters.");
          }
        } else {
          f = ob;
          g = 0;
          c = f.length;
          for (e = 0; e < c; e++) {
            d = f.charCodeAt(e);
            g = d >= 0 && d <= 128 || d >= 65377 && d <= 65439 ? g + 1 : g + 2;
          }
          if (g > 20) {
            if (Ya) {
              ce(nb, "タイトルを１０文字以下で記入して下さい");
            } else {
              ce(nb, "The title must be shorter than 20 characters.");
            }
          } else {
            Sa++;
          }
        }
      }
      d = Ad(264, 172, 48, 12);
      ee(296, 186, "CANCEL", d ? 16711680 : 16777215);
      if (d && Id) {
        Sa = 5;
      }
    } else if (Sa == 4) {
      ob = encodeURIComponent(ob);
      if (!ob.length) {
        Sa = 3;
        if (Ya) {
          ce(nb, "エラー");
        } else {
          ce(nb, "Error");
        }
        Ub(1);
        return;
      }
      Mb();
      Nb(0);
      f = $c(47, 115, 99, 111, 114, 101, 47, 100, 117, 115, 116, 50, 46, 112, 104, 112, 63, 97, 61);
      f += Ua;
      f += de + (Ya ? "0" : "1");
      f += je + ab;
      f += ke + cb;
      f += le + eb;
      f += me + jb;
      f += ne + kb;
      f += oe + ob;
      g = "i=" + $a;
      g += re + bb;
      g += se + db;
      ad(f, g);
      fb = 2;
      Sa++;
    } else if (Sa == 5) {
      Sa = 0;
    } else if (Sa == 10) {
      dd(128, 288, 256, 70, 6291456);
      dd(132, 292, 248, 62, 6316128);
      ee(256, 302, "DOWNLOAD", 16752800);
      fe(323);
      if (Bd < 248) {
        ee(226, 345, "START", 16711680);
        ee(286, 345, "STOP", 16777215);
      } else {
        ee(226, 345, "START", 16777215);
        ee(286, 345, "STOP", 16711680);
      }
      if (Id) {
        Sa = 0;
        qa = Bd < 248 ? 0 : 1;
      } else if (Hc[37] || Hc[39]) {
        Sa = 0;
        qa = Hc[37] ? 0 : 1;
      }
    } else if (Sa == 20) {
      ob = "";
      Sa++;
    } else if (Sa == 21) {
      dd(136, 289, 240, 99, 8421504);
      dd(140, 297, 232, 16, 16777215);
      ge(139, 296, 234, 0);
      if (Ad(132, 289, 232, 16)) {
        ge(139, 296, 234, 16711680);
        if (Id) {
          f = he("Text", ob);
          if (f != null) {
            ob = f;
          }
        }
      }
      M(L, 141, 300, ob.substr(0, 28), 16777215, 0);
      if (ub == 3) {
        dd(288, 320, 84, 16, 16777215);
        ge(287, 319, 86, 0);
        if (Ad(280, 312, 84, 16)) {
          ge(287, 319, 86, 16711680);
          if (Id) {
            f = he("setFont", pb);
            if (f != null) {
              pb = f;
            }
          }
        }
        M(L, 289, 323, pb.substr(0, 10), 16777215, 0);
      }
      a = -1;
      if (Bd >= 128 && Bd < 268 && wd >= 314 && wd < 362) {
        a = I((wd - 314) / 16);
        if (a == 0 && Dd) {
          ub = zd(ub + Dd, 5);
        }
        if (a == 1 && Dd) {
          vb = zd(vb + Dd, 3);
        }
        if (a == 2 && Dd) {
          wb = zd(wb + Dd, 10);
        }
      }
      M(L, 140, 322, "font :" + xb[ub], a == 0 ? 16711680 : 16777215, 0);
      M(L, 140, 338, "style:" + yb[vb], a == 1 ? 16711680 : 16777215, 0);
      M(L, 140, 354, "size :" + zb[wb], a == 2 ? 16711680 : 16777215, 0);
      a = -1;
      if (Bd >= 128 && Bd < 368 && wd >= 362 && wd < 380) {
        a = Bd < 248 ? 0 : 1;
        if (yd) {
          if (a) {
            Sa = 23;
          } else {
            Sa++;
          }
        }
      }
      M(L, 206, 372, "OK", a ? 16777215 : 16711680, 0);
      M(L, 256, 372, "CANCEL", a == 1 ? 16711680 : 16777215, 0);
      f = xb[ub];
      if (ub == 3) {
        f = pb;
      }
      te(qb, ob, f, vb, zb[wb]);
      f = 5;
      if (Cb[h] != 0) {
        f = Cb[h];
      } else if (Cb[k] != 0) {
        f = Cb[k];
      }
      if (f == 37 || f == 2 || f == 3 || f == 4) {
        f = 5;
      }
      ie(qb, rb, sb, qb.f, 128, qb.f, 128, n[f]);
    } else if (Sa == 22) {
      f = "sex gay fuck suck crap shit dick penis bitch ** セックス エッチ ちんこ チンコ まんこ マンコ 原爆 原子爆 核 被爆 死 殺 票 評 拍手 人気 参加 アンケート 削除 消去 ttp www. .com .jp".split(" ");
      g = "";
      for (a = 0; a < ob.length; a++) {
        c = ob[a];
        if (c != " " && c != "　") {
          g += c;
        }
      }
      g = g.toLowerCase();
      for (a = 0; a < f.length && !(g.indexOf(f[a]) >= 0); a++);
      if (a != f.length) {
        Sa = 23;
        return;
      }
      f = xb[ub];
      if (ub == 3) {
        f = pb;
      }
      te(qb, ob, f, vb, zb[wb]);
      f = 5;
      if (Cb[h] != 0) {
        f = Cb[h];
      } else if (Cb[k] != 0) {
        f = Cb[k];
      }
      if (f == 37 || f == 2 || f == 3 || f == 4) {
        f = 5;
      }
      for (c = 0; c < 128 && !(sb + c >= 288); c++) {
        for (e = 0; e < 496 && !(rb + e >= 504); e++) {
          if (qb.b[c * qb.h + e] != -1 && F[(sb + c) * 512 + (rb + e)] == 0) {
            b = qc(rb + e, sb + c, f, 0);
            if (b >= 0 && f == 1) {
              H[b].x = Math.cos(Aa * rc / 32) * 0.01;
              H[b].y = -Math.sin(Aa * rc / 32) * 0.01;
              D[b] = Aa;
              F[(sb + c) * 512 + (rb + e)] = 1;
            }
          }
        }
      }
      Sa++;
    } else if (Sa == 23) {
      Sa = 0;
    }
    Ub(1);
  }
}
function Qd(a) {
  var c;
  var b;
  var d;
  var e;
  var f;
  e = new ha();
  var g = a == 0 ? h : k;
  var m = a == 0 ? yd : Cd;
  b = a == 0 ? Id : Jd;
  f = a == 0 ? Kd : Ld;
  if (g < 40) {
    if (wa == 1) {
      f = a == 0 ? Id : Jd;
    }
    if (f) {
      var m = da - fa;
      var p = ea - ga;
      if (!(ja <= 1) || qa != 1 || !(ma <= 1) || m || p || wa == 3) {
        var u = ue(ue(Md(m), Md(p)), 1);
        var m = I((m << 8) / u);
        var p = I((p << 8) / u);
        var v = (fa << 8) + 127;
        var G = (ga << 8) + 127;
        for (c = 0; c <= u; c++, v += m, G += p) {
          var K = ja + 0;
          var W = (v >> 8) - K;
          b = (G >> 8) - K;
          var ta = W + K * 2;
          var lb = b + K * 2;
          if (W < 8) {
            W = 8;
          }
          if (b < 8) {
            b = 8;
          }
          if (ta > 503) {
            ta = 503;
          }
          if (lb > 287) {
            lb = 287;
          }
          d = b * 512 + W;
          var tb = 512 - (ta - W + 1);
          for (f = b; f <= lb; f++, d += tb) {
            for (e = W; e <= ta; e++, d++) {
              if (!(K * K + 1 < (e - (v >> 8)) * (e - (v >> 8)) + (f - (G >> 8)) * (f - (G >> 8)))) {
                if (wa == 3) {
                  b = Cb[g] != 0 ? Cb[g] : 5;
                  var Va = 0;
                  if (b != 1) {
                    if (b == 15) {
                      if (Db[h] != 0) {
                        Va = Db[h];
                      } else if (Db[k] != 0) {
                        Va = Db[k];
                      } else {
                        Va = 5;
                      }
                    } else if (b == 32) {
                      Va = I(ve(ia) * 8 / we + 0.5) & 7;
                      Va += 1;
                    } else if (b == 52) {
                      Va = a == 0 ? 0 : 1;
                    }
                    if (F[d] >= 4 && B[F[d]] != b) {
                      zc(d, B[F[d]], b, Va);
                    }
                  }
                } else if (F[d] == 0) {
                  Va = Cb[g];
                  if ((a == 0 && Ld && k < 40 || a == 1 && Kd && h < 40) && xe(0.5)) {
                    Va = Cb[a == 0 ? k : h];
                  }
                  b = qc(e, f, Va, 0);
                  if (!(b < 0)) {
                    if (Va == 1) {
                      H[b].x = Math.cos(Aa * rc / 32) * 0.01;
                      H[b].y = -Math.sin(Aa * rc / 32) * 0.01;
                      D[b] = Aa;
                      F[d] = 1;
                    } else if (Va == 15) {
                      D[b] = Db[h] != 0 ? Db[h] : Db[k] != 0 ? Db[k] : 5;
                    } else if (Va == 32) {
                      Va = I(ve(ia) * 8 / we + 0.5) & 7;
                      D[b] = Va + 1;
                    } else if (Va == 52) {
                      D[b] = a == 0 ? 0 : 1;
                      C[b] = a == 0 ? 6702131 : 3359829;
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  } else if (g == 45) {
    b = (ea >> 2) * r + (da >> 2);
    if (f && t[b] == 0) {
      N[b] += ia.x * (ja + 1);
      O[b] += ia.y * (ja + 1);
      S(e, N[b], O[b]);
      if (ye(e) > 10 && qa == 1) {
        Pd(e);
        N[b] = e.x * 10;
        O[b] = e.y * 10;
      }
    }
  } else if (g == 46) {
    if (f) {
      b = (ea >> 2) * r + (da >> 2);
      d = ja + 1;
      if (a == 0) {
        if (t[b - r] == 0) {
          N[b - r] += d;
          O[b - r] += d;
        }
        if (t[b + 1] == 0) {
          N[b + 1] -= d;
          O[b + 1] += d;
        }
        if (t[b + r] == 0) {
          N[b + r] -= d;
          O[b + r] -= d;
        }
        if (t[b - 1] == 0) {
          N[b - 1] += d;
          O[b - 1] -= d;
        }
        if (t[b - r + 1] == 0) {
          N[b - r + 1] += d;
          O[b - r + 1] += d;
        }
        if (t[b + r + 1] == 0) {
          N[b + r + 1] -= d;
          O[b + r + 1] += d;
        }
        if (t[b + r - 1] == 0) {
          N[b + r - 1] -= d;
          O[b + r - 1] -= d;
        }
        if (t[b - r - 1] == 0) {
          N[b - r - 1] += d;
          O[b - r - 1] -= d;
        }
      } else {
        if (t[b - r] == 0) {
          N[b - r] -= d;
          O[b - r] += d;
        }
        if (t[b - 1] == 0) {
          N[b - 1] += d;
          O[b - 1] += d;
        }
        if (t[b + r] == 0) {
          N[b + r] += d;
          O[b + r] -= d;
        }
        if (t[b + 1] == 0) {
          N[b + 1] -= d;
          O[b + 1] -= d;
        }
        if (t[b - r - 1] == 0) {
          N[b - r - 1] -= d;
          O[b - r - 1] += d;
        }
        if (t[b + r - 1] == 0) {
          N[b + r - 1] += d;
          O[b + r - 1] += d;
        }
        if (t[b + r + 1] == 0) {
          N[b + r + 1] += d;
          O[b + r + 1] -= d;
        }
        if (t[b - r + 1] == 0) {
          N[b - r + 1] -= d;
          O[b - r + 1] -= d;
        }
      }
    }
  } else if (g == 49 || g == 50 || g == 52) {
    e = da >> 2 << 2;
    f = ea >> 2 << 2;
    b = (ea >> 2 << 7) + (da >> 2);
    if (m && t[b] == 0) {
      if (g == 49) {
        b = 45;
        for (a = 0; a < Wb; a++) {
          if (x[a] == Zb) {
            b = 46;
          }
        }
        if (Eb[h] != 0) {
          d = Eb[h];
        } else if (Eb[k] != 0) {
          d = Eb[k];
        } else {
          d = 0;
        }
        oc(e, f, b, d);
      } else if (g == 50) {
        oc(e, f, 47, 0);
      } else if (g == 52) {
        oc(e, f, 49, 0);
      }
    }
  } else if (g == 51) {
    b = (ea >> 2 << 7) + (da >> 2);
    if (m && t[b] == 0) {
      if (Fb[h] != 0) {
        d = Fb[h];
      } else if (Fb[k] != 0) {
        d = Fb[k];
      } else {
        d = 5;
      }
      pc(da, ea, d);
    }
  } else if (g == 53) {
    if (m) {
      g = [0, -1, -512, 1, 512, -513, -511, 513, 511, -2, -1024, 2, 1024, 510, -514, -1025, -1023, -510, 514, 1025, 1023, -3, -1026, -1536, -1022, 3, 1026, 1536, 1022, 509, -515, -1537, -1535, -509, 515, 1537, 1535];
      v = u = p = m = 0;
      b = ea * 512 + da;
      for (a = 0; a < 37; a++) {
        e = tc(b + g[a]);
        f = uc(b + g[a]);
        if (e != -1) {
          p = 1;
          v = e;
          if ((pd[e] & 255) == 255) {
            e = -1;
          }
        } else if (f != -1) {
          p = 2;
          v = f;
          e = 0;
          if ((rd[f] & 255) == 255) {
            e = -1;
          }
        } else if (F[b + g[a]] >= 4) {
          p = 0;
          v = F[b + g[a]];
          e = 0;
          if ((yc[F[b + g[a]]] & 255) == 255) {
            e = -1;
          }
        }
        if (e != -1) {
          if (Pa == -1) {
            Pa = b + g[a];
          } else {
            e = tc(Pa);
            f = uc(Pa);
            if (e != -1) {
              m = 1;
              u = e;
              if ((pd[e] & 255) == 255) {
                e = -1;
              }
            } else if (f != -1) {
              m = 2;
              u = f;
              e = 0;
              if ((rd[f] & 255) == 255) {
                e = -1;
              }
            } else if (F[Pa] >= 4) {
              m = 0;
              u = F[Pa];
              e = 0;
              if ((yc[F[Pa]] & 255) == 255) {
                e = -1;
              }
            }
            if (e != -1 && b + g[a] != Pa) {
              vc(m, p, u, v, Oa);
            }
            Pa = -1;
          }
          break;
        }
      }
      if (a == 37) {
        Pa = -1;
      }
    }
  } else if (g == 54 || g == 55 || g == 56 || g == 57 || g == 58) {
    if (wa == 1) {
      f = a == 0 ? Id : Jd;
    }
    if (f) {
      d = ja;
      if (g != 56 && ja == 0) {
        d = 1;
      }
      m = I(da / 4) - I(fa / 4);
      p = I(ea / 4) - I(ga / 4);
      u = ue(ue(Md(m), Md(p)), 1);
      m = I((m << 8) / u);
      p = I((p << 8) / u);
      v = (I(fa / 4) << 8) - 127;
      G = (I(ga / 4) << 8) - 127;
      for (a = 0; a <= u; a++, v += m, G += p) {
        c = (v >> 8) - I(d / 2);
        K = (G >> 8) - I(d / 2);
        W = c + d / 2 + 0.5;
        ta = K + d / 2 + 0.5;
        f = K;
        for (; f <= K + d; f++) {
          for (e = c; e <= c + d; e++) {
            if (!(e < 2) && !(sd <= e) && !(f < 2) && !(td <= f) && !((e - W) * (e - W) + (f - ta) * (f - ta) > I(d * d / 4))) {
              b = f * r + e;
              if (g == 54) {
                if (t[b] == 0) {
                  t[b] = 1;
                  N[b] = O[b] = hd[b] = id[b] = P[b] = 0;
                }
              } else if (g == 55) {
                if (t[b] == 2) {
                  ze(e, f, -1);
                } else if (t[b] == 3) {
                  ze(e, f, 1);
                }
                t[b] = -2;
              } else if (g == 56) {
                if (t[b] == 0) {
                  t[b] = -2;
                  N[b] = O[b] = hd[b] = id[b] = P[b] = 0;
                }
              } else if (g == 57) {
                if (t[b] == 0) {
                  t[b] = 2;
                  N[b] = O[b] = hd[b] = id[b] = P[b] = 0;
                  ze(e, f, 1);
                }
              } else if (g == 58 && t[b] == 0) {
                t[b] = 3;
                N[b] = O[b] = hd[b] = id[b] = P[b] = 0;
                ze(e, f, -1);
              }
            }
          }
        }
      }
      Hd();
      if (g == 56 && ja == 0) {
        m = da - fa;
        p = ea - ga;
        u = ue(ue(Md(m), Md(p)), 1);
        m = I((m << 8) / u);
        p = I((p << 8) / u);
        v = (fa << 8) + 127;
        G = (ga << 8) + 127;
        a = 0;
        for (; a <= u; a++, v += m, G += p) {
          for (b = 4; b < fc; b++) {
            if (v >> 8 == I(A[b].x) && G >> 8 == I(A[b].y)) {
              gc(b--);
            }
          }
        }
      }
      if (g == 54 || g == 56 || g == 57 || g == 58) {
        for (a = 4; a < fc; a++) {
          if (t[(A[a].y >> 2) * r + (A[a].x >> 2)] != 0) {
            gc(a--);
          }
        }
      }
      if (g == 54 || g == 55 || g == 57 || g == 58) {
        for (a = 0; a < Wb; a++) {
          if (x[a] == Zb || x[a] == ac || x[a] == bc || x[a] == bc + 1 || x[a] == cc) {
            for (c = 4; c < 6; c++) {
              b = (w[a * Xb + c].y >> 2 << 7) + (w[a * Xb + c].x >> 2);
              if (t[b] != 0) {
                Yb(a--);
                break;
              }
            }
          }
        }
        for (a = 0; a < dc; a++) {
          if (y[a] != 0 && (b = (z[a].y >> 2 << 7) + (z[a].x >> 2), t[b] != 0)) {
            b = (z[a].y << 9) + I(z[a].x);
            for (c = 0; c < 21; c++) {
              if (F[b + Ae[c]] == 3) {
                F[b + Ae[c]] = 0;
              }
            }
            ec(a);
          }
        }
      }
      if (g == 55 || g == 56) {
        for (f = 2; f <= td; f++) {
          for (e = 2; e <= sd; e++) {
            b = f * r + e;
            if (t[b] == -2) {
              t[b] = 0;
            }
          }
        }
      }
      b = 4104;
      for (f = 8; f < 288; f++, b += 16) {
        for (e = 8; e < 504; e++, b++) {
          d = (f >> 2) * r + (e >> 2);
          if (t[d] == 0 && F[b] == 2) {
            F[b] = 0;
          } else if (t[d] >= 1) {
            F[b] = 2;
          }
        }
      }
    }
  } else if (g == 64) {
    rb = da;
    sb = ea - 14;
    if (m) {
      Sa = 20;
    }
  } else if (g == 65) {
    if (m) {
      if (Ba) {
        if (qa != 1 || !(ma <= 1) || Ca != Ea || Da != Fa) {
          xc();
        }
      } else {
        Ca = Ea = da;
        Da = Fa = ea;
      }
    } else if (b && !Ba) {
      wc();
    } else if (f && !Ba) {
      Ea = da;
      Fa = ea;
    }
  } else if (g == 68 && f) {
    na -= (Bd - Be) / (1 << ma);
    oa -= (wd - Ce) / (1 << ma);
    na = Ed(na, 0, 496 - (496 >> ma));
    oa = Ed(oa, 0, 280 - [280, 140, 70, 35, 18][ma]);
  }
}
aa.fff = Xd;
function Xd() {
  var a;
  var c;
  var b;
  var d;
  var e;
  var f;
  var g;
  var m;
  var p;
  var u = new ha();
  var v = [1, 1, 1, 509, 1, 1, 1, 509, 1, 1, 1, 509, 1, 1, 1, 509];
  if (la == 0) {
    for (a = 147456; a > 4096; a--) {
      q[a] = 0;
    }
  } else if (la == 1 || la == 2) {
    b = 2;
    d = 258;
    for (; b < td; b++, d += 4) {
      for (c = 2; c < sd; c++, d++) {
        if (t[d] == 0) {
          if (P[d] > 0) {
            g = I(De(P[d] * 10, 96));
          } else {
            g = 0;
          }
          if (P[d] < 0) {
            m = I(De(P[d] * -10, 96));
          } else {
            m = 0;
          }
          dd(c << 2, b << 2, 4, 4, g << 8 | 0 | m);
        }
      }
    }
  } else if (la == 3) {
    for (a = 147456; a > 4096; a--) {
      if (t[Q[a]] == 0) {
        f = (q[a] >> 16 & 255) * 230 >> 8;
        g = (q[a] >> 8 & 255) * 230 >> 8;
        m = (q[a] & 255) * 230 >> 8;
        q[a] = f << 16 | g << 8 | m;
      }
    }
  } else if (la == 4) {
    d = 4104;
    b = 8;
    for (; b < 288; b++, d += 16) {
      for (c = 8; c < 504; c++, d++) {
        u.x = T[d + (c == 503 ? 0 : 1)] - T[d - (c == 8 ? 0 : 1)];
        u.y = U[d + (b == 287 ? 0 : 512)] - U[d - (b == 8 ? 0 : 512)];
        f = I((u.x + u.y) * 512);
        q[d] = f <= 0 ? De(-f, 255) : De(f, 255) << 8;
      }
    }
  } else if (la == 5) {
    for (b = 8; b < 288; b++) {
      d = (b << 9) + 8;
      for (c = 8; c < 503; c++, d++) {
        f = (q[d] >> 16 & 255) + (q[d + 1] >> 16 & 255) >> 1;
        g = (q[d] >> 8 & 255) + (q[d + 1] >> 8 & 255) >> 1;
        m = (q[d] & 255) + (q[d + 1] & 255) >> 1;
        q[d] = f << 16 | g << 8 | m;
      }
      for (c = 503; c > 8; c--, d--) {
        f = (q[d] >> 16 & 255) + (q[d - 1] >> 16 & 255) >> 1;
        g = (q[d] >> 8 & 255) + (q[d - 1] >> 8 & 255) >> 1;
        m = (q[d] & 255) + (q[d - 1] & 255) >> 1;
        q[d] = f << 16 | g << 8 | m;
      }
    }
    for (c = 8; c < 504; c++) {
      d = 4096 + c;
      for (b = 8; b < 287; b++, d += 512) {
        f = (q[d] >> 16 & 255) + (q[d + 512] >> 16 & 255) >> 1;
        g = (q[d] >> 8 & 255) + (q[d + 512] >> 8 & 255) >> 1;
        m = (q[d] & 255) + (q[d + 512] & 255) >> 1;
        q[d] = f << 16 | g << 8 | m;
      }
      for (b = 287; b > 8; b--, d -= 512) {
        f = (q[d] >> 16 & 255) + (q[d - 512] >> 16 & 255) >> 1;
        g = (q[d] >> 8 & 255) + (q[d - 512] >> 8 & 255) >> 1;
        m = (q[d] & 255) + (q[d - 512] & 255) >> 1;
        q[d] = f << 16 | g << 8 | m;
      }
    }
  } else if (la == 6) {
    var G;
    var K;
    var W;
    b = 2;
    for (d = 258; b < td; b++, d += 4) {
      for (c = 2; c < sd; c++, d++) {
        m = Md(N[d]);
        f = Md(O[d]);
        if (m != 0 || f != 0) {
          g = 1 / (m + f);
          p = I(m * g * 258);
          G = I(f * g * 258);
          K = N[d] < 0 ? -1 : 1;
          W = O[d] < 0 ? -512 : 512;
          e = (b << 11) + (c << 2);
          a = 0;
          for (; a < 16; a++) {
            f = (Ab[e + K] >> 16 & 255) + ((q[e] >> 16 & 255) * p >> 8);
            if (f > 255) {
              f = 255;
            }
            g = (Ab[e + K] >> 8 & 255) + ((q[e] >> 8 & 255) * p >> 8);
            if (g > 255) {
              g = 255;
            }
            m = (Ab[e + K] & 255) + ((q[e] & 255) * p >> 8);
            if (m > 255) {
              m = 255;
            }
            Ab[e + K] = f << 16 | g << 8 | m;
            f = (Ab[e + W] >> 16 & 255) + ((q[e] >> 16 & 255) * G >> 8);
            if (f > 255) {
              f = 255;
            }
            g = (Ab[e + W] >> 8 & 255) + ((q[e] >> 8 & 255) * G >> 8);
            if (g > 255) {
              g = 255;
            }
            m = (Ab[e + W] & 255) + ((q[e] & 255) * G >> 8);
            if (m > 255) {
              m = 255;
            }
            Ab[e + W] = f << 16 | g << 8 | m;
            e += v[a];
          }
        }
      }
    }
    for (a = 147456; a > 4096; a--) {
      if (t[Q[a]] == 0) {
        q[a] = Ab[a];
        Ab[a] = 0;
      }
    }
  } else if (la == 7) {
    for (a = 147456; a > 4096; a--) {
      if (t[Q[a]] == 0) {
        f = (q[a] >> 16 & 255) * 220 >> 8;
        g = (q[a] >> 8 & 255) * 220 >> 8;
        m = (q[a] & 255) * 220 >> 8;
        q[a] = f << 16 | g << 8 | m;
      }
    }
  } else if (la == 8) {
    for (a = 147968; a > 3584; a--) {
      if (F[a] == 2) {
        q[a] = 6316128;
      } else if (F[a] == 3) {
        q[a] = 0;
      } else if (F[a] == 1) {
        q[a] = 8421631;
      } else if (F[a] == 0) {
        q[a] = F[a + 1] >= 4 ? C[F[a + 1]] : F[a - 1] >= 4 ? C[F[a - 1]] : F[a + 512] >= 4 ? C[F[a + 512]] : F[a - 512] >= 4 ? C[F[a - 512]] : F[a + 513] >= 4 ? C[F[a + 513]] : F[a + 512 - 1] >= 4 ? C[F[a + 512 - 1]] : F[a - 512 + 1] >= 4 ? C[F[a - 512 + 1]] : F[a - 512 - 1] >= 4 ? C[F[a - 512 - 1]] : 0;
      } else if (F[a] >= 4) {
        q[a] = C[F[a]];
      }
    }
    for (a = 147456; a > 4096; a--) {
      if (q[a] == 0) {
        if (q[a + 1] != 0 && q[a + 1] != 15658734) {
          q[a] = 15658734;
        } else if (q[a - 1] != 0 && q[a - 1] != 15658734) {
          q[a] = 15658734;
        } else if (q[a + 512] != 0 && q[a + 512] != 15658734) {
          q[a] = 15658734;
        } else if (q[a - 512] != 0 && q[a - 512] != 15658734) {
          q[a] = 15658734;
        }
      }
    }
  } else if (la == 9) {
    for (a = 147456; a >= 4096; a--) {
      q[a] = 0;
    }
  } else if (la == 10) {
    b = 2;
    d = 258;
    for (; b < td; b++, d += 4) {
      for (c = 2; c < sd; c++, d++) {
        if (t[d] == 0) {
          f = 0;
          if (P[d] > 0) {
            f = I(De(P[d] * 10, 72));
          }
          if (P[d] < 0) {
            f = I(De(P[d] * -10, 24));
          }
          dd(c << 2, b << 2, 4, 4, f << 16 | f << 8 | f);
        }
      }
    }
  } else if (la == 11) {
    b = 2;
    d = 258;
    for (; b < td; b++, d += 4) {
      for (c = 2; c < sd; c++, d++) {
        if (t[d] == 0 && (p = 256 - I(De(Md(P[d]), 32)), p != 256)) {
          e = (b << 11) + (c << 2);
          a = 0;
          for (; a < 16; a++) {
            f = (q[e] >> 16 & 255) * p >> 8;
            g = (q[e] >> 8 & 255) * p >> 8;
            m = (q[e] & 255) * p >> 8;
            q[e] = f << 16 | g << 8 | m;
            e += v[a];
          }
        }
      }
    }
  } else if (la == 12) {
    for (a = 147456; a > 4096; a--) {
      q[a] = 0;
      Ab[a] = F[a] < 4 ? I(Ab[a] * 8 / 9) : B[F[a]] == 7 ? 25500 : B[F[a]] == 21 ? 25500 : B[F[a]] == 26 ? 255000 : B[F[a]] == 29 ? 255000 : B[F[a]] == 32 ? 25500 : B[F[a]] == 37 && C[F[a]] == n[29] ? 255000 : B[F[a]] == 41 ? 25500 : B[F[a]] == 50 && D[F[a]] != 0 ? 255000 : I(Ab[a] * 8 / 9);
    }
  } else if (la == 13) {
    for (a = 0; a < fc; a++) {
      Ab[E[a]] = Hb[B[a]];
    }
    for (b = 8; b < 288; b++) {
      d = (b << 9) + 8;
      for (c = 8; c < 503; c++, d++) {
        Ab[d] = Ab[d + 1] = Ab[d] + Ab[d + 1] >> 1;
      }
      for (c = 503; c > 8; c--, d--) {
        Ab[d] = Ab[d - 1] = Ab[d] + Ab[d - 1] >> 1;
      }
    }
    for (c = 8; c < 504; c++) {
      d = 4096 + c;
      for (b = 8; b < 287; b++, d += 512) {
        Ab[d] = Ab[d + 512] = Ab[d] + Ab[d + 512] >> 1;
      }
      for (b = 287; b > 8; b--, d -= 512) {
        Ab[d] = Ab[d - 512] = Ab[d] + Ab[d - 512] >> 1;
      }
    }
    for (a = 147456; a > 4096; a--) {
      p = Ab[a];
      if (p < 0) {
        f = -p >> 3;
        g = 0;
        m = -p >> 2;
      } else if (p < 1024) {
        g = f = 0;
        m = p >> 2;
      } else if (p < 2048) {
        f = 0;
        g = p - 1024 >> 2;
        m = 255;
      } else if (p < 3072) {
        f = 0;
        g = 255;
        m = 255 - (p - 2048 >> 2);
      } else if (p < 4096) {
        f = p - 3072 >> 2;
        g = 255;
        m = 0;
      } else if (p < 6144) {
        f = 255;
        g = 255 - (p - 4096 >> 3);
        m = 0;
      } else {
        f = 255;
        g = p - 6144 >> 3;
        if (g > 255) {
          g = 255;
        }
        m = p - 6144 >> 3;
        if (m > 255) {
          m = 255;
        }
      }
      q[a] = f << 16 | g << 8 | m;
    }
  } else if (la == 15) {
    for (a = 147456; a > 4096; a--) {
      q[a] = 0;
    }
  } else if (la == 16) {
    f = (n[Cb[h]] >> 16 & 255) + (n[Cb[k]] >> 16 & 255) >> 1;
    g = (n[Cb[h]] >> 8 & 255) + (n[Cb[k]] >> 8 & 255) >> 1;
    m = (n[Cb[h]] & 255) + (n[Cb[k]] & 255) >> 1;
    d = f << 16 | 0 | g << 8 | m;
    a = 147456;
    for (; a > 4096; a--) {
      q[a] = d;
    }
  }
  b = 2;
  for (d = 258; b < td; b++, d += 4) {
    for (c = 2; c < sd; c++, d++) {
      if (t[d] != 0) {
        e = (b << 11) + (c << 2);
        a = 0;
        for (; a < 16; a++) {
          q[e] = Ib[t[d]][a];
          e += v[a];
        }
      }
    }
  }
  if (la == 2) {
    b = 2;
    d = 258;
    for (; b < td; b++, d += 4) {
      for (c = 2; c < sd; c++, d++) {
        if (t[d] == 0) {
          S(u, N[d], O[d]);
          f = I(Pd(u) * 10);
          if (!(f < 2)) {
            if (f > 48) {
              f = 48;
            }
            a = (c << 2) + 2;
            p = (b << 2) + 2;
            Zd(a, p, a + u.x * f, p + u.y * f, f << 17 | 0);
          }
        }
      }
    }
  } else if (la == 9) {
    b = 2;
    d = 258;
    for (; b < td; b++, d += 4) {
      for (c = 2; c < sd; c++, d++) {
        if (t[d] == 0) {
          S(u, N[d], O[d]);
          a = ye(u);
          if (!(a < 0.2)) {
            g = I(De(a * 16, 80));
            f = 0;
            if (P[d] > 0) {
              f = I(De(P[d] * a, 80));
            }
            m = 0;
            if (P[d] < 0) {
              m = I(De(-P[d] * a, 80));
            }
            a = (c << 2) + N[d] * 5;
            p = (b << 2) + O[d] * 5;
            e = (c + 1 << 2) + N[d + 1] * 5;
            G = (b << 2) + O[d + 1] * 5;
            Zd(a, p, e, G, f << 16 | g << 8 | m);
            e = (c << 2) + N[d + r] * 5;
            G = (b + 1 << 2) + O[d + r] * 5;
            Zd(a, p, e, G, f << 16 | g << 8 | m);
          }
        }
      }
    }
  } else if (la == 14) {
    for (a = 147456; a > 4096; a--) {
      if (F[a] == 0) {
        f = 255 - (255 - (q[a] >> 16 & 255) >> 1);
        g = 255 - (255 - (q[a] >> 8 & 255) >> 1);
        m = 255 - (255 - (q[a] & 255) >> 1);
        q[a] = f << 16 | g << 8 | m;
      } else if (F[a] < 3) {
        q[a] = 0;
      }
    }
  }
  if (ua >= 2) {
    c = [0, 0, 124, 62, 32, 20, 16, 12, 8, 4];
    u = [0, 0, 70, 35, 32, 20, 16, 12, 8, 4];
    g = [0, 0, 0, 0, -8, 8, 8, -4, 0, 0];
    f = [0, 0, 0, 0, 12, 0, -4, -4, 0, 0];
    for (a = 0; a < 496; a += c[ua]) {
      b = 0;
      d = 4104 + a + g[ua];
      for (; b < 280; b++, d += 512) {
        if (q[d] != 6316128) {
          q[d] = 3355443;
        }
      }
    }
    for (a = 0; a < 280; a += u[ua]) {
      c = 0;
      d = (8 + a + f[ua]) * 512 + 8;
      for (; c < 496; c++, d++) {
        if (q[d] != 6316128) {
          q[d] = 3355443;
        }
      }
    }
  }
  if (ua >= 1) {
    b = 0;
    for (d = 4352; b < 280; b++, d += 512) {
      if (q[d] != 6316128) {
        q[d] = 4194304;
      }
    }
    c = 0;
    for (d = 75784; c < 496; c++, d++) {
      if (q[d] != 6316128) {
        q[d] = 4194304;
      }
    }
  }
  if (la == 7) {
    for (a = 4; a < fc; a++) {
      f = ((C[a] & 16711680) >> 18) + (q[E[a]] >> 16 & 255);
      if (f > 255) {
        f = 255;
      }
      g = ((C[a] & 65280) >> 10) + (q[E[a]] >> 8 & 255);
      if (g > 255) {
        g = 255;
      }
      m = ((C[a] & 255) >> 2) + (q[E[a]] & 255);
      if (m > 255) {
        m = 255;
      }
      q[E[a]] = f << 16 | g << 8 | m;
    }
  } else if (la != 8) {
    if (la == 10) {
      for (a = 4; a < fc; a++) {
        q[E[a]] = Gb[B[a]];
      }
    } else if (la == 14) {
      for (a = 4; a < fc; a++) {
        f = (q[E[a]] >> 16 & 255) - (255 - (C[a] >> 16 & 255) + 10);
        if (f < 0) {
          f = 0;
        }
        g = (q[E[a]] >> 8 & 255) - (255 - (C[a] >> 8 & 255) + 10);
        if (g < 0) {
          g = 0;
        }
        m = (q[E[a]] & 255) - (255 - (C[a] & 255) + 10);
        if (m < 0) {
          m = 0;
        }
        q[E[a]] = f << 16 | g << 8 | m;
      }
    } else if (la == 16) {
      for (a = 4; a < fc; a++) {
        q[E[a]] = q[E[a]] == C[a] ? 0 : C[a];
      }
    } else {
      for (a = 4; a < fc; a++) {
        q[E[a]] = C[a];
      }
    }
  }
  Ee();
  Fe();
  Ge();
  if (la == 12) {
    for (b = 8; b < 288; b++) {
      d = (b << 9) + 8;
      for (c = 8; c < 503; c++, d++) {
        Ab[d] = Ab[d] + Ab[d + 1] >> 1;
      }
      for (c = 503; c > 8; c--, d--) {
        Ab[d] = Ab[d] + Ab[d - 1] >> 1;
      }
    }
    for (c = 8; c < 504; c++) {
      d = 4096 + c;
      for (b = 8; b < 287; b++, d += 512) {
        Ab[d] = Ab[d] + Ab[d + 512] >> 1;
      }
      for (b = 287; b > 8; b--, d -= 512) {
        Ab[d] = Ab[d] + Ab[d - 512] >> 1;
      }
    }
    for (a = 147456; a > 4096; a--) {
      if (Ab[a] < 1) {
        q[a] = 0;
      } else {
        p = De(Ab[a], 255);
        f = (q[a] >> 16 & 255) * p >> 8;
        g = (q[a] >> 8 & 255) * p >> 8;
        m = (q[a] & 255) * p >> 8;
        q[a] = f << 16 | g << 8 | m;
      }
    }
  } else if (la == 15) {
    b = 2;
    d = 258;
    for (; b < td; b++, d += 4) {
      for (c = 2; c < sd; c++, d++) {
        p = m = g = f = 0;
        e = (b << 11) + (c << 2);
        for (a = 0; a < 16; a++) {
          if (q[e] != 0) {
            f += q[e] >> 16 & 255;
            g += q[e] >> 8 & 255;
            m += q[e] & 255;
            p++;
          }
          e += v[a];
        }
        if (p) {
          f = I(f / p);
          g = I(g / p);
          m = I(m / p);
          e = (b << 11) + (c << 2);
          a = 0;
          for (; a < 16; a++) {
            q[e] = a < 3 || a == 4 || a == 8 ? De(f + 48, 255) << 16 | De(g + 48, 255) << 8 | De(m + 48, 255) : a > 12 || a == 7 || a == 11 ? ue(f - 32, 0) << 16 | ue(g - 32, 0) << 8 | ue(m - 32, 0) : f << 16 | g << 8 | m;
            e += v[a];
          }
        }
      }
    }
  }
  He();
}
var Ie = [0, 0, 0, 0, 1, 1, 1, 2, 2, 2, 3];
var Je = [[], [1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4, 4], [1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4], [1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 4, 4, 4, 4], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 4, 4, 4, 4], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 4, 4, 4, 4], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 2, 2, 2, 2, 3, 3, 3, 3, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 4, 4, 4, 4, 1, 1, 1, 1, 4, 4, 4, 4], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 2, 2, 2, 2, 3, 3, 3, 3, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 4, 4, 4, 4, 1, 1, 1, 1, 4, 4, 4, 4], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 2, 2, 2, 2, 3, 3, 3, 3, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 4, 4, 4, 4, 1, 1, 1, 1, 4, 4, 4, 4], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 4, 4, 4, 4, 4, 4, 4, 4, 1, 1, 1, 1, 1, 1, 1, 1, 4, 4, 4, 4]];
aa.fff = He;
function He() {
  var a;
  var c;
  var b;
  var d;
  var e;
  var f = false;
  if (h == 54 || h == 55 || h == 56 || h == 57 || h == 58) {
    f = true;
  }
  var g = false;
  if (k == 54 || k == 55 || k == 56 || k == 57 || k == 58) {
    g = true;
  }
  if (!ca && !Sa) {
    if (f || g) {
      var m = ja;
      if (f && h != 56 && ja == 0) {
        m = 1;
      }
      if (g && k != 56 && ja == 0) {
        m = 1;
      }
      e = 4210752;
      if (f) {
        e |= 16711680;
      }
      if (g) {
        e |= 255;
      }
      b = (ea >> 2) - I(m / 2);
      c = ((da >> 2) - I(m / 2) + Ie[m]) * 4;
      b = (b + 0) * 4;
      for (a = 0; a < Je[m].length; a++) {
        d = Ed(b, 0, 288) * 512 + Ed(c, 0, 511);
        q[d] = e;
        if (Je[m][a] == 1) {
          c++;
        }
        if (Je[m][a] == 2) {
          b++;
        }
        if (Je[m][a] == 3) {
          c--;
        }
        if (Je[m][a] == 4) {
          b--;
        }
      }
    }
    if (h == 45 || k == 45 || h == 25 || k == 25) {
      e = 4210752;
      if (h == 45 || h == 25) {
        e |= 16711680;
      }
      if (k == 45 || k == 25) {
        e |= 255;
      }
      Zd(da + 0.5, ea + 0.5, da + 0.5 + ia.x * 30, ea + 0.5 + ia.y * 30, e);
    }
    if (h == 5 || k == 5) {
      e = 4210752;
      if (h == 5) {
        e |= 16711680;
      }
      if (k == 5) {
        e |= 255;
      }
      Zd(da + 0.5, ea + 0.5, da + 0.5 + Math.cos(Aa * rc / 32) * 20, ea + 0.5 - Math.sin(Aa * rc / 32) * 20, e);
    }
    if (wa == 1 && (Kd && (h < 40 || f) || Ld && (k < 40 || g))) {
      Zd(ya, za, da, ea, 16711680);
    }
    if (h == 64 || k == 64) {
      e = 4210752;
      if (h == 64) {
        e |= 16711680;
      }
      if (k == 64) {
        e |= 255;
      }
      Zd(rb, sb, rb, sb + 13, e);
      Zd(rb, sb, rb + 200, sb, e);
      Zd(rb, sb + 13, rb + 200, sb + 13, e);
    }
    if (h == 65 || k == 65) {
      if (Ba) {
        c = da - I((Ea - Ca) / 2);
        b = ea - I((Fa - Da) / 2);
        e = Ea - Ca;
        a = Fa - Da;
        Zd(c, b, c + e, b, 12632319);
        Zd(c, b + a, c + e, b + a, 12632319);
        Zd(c, b, c, b + a, 12632319);
        Zd(c + e, b, c + e, b + a, 12632319);
      } else if (h == 65 && Kd || k == 65 && Ld) {
        Zd(Ca, Da, Ea, Da, 16761024);
        Zd(Ca, Fa, Ea, Fa, 16761024);
        Zd(Ca, Da, Ca, Fa, 16761024);
        Zd(Ea, Da, Ea, Fa, 16761024);
      }
    }
    if (h == 53 || k == 53) {
      e = 4210752;
      if (h == 53) {
        e |= 16711680;
      }
      if (k == 53) {
        e |= 255;
      }
      f = [0, -1, -512, 1, 512, -513, -511, 513, 511, -2, -1024, 2, 1024, 510, -514, -1025, -1023, -510, 514, 1025, 1023, -3, -1026, -1536, -1022, 3, 1026, 1536, 1022, 509, -515, -1537, -1535, -509, 515, 1537, 1535];
      c = da;
      b = ea;
      d = ea * 512 + da;
      for (a = 0; a < 37; a++) {
        if (tc(d + f[a]) != -1 || uc(d + f[a]) != -1 || F[d + f[a]] >= 4) {
          c = d + f[a] & 511;
          b = I((d + f[a]) / 512);
          break;
        }
      }
      if (Pa != -1) {
        Zd(Pa & 511, Pa / 512, c, b, e);
      } else {
        Zd(c, b, da, ea, e);
      }
    }
  }
}
var Ke = 0.01;
var Le = 1 / Ke;
var r = 128;
var gd = 74;
var sd = r - 2;
var td = gd - 2;
var t = new Int8Array(gd * r);
var N = new Float32Array(gd * r);
var O = new Float32Array(gd * r);
var hd = new Float32Array(gd * r);
var id = new Float32Array(gd * r);
var P = new Float32Array(gd * r);
aa.fff = Sd;
function Sd() {
  var a;
  var c;
  var b;
  var d;
  var e;
  var f;
  var g;
  if (sa == 1) {
    for (a = 2; a < sd; a++) {
      N[128 + a] = N[9088 + a];
      N[9216 + a] = N[256 + a];
      O[128 + a] = O[9088 + a];
      O[9216 + a] = O[256 + a];
    }
    for (b = 256; b < td << 7; b += r) {
      N[b + 1] = N[b + sd - 1];
      N[b + sd] = N[b + 2];
      O[b + 1] = O[b + sd - 1];
      O[b + sd] = O[b + 2];
    }
  }
  b = 2;
  f = 258;
  for (g = f + 124; b < td; b++, f += 4, g += r) {
    for (; f < g; f++) {
      if (!(t[f] >= 1)) {
        P[f] *= 0.9;
        P[f] -= (N[f + 1] - N[f - 1] + O[f + r] - O[f - r]) * Le;
      }
    }
  }
  for (a = 0; a < 2; a++) {
    b = 2;
    for (f = 257; b < td; b++, f += 128) {
      if (sa == 1) {
        P[f + 125] = (P[f] + P[f + 1]) * 0.5;
      }
      for (c = 1; c < sd; c++, f++) {
        if (!(t[f] >= 1) && !(t[f + 1] >= 1)) {
          P[f] = (P[f] + P[f + 1]) * 0.5;
        }
      }
      for (c = sd; c >= 2; c--, f--) {
        if (!(t[f] >= 1) && !(t[f - 1] >= 1)) {
          P[f] = (P[f] + P[f - 1]) * 0.5;
        }
      }
    }
    c = 2;
    for (f = 130; c < sd; c++, f++) {
      for (b = 1; b < td; b++, f += 128) {
        if (!(t[f] >= 1) && !(t[f + r] >= 1)) {
          P[f] = (P[f] + P[f + r]) * 0.5;
        }
      }
      for (b = td; b >= 2; b--, f -= 128) {
        if (!(t[f] >= 1) && !(t[f - r] >= 1)) {
          P[f] = (P[f] + P[f - r]) * 0.5;
        }
      }
    }
  }
  if (sa == 1) {
    for (a = 2; a < sd; a++) {
      P[128 + a] = P[9088 + a];
      P[9216 + a] = P[256 + a];
    }
    for (b = 256; b < td << 7; b += r) {
      P[b + 1] = P[b + sd - 1];
      P[b + sd] = P[b + 2];
    }
  }
  var m;
  var p;
  var u;
  var v;
  var G;
  var K;
  b = 2;
  f = 258;
  for (g = f + 124; b < td; b++, f += 4, g += r) {
    for (; f < g; f++) {
      if (!(t[f] >= 1)) {
        a = f + 1;
        c = f - 1;
        d = f + r;
        e = f - r;
        m = Md(N[f]) * 3;
        p = Md(O[f]) * 3;
        u = N[f] * 6 * (N[a] - N[c]) + m * (N[f] * 2 - N[a] - N[c]);
        v = O[f] * 6 * (N[d] - N[e]) + p * (N[f] * 2 - N[d] - N[e]);
        G = (t[a] >= 1 ? P[f] : P[a]) - (t[c] >= 1 ? P[f] : P[c]);
        K = N[a] + N[c] - N[f] * 2;
        K += N[d] + N[e] - N[f] * 2;
        u = Ed(u + v + G, -10, 10);
        hd[f] = N[f] + Ke * (-u + K);
        u = N[f] * 6 * (O[a] - O[c]) + m * (O[f] * 2 - O[a] - O[c]);
        v = O[f] * 6 * (O[d] - O[e]) + p * (O[f] * 2 - O[d] - O[e]);
        G = (t[d] >= 1 ? P[f] : P[d]) - (t[e] >= 1 ? P[f] : P[e]);
        K = O[a] + O[c] - O[f] * 2;
        K += O[d] + O[e] - O[f] * 2;
        u = Ed(u + v + G, -10, 10);
        id[f] = O[f] + Ke * (-u + K);
        if (t[c] >= 1 && hd[f] < 0) {
          hd[f] *= 0.9;
        }
        if (t[a] >= 1 && hd[f] > 0) {
          hd[f] *= 0.9;
        }
        if (t[e] >= 1 && id[f] < 0) {
          id[f] *= 0.9;
        }
        if (t[d] >= 1 && id[f] > 0) {
          id[f] *= 0.9;
        }
      }
    }
  }
  f = N;
  N = hd;
  hd = f;
  f = O;
  O = id;
  id = f;
}
var Me = new Float32Array(151552);
var Fd = new Float32Array(151552);
var T = new Float32Array(151552);
var U = new Float32Array(151552);
var Gd = 0;
function Ne() {
  var a;
  var c;
  var b;
  var d = new ha();
  var e;
  for (b = c = 0; c < 280; c++, b += 16) {
    for (a = 0; a < 496; a++, b++) {
      d.x = -0.5 - a;
      d.y = -0.5 - c;
      e = Oe(d) + 16;
      e = 100 / (e * e);
      T[b] = d.x * e;
      U[b] = d.y * e;
    }
  }
}
function Pe(a, c) {
  var b;
  var d;
  var e;
  var f;
  e = 4104;
  f = (c - 8 - 1 << 9) + (a - 8 - 1);
  for (d = 8; d < c; d++, e += 16) {
    for (b = 8; b < a; b++, e++, f--) {
      Me[e] -= T[f];
      Fd[e] -= U[f];
    }
    for (f++; b < 504; b++, e++, f++) {
      Me[e] += T[f];
      Fd[e] -= U[f];
    }
    f += a + a - 1025;
  }
  for (f += 512; d < 288; d++, e += 16) {
    for (b = 8; b < a; b++, e++, f--) {
      Me[e] -= T[f];
      Fd[e] += U[f];
    }
    for (f++; b < 504; b++, e++, f++) {
      Me[e] += T[f];
      Fd[e] += U[f];
    }
    f += a + a - 1;
  }
}
function Qe(a, c) {
  var b;
  var d;
  var e;
  var f;
  e = 4104;
  f = (c - 8 - 1 << 9) + (a - 8 - 1);
  for (d = 8; d < c; d++, e += 16) {
    for (b = 8; b < a; b++, e++, f--) {
      Me[e] += T[f];
      Fd[e] += U[f];
    }
    for (f++; b < 504; b++, e++, f++) {
      Me[e] -= T[f];
      Fd[e] += U[f];
    }
    f += a + a - 1025;
  }
  for (f += 512; d < 288; d++, e += 16) {
    for (b = 8; b < a; b++, e++, f--) {
      Me[e] += T[f];
      Fd[e] -= U[f];
    }
    for (f++; b < 504; b++, e++, f++) {
      Me[e] -= T[f];
      Fd[e] -= U[f];
    }
    f += a + a - 1;
  }
}
function sc() {
  var a;
  var c;
  var b;
  for (b = 151551; b >= 0; b--) {
    Me[b] = 0;
    Fd[b] = va ? 1 : 0;
  }
  Ne();
  c = 10;
  for (b = 258; c < 288; c += 4, b += 4) {
    for (a = 10; a < 504; a += 4, b++) {
      if (t[b] == 2) {
        Pe(a, c);
      } else if (t[b] == 3) {
        Qe(a, c);
      } else {
        continue;
      }
      Gd++;
      if (!(Gd & 63)) {
        dd(12, 12, 80, 12, 0);
        M(L, 12, 12, "G-MAP " + Gd, 0, 6316128);
      }
    }
  }
  Gd = 1;
  Hd();
}
function ze(a, c, b) {
  if (!Gd) {
    Ne();
  }
  a = (a << 2) + 2;
  c = (c << 2) + 2;
  if (b > 0) {
    Pe(a, c);
  } else {
    Qe(a, c);
  }
  Gd++;
  if (!(Gd & 127)) {
    dd(12, 12, 80, 12, 0);
    M(L, 12, 12, "G-MAP " + Gd, 0, 6316128);
  }
}
function Hd() {
  if (Gd) {
    Gd = 0;
    var a;
    if (va == 0) {
      for (a = gd * r - 1; a >= 0 && t[a] != 2 && t[a] != 3; a--);
      if (a == -1) {
        for (a = 151551; a >= 0; a--) {
          Me[a] = 0;
          Fd[a] = 0;
        }
      }
    }
    var c = new ha();
    for (a = 147455; a >= 4096; a--) {
      S(c, Me[a], Fd[a]);
      Oe(c);
      T[a] = c.x;
      U[a] = c.y;
    }
  }
}
var hc = 0;
var Re = 999;
var kd = 64;
var jc = new Int32Array(Re);
var lc = new Int32Array(Re);
var kc = new Int32Array(Re);
var mc = new Int32Array(Re);
var Se = new Float32Array(Re);
var ic = new Int8Array(Re);
var Te = [16773360, 16777200, 15794160, 15794175, 15790335, 16773375];
function vc(a, c, b, d, e) {
  if (hc >= Re) {
    return -1;
  }
  var f = null;
  var g = null;
  var m = false;
  var p = false;
  if (a == 0) {
    f = A[b];
    if (B[b] == 28) {
      m = true;
    }
  } else if (a == 1) {
    f = w[b * Xb + 1];
  } else if (a == 2) {
    f = z[b];
  }
  if (c == 0) {
    g = A[d];
    if (B[d] == 28) {
      p = true;
    }
  } else if (c == 1) {
    g = w[d * Xb + 1];
  } else if (c == 2) {
    g = z[d];
  }
  if (m) {
    D[b] = 1;
  }
  if (p) {
    D[d] = 1;
  }
  if (m) {
    f = 4;
  } else {
    m = ~~g.x - ~~f.x;
    f = ~~g.y - ~~f.y;
    f = Math.sqrt(m * m + f * f);
  }
  jc[hc] = a;
  lc[hc] = c;
  kc[hc] = b;
  mc[hc] = d;
  Se[hc] = f;
  ic[hc] = e;
  if (a == 0) {
    yc[b]++;
  }
  if (c == 0) {
    yc[d]++;
  }
  if (a == 1) {
    pd[b]++;
  }
  if (c == 1) {
    pd[d]++;
  }
  if (a == 2) {
    rd[b]++;
  }
  if (c == 2) {
    rd[d]++;
  }
  hc++;
  return hc - 1;
}
function Ue(a, c) {
  for (var b = 0; b < hc; b++) {
    if (jc[b] == a && kc[b] == c || lc[b] == a && mc[b] == c) {
      if (jc[b] == 0 && B[kc[b]] == 28) {
        D[kc[b]] = 2;
      }
      if (lc[b] == 0 && B[mc[b]] == 28) {
        D[mc[b]] = 2;
      }
      hc--;
      if (jc[b] == 0) {
        yc[kc[b]]--;
      }
      if (lc[b] == 0) {
        yc[mc[b]]--;
      }
      if (jc[b] == 1) {
        pd[kc[b]]--;
      }
      if (lc[b] == 1) {
        pd[mc[b]]--;
      }
      if (jc[b] == 2) {
        rd[kc[b]]--;
      }
      if (lc[b] == 2) {
        rd[mc[b]]--;
      }
      jc[b] = jc[hc];
      lc[b] = lc[hc];
      kc[b] = kc[hc];
      mc[b] = mc[hc];
      Se[b] = Se[hc];
      ic[b] = ic[hc];
      b--;
    }
  }
}
function Ve(a, c, b) {
  for (var d = 0; d < hc; d++) {
    if (jc[d] == a && kc[d] == c) {
      kc[d] = b;
    }
    if (lc[d] == a && mc[d] == c) {
      mc[d] = b;
    }
  }
}
aa.fff = Ud;
function Ud() {
  var a = new ha();
  var c;
  var b = null;
  var d = null;
  var e = null;
  var f = null;
  var g = 1;
  var m = 1;
  kd++;
  for (var p = 0; p < hc; p++) {
    c = false;
    if (jc[p] == 0) {
      b = A[kc[p]];
      e = H[kc[p]];
      g = yc[kc[p]] & 255;
      if (B[kc[p]] == 28) {
        c = true;
      }
    } else if (jc[p] == 1) {
      b = w[kc[p] * Xb + 1];
      e = w[kc[p] * Xb + 1];
      g = pd[kc[p]] & 255;
    } else if (jc[p] == 2) {
      b = z[kc[p]];
      e = V[kc[p]];
      g = rd[kc[p]] & 255;
    }
    if (lc[p] == 0) {
      d = A[mc[p]];
      f = H[mc[p]];
      m = yc[mc[p]] & 255;
    } else if (lc[p] == 1) {
      d = w[mc[p] * Xb + 1];
      f = w[mc[p] * Xb + 1];
      m = pd[mc[p]] & 255;
    } else if (lc[p] == 2) {
      d = z[mc[p]];
      f = V[mc[p]];
      m = rd[mc[p]] & 255;
    }
    if (c) {
      Nd(a, A[mc[p]], A[kc[p]]);
      We(a);
      Oe(a);
      Xe(a, 0.1);
      H[kc[p]].add(a);
      H[mc[p]].add(a);
    }
    if (ic[p] == 1) {
      Nd(a, d, b);
      We(a);
      Oe(a);
      Xe(a, 0.1);
      e.sub(a);
      f.add(a);
    } else if (ic[p] == 2) {
      Nd(a, d, b);
      We(a);
      Oe(a);
      Xe(a, 0.1);
      e.add(a);
      f.sub(a);
    } else if (ic[p] == 4) {
      continue;
    }
    Nd(a, d, b);
    if (!c) {
      if (lc[p] != 1) {
        a.add(f);
      }
      if (jc[p] != 1) {
        a.sub(e);
      }
    }
    c = Oe(a);
    if (c != 0) {
      if (ic[p] == 3) {
        var u = kd & 255;
        if (u >= 128) {
          u = 256 - u;
        }
        c = (Se[p] * (0.5 + u / 128) - c) * 0.5;
      } else {
        c = (Se[p] - c) * 0.5;
      }
      e.x -= a.x * c / (g * 0.5 + 0.5);
      e.y -= a.y * c / (g * 0.5 + 0.5);
      f.x += a.x * c / (m * 0.5 + 0.5);
      f.y += a.y * c / (m * 0.5 + 0.5);
      if (jc[p] == 1) {
        e.x = Ed(e.x, 4, 508);
        e.y = Ed(e.y, 4, 292);
      }
      if (lc[p] == 1) {
        f.x = Ed(f.x, 4, 508);
        f.y = Ed(f.y, 4, 292);
      }
    }
  }
}
aa.fff = Ee;
function Ee() {
  var a;
  var c;
  var b;
  var d = null;
  var e = null;
  var f = 0;
  var g = 0;
  for (var m = 0; m < hc; m++) {
    if (jc[m] == 0) {
      d = A[kc[m]];
      f = C[kc[m]];
    } else if (jc[m] == 1) {
      d = w[kc[m] * Xb + 1];
      f = 16769198;
    } else if (jc[m] == 2) {
      d = z[kc[m]];
      f = n[y[kc[m]]];
    }
    if (lc[m] == 0) {
      e = A[mc[m]];
      g = C[mc[m]];
    } else if (lc[m] == 1) {
      e = w[mc[m] * Xb + 1];
      g = 16769198;
    } else if (lc[m] == 2) {
      e = z[mc[m]];
      g = n[y[mc[m]]];
    }
    a = (f >> 16 & 255) + (g >> 16 & 255) >> 1;
    c = (f >> 8 & 255) + (g >> 8 & 255) >> 1;
    b = (f & 255) + (g & 255) >> 1;
    if (Qa != 0) {
      if (Qa == 1) {
        Zd(d.x, d.y, e.x, e.y, 14540253);
      } else if (Qa == 2) {
        Zd(d.x, d.y, e.x, e.y, 2236962);
      }
    } else if (ic[m] != 5) {
      if (la == 10) {
        a = I((a * 2989 + c * 5866 + b * 1145) / 10000);
        Zd(d.x, d.y, e.x, e.y, a << 16 | a << 8 | a);
      } else if (la == 14) {
        Zd(d.x, d.y, e.x, e.y, 0);
      } else {
        Zd(d.x, d.y, e.x, e.y, a << 16 | c << 8 | b);
      }
    }
  }
}
var fc = 4;
var $d = 40004;
var A = Array($d);
for (ba = 0; ba < $d; ba++) {
  A[ba] = new ha();
}
var H = Array($d);
for (ba = 0; ba < $d; ba++) {
  H[ba] = new ha();
}
var B = new Int8Array($d);
var D = new Int32Array($d);
var C = new Int32Array($d);
var F = new Int32Array(151552);
var E = new Int32Array($d);
var jd = Array(151552);
var Q = new Int16Array(151552);
var yc = new Uint8Array($d);
var X = [0, 0, 0, 0, 0, 1, 2, 3, 1, 4, 1, 4, 1, 1, 4, 1, 2, 4, 1, 2, 1, 3, 0, 1, 2, 1, 3, 5, 2, 3, 4, 1, 3, 2, 4, 1, 2, 4, 5, 5, 1, 3, 4, 5, 4, 0, 0, 0, 0, 0, 4, 1, 4];
var Ye = [0, 0, 0, 0, 0, 10, 25, 5, 20, 25, 20, 40, 10, 20, 0, 20, 25, 100, 40, 40, 50, 50, 0, 10, 100, 10, 25, 5, 25, 0, 10, 10, 5, 0, 25, 10, 25, 0, 10, 10, 50, 5, 50, 5, 0, 0, 0, 0, 0, 0, 0, 10, 25];
var Ze = [0, 0, 0.9, 0.9, 0.9, 0.2, 0, 0, 0.2, 0.7, 0.2, 0.8, 0.2, 0, 0.2, 0.5, 0, 0.5, 0.3, 0, 0.9, 0.2, 0, 0, 0, 0.3, 0, 0, 0, 0, 0.9, 0.9, 0, 0, 0.8, 0.2, 0, 0.9, 0.1, 0.1, 0.9, 0.9, 0.5, 0, 0.9, 0, 0, 0, 0, 0, 0.9, 0.9, 0.9];
var $e = [0, 0, 0.9, 0.9, 0.9, 0.2, 0, 0, 0.2, 0.7, 0.2, 1, 0.2, 0, 0.2, 0.5, 0, 0.5, 0.3, 0, 0.9, 0.2, 0, 0, 0, 0.3, 0, 0, 1, 0, 0.9, 0.9, 0, 0, 0.2, 0.2, 0, 0.5, 0.1, 0.1, 0.9, 0.9, 0.5, 0, 0.9, 0, 0, 0, 0, 0, 0.9, 0.9, 0.9];
var af = [512, -1, -512, 1];
var bf = [0, -1, 0, 1];
var cf = [1, 0, -1, 0];
var df = [-513, -512, -511, 1, 513, 512, 511, -1];
var ef = [-0.7, 0, 0.7, 1, 0.7, 0, -0.7, -1];
var ff = [-0.7, -1, -0.7, 0, 0.7, 1, 0.7, 0];
var gf = [-1, 0, 1, 1, 1, 0, -1, -1];
var hf = [-1, -1, -1, 0, 1, 1, 1, 0];
var jf = [-1025, -1024, -1023, -514, -513, -512, -511, -510, -2, -1, 1, 2, 510, 511, 512, 513, 514, 1023, 1024, 1025];
var kf = [-2049, -2048, -2047, -1539, -1538, -1537, -1536, -1535, -1534, -1533, -1027, -1026, -1025, -1024, -1023, -1022, -1021, -516, -515, -514, -513, -512, -511, -510, -509, -508, -4, -3, -2, -1, 1, 2, 3, 4, 508, 509, 510, 511, 512, 513, 514, 515, 516, 1021, 1022, 1023, 1024, 1025, 1026, 1027, 1533, 1534, 1535, 1536, 1537, 1538, 1539, 2047, 2048, 2049];
var lf = [1, 1, 0, -1, -1, -1, 0, 1];
var mf = [0, -1, -1, -1, 0, 1, 1, 1];
var nf = [1, -511, -512, -513, -1, 511, 512, 513];
var of = [-4096, -3587, -3585, -3583, -3581, -3076, -3074, -3072, -3070, -3068, -2565, -2563, -2561, -2559, -2557, -2555, -2054, -2052, -2050, -2048, -2046, -2044, -2042, -1543, -1541, -1539, -1537, -1535, -1533, -1531, -1529, -1030, -1028, -1026, -1024, -1022, -1020, -1018, -519, -517, -515, -513, -511, -509, -507, -505, -8, -6, -4, -2, 0, 2, 4, 6, 8, 505, 507, 509, 511, 513, 515, 517, 519, 1018, 1020, 1022, 1024, 1026, 1028, 1030, 1529, 1531, 1533, 1535, 1537, 1539, 1541, 1543, 2042, 2044, 2046, 2048, 2050, 2052, 2054, 2555, 2557, 2559, 2561, 2563, 2565, 3068, 3070, 3072, 3074, 3076, 3581, 3583, 3585, 3587, 4096];
function J(a, c, b, d) {
  if (B[a] == 28) {
    Ue(0, a);
  }
  B[a] = c;
  D[a] = b;
  C[a] = d;
}
function pf(a, c) {
  J(a, c, 0, n[c]);
}
function qc(a, c, b, d) {
  if (fc >= $d || a < 7 || a >= 505 || c < 7 || c >= 289) {
    return -1;
  }
  S(A[fc], a + 0.5, c + 0.5);
  S(H[fc], 0, 0);
  B[fc] = b;
  D[fc] = d;
  C[fc] = n[b];
  E[fc] = ~~c * 512 + ~~a;
  F[E[fc]] = fc;
  yc[fc] = 0;
  fc++;
  return fc - 1;
}
function gc(a) {
  if (fc != 4) {
    F[E[a]] = 0;
    fc--;
    for (var c = 0; c < qf; c++) {
      if (rf[c] == a) {
        qf--;
        rf[c] = rf[qf];
      } else if (rf[c] == fc) {
        rf[c] = a;
      }
    }
    Ue(0, a);
    if (fc != a) {
      A[a].set(A[fc]);
      H[a].set(H[fc]);
      B[a] = B[fc];
      D[a] = D[fc];
      C[a] = C[fc];
      yc[a] = yc[fc];
      E[a] = E[fc];
      Ve(0, fc, a);
      F[E[a]] = B[a] == 1 ? 1 : a;
    }
  }
}
var sf = 1781;
var qf = 0;
var rf = new Int32Array(sf);
function tf(a, c) {
  var b;
  b = A[a].x;
  A[a].x = A[c].x;
  A[c].x = b;
  b = A[a].y;
  A[a].y = A[c].y;
  A[c].y = b;
  b = F[E[a]];
  F[E[a]] = F[E[c]];
  F[E[c]] = b;
  b = E[a];
  E[a] = E[c];
  E[c] = b;
}
function uf(a, c, b) {
  F[E[a]] = 0;
  S(A[a], c, b);
  E[a] = (b << 9) + ~~c;
  F[E[a]] = a;
}
function vf(a, c) {
  F[E[a]] = 0;
  var b = ye(c);
  if (b > 3.8) {
    Xe(c, 3.8 / b);
  }
  b = (A[a].y << 9) + ~~(A[a].x + c.x);
  if (F[b] <= 1) {
    A[a].x += c.x;
  }
  b = (A[a].y + c.y << 9) + ~~A[a].x;
  if (F[b] <= 1) {
    A[a].y += c.y;
  }
  E[a] = (A[a].y << 9) + ~~A[a].x;
  F[E[a]] = a;
}
var wf = new ha();
var xf = new ha();
var yf = new ha();
function zf(a, c) {
  var b = ye(c);
  if (b > 3.8) {
    Xe(c, 3.8 / b);
  }
  S(yf, T[E[a]], U[E[a]]);
  var b = Af(c, yf);
  var d = xf;
  var e = yf;
  d.x = e.x * b;
  d.y = e.y * b;
  Nd(wf, c, xf);
  b = (A[a].y + xf.y << 9) + ~~(A[a].x + xf.x);
  if (F[b] <= 1) {
    A[a].add(xf);
  }
  b = (A[a].y + wf.y << 9) + ~~(A[a].x + wf.x);
  if (F[b] <= 1) {
    A[a].add(wf);
  }
  E[a] = (A[a].y << 9) + ~~A[a].x;
  F[E[a]] = a;
}
var Bf = [0, 0, 0, 0, 0, 0.05, 0.1, -0.1, 0.1, 0.1, 0.1, 0.1, 0.05, 0.1, 0, 0.1, 0.1, 0.2, 0.1, 0.1, 0.2, 0.4, 0, 0.05, 0.2, 0.3, 0.1, -0.1, 0.1, 0, 0.4, 0.4, 0, 0.2, 0.1, 0.1, 0.1, 0.1, 0, 0.1, 0.4, 0.1, 0.05, -0.1, 0.4, 0, 0, 0, 0, 0, 0.2, 0.08, 0.2];
var Cf = [0, 0, 0, 0, 0, 0.1, 0, 0.5, 0.2, 0.2, 0.1, 0.2, 0, 0.9, 0, 0.1, 0, 0.2, 0.2, 0, 0.2, 0, 0, 0.1, 0, 0, 0.2, 0.1, 0, 0, 0.2, 0.2, 0, 0, 0, 0.1, 0, 0.2, 0, 0, 0, 0.9, 0.1, 0.1, 0.2, 0, 0, 0, 0, 0, 0.2, 0.05, 0.2];
var Df = [0, 0, 0, 0, 0, 0.5, 0.95, 1, 0.5, 0.5, 0.5, 1, 0.95, 0.1, 0, 0.5, 1, 0.8, 0.8, 0.95, 0.8, 0.1, 0, 0.5, 0.95, 0.5, 0.5, 1, 1, 0, 0.8, 0.8, 0, 0.95, 0.5, 0.5, 0.95, 0.8, 1, 0.5, 0.95, 0.8, 0.5, 1, 0.8, 0, 0, 0, 0, 0, 0.8, 0.95, 0.5];
function Ef(a, c) {
  H[a].x += T[E[a]] * Bf[B[a]];
  H[a].y += U[E[a]] * Bf[B[a]];
  c.set(H[a]);
  c.x += N[Q[E[a]]];
  c.y += O[Q[E[a]]];
  F[E[a]] = 0;
  var b = I(ye(c) / 4) + 2;
  Xe(c, 1 / b);
  for (var d = 0, e; d < b; d++) {
    e = (A[a].y << 9) + ~~(A[a].x + c.x);
    if (!(A[a].x + c.x < 4) && !(A[a].x + c.x >= 508)) {
      if (F[e] <= 1) {
        A[a].x += c.x;
      } else {
        H[a].y *= Df[B[a]];
        H[a].x *= -Cf[B[a]];
        c.x *= -Cf[B[a]];
      }
    }
    e = (A[a].y + c.y << 9) + ~~A[a].x;
    if (!(A[a].y + c.y < 4) && !(A[a].y + c.y >= 292)) {
      if (F[e] <= 1) {
        A[a].y += c.y;
      } else {
        H[a].x *= Df[B[a]];
        H[a].y *= -Cf[B[a]];
        c.y *= -Cf[B[a]];
      }
    }
  }
  E[a] = (A[a].y << 9) + ~~A[a].x;
  F[E[a]] = a;
}
aa.fff = Td;
function Td() {
  var a;
  var c = new ha();
  if (!ca && !Sa) {
    if (h == 47 && yd || k == 47 && Cd) {
      a = new ha();
      qf = 0;
      for (var b = 4; b < fc && !(sf <= qf); b++) {
        if (B[b] != 1) {
          a.x = da - I(A[b].x);
          a.y = ea - I(A[b].y);
          if (Ff(a) < ja * ja * 7 + 1) {
            rf[qf++] = b;
          }
        }
      }
    }
    if (h == 47 && Kd || k == 47 && Ld) {
      for (b = 0; b < qf; b++) {
        H[rf[b]].x += (da - A[rf[b]].x) * 0.1;
        H[rf[b]].y += (ea - A[rf[b]].y) * 0.1;
      }
    } else {
      qf = 0;
    }
  }
  for (a = 4; a < fc; a++) {
    a = B[a] <= 16 ? a - Gf(a, c) : B[a] <= 27 ? a - Hf(a, c) : B[a] <= 34 ? a - If(a, c) : B[a] <= 44 ? a - Jf(a, c) : a - Kf(a, c);
  }
  if (sa < 1) {
    for (a = 4; a < fc; a++) {
      if (!jd[E[a]]) {
        gc(a--);
      }
    }
  } else if (sa == 1) {
    for (a = 4; a < fc; a++) {
      if (!jd[E[a]]) {
        a: {
          for (c = 0; c < hc; c++) {
            if (jc[c] == 0 && kc[c] == a || lc[c] == 0 && mc[c] == a) {
              c = true;
              break a;
            }
          }
          c = false;
        }
        if (c) {
          gc(a--);
        } else if (A[a].x < 8) {
          c = E[a] + 496;
          if (F[c] <= 1 && A[a].y >= 8 && A[a].y < 288) {
            A[a].x += 496;
            F[E[a]] = 0;
            E[a] = c;
            F[c] = a;
          } else {
            gc(a--);
          }
        } else if (A[a].x >= 504) {
          c = E[a] - 496;
          if (F[c] <= 1 && A[a].y >= 8 && A[a].y < 288) {
            A[a].x -= 496;
            F[E[a]] = 0;
            E[a] = c;
            F[c] = a;
          } else {
            gc(a--);
          }
        } else if (A[a].y < 8) {
          c = E[a] + 143360;
          if (F[c] <= 1) {
            A[a].y += 280;
            F[E[a]] = 0;
            E[a] = c;
            F[c] = a;
          } else {
            gc(a--);
          }
        } else if (A[a].y >= 288) {
          c = E[a] - 143360;
          if (F[c] <= 1) {
            A[a].y -= 280;
            F[E[a]] = 0;
            E[a] = c;
            F[c] = a;
          } else {
            gc(a--);
          }
        }
      }
    }
  }
}
aa.fff = Gf;
function Gf(a, c) {
  var b;
  var d;
  var e;
  var f;
  var g;
  var m;
  var p;
  var u;
  if (B[a] == 5) {
    if (yc[a] == 0) {
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      d = Lf(0.4);
      c.x += T[E[a]] * d;
      c.y += U[E[a]] * d;
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.7);
        c.add(H[a]);
      }
      vf(a, c);
    } else {
      Ef(a, c);
    }
  } else if (B[a] == 6) {
    if (yc[a] == 0) {
      F[E[a]] = 0;
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      b = (A[a].y + U[E[a]] << 9) + I(A[a].x + T[E[a]]);
      if (B[F[b]] >= 2) {
        b = (A[a].y + T[E[a]] << 9) + I(A[a].x - U[E[a]]);
        if (F[b] <= 1) {
          d = Mf(0.1, 0.2);
          H[a].x -= U[E[a]] * d;
          H[a].y += T[E[a]] * d;
        }
        b = (A[a].y - T[E[a]] << 9) + I(A[a].x + U[E[a]]);
        if (F[b] <= 1) {
          d = Mf(0.1, 0.2);
          H[a].x += U[E[a]] * d;
          H[a].y -= T[E[a]] * d;
        }
        if (xe(0.01)) {
          A[a].x = ~~A[a].x + 0.5;
          A[a].y = ~~A[a].y + 0.5;
        }
      } else {
        d = Lf(1.5);
        c.x += T[E[a]] * d;
        c.y += U[E[a]] * d;
      }
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.9);
        c.add(H[a]);
      }
      if (U[E[a]] == 0) {
        vf(a, c);
      } else {
        zf(a, c);
      }
    } else {
      Ef(a, c);
    }
    d = Vb(8);
    b = F[E[a] + df[d]];
    if (X[B[b]] == 1 && B[b] != 20 || B[b] == 19 || B[b] == 24 || B[b] == 28 || B[b] == 36) {
      if (xe(0.2) && T[E[a]] * ef[d] + U[E[a]] * ff[d] <= 0.3) {
        tf(a, b);
      }
    } else if (B[b] == 11 && xe(0.5)) {
      J(a, 11, 0, n[11]);
    }
    d = Vb(20);
    b = F[E[a] + jf[d]];
    if (B[b] == 18) {
      J(b, 19, 0, n[19]);
      gc(a);
      return 1;
    }
  } else if (B[a] == 7) {
    if (yc[a] == 0) {
      if (D[a] != 1 && xe(0.05) || D[a] == 1 && xe(0.2)) {
        gc(a);
        return 1;
      }
      d = Lf(0.03);
      N[Q[E[a]]] -= T[E[a]] * d;
      O[Q[E[a]]] -= U[E[a]] * d;
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      d = Mf(-0.5, 0.5);
      c.x += U[E[a]] * d;
      c.y -= T[E[a]] * d;
      if (D[a] == 2) {
        Xe(H[a], 0.9);
        c.add(H[a]);
      }
      vf(a, c);
    } else {
      Ef(a, c);
    }
    d = Vb(20);
    b = F[E[a] + jf[d]];
    if (b >= 4) {
      if (B[b] == 5) {
        J(b, 7, 0, n[7]);
      } else {
        if (B[b] == 6 || B[b] == 36) {
          gc(a);
          return 1;
        }
        if (B[b] == 8) {
          if (xe(0.5)) {
            J(b, 7, 0, n[7]);
          }
        } else if (B[b] == 12) {
          J(b, 6, 0, n[6]);
        } else if (B[b] == 34) {
          J(b, 7, 0, n[7]);
        }
      }
    }
  } else if (B[a] == 8) {
    if (D[a] == 0) {
      if (yc[a] == 0) {
        S(c, N[Q[E[a]]], O[Q[E[a]]]);
        d = Lf(0.6);
        c.x += T[E[a]] * d;
        c.y += U[E[a]] * d;
        if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
          Xe(H[a], 0.8);
          c.add(H[a]);
        }
        vf(a, c);
      } else {
        Ef(a, c);
      }
      if ($d - fc < 1000) {
        return 0;
      }
      b = (A[a].y + U[E[a]] << 9) + I(A[a].x + T[E[a]]);
      if (B[F[b]] == 5) {
        D[a] = 1;
      }
      if (B[F[b]] == 34) {
        D[a] = 2;
      }
      if (B[F[b]] == 18) {
        D[a] = 3;
      }
      if (B[F[b]] == 9) {
        D[a] = (D[F[b]] & 15) + 1;
      }
    } else if (D[a] == 1 || D[a] == 2) {
      S(c, ~~A[a].x + 0.5, ~~A[a].y + 0.5);
      if (D[a] == 1) {
        d = Lf(1);
      } else {
        d = 1;
      }
      c.x -= T[E[a]] * d;
      c.y -= U[E[a]] * d;
      d = Vb(3) - 1;
      c.x += U[E[a]] * d;
      c.y -= T[E[a]] * d;
      b = F[(c.y << 9) + I(c.x)];
      if (b <= 1 && F[(c.y + U[E[a]] << 9) + I(c.x + T[E[a]])] <= 1) {
        e = ~~A[a].x;
        f = ~~A[a].y;
        uf(a, ~~c.x, ~~c.y);
        qc(e, f, 9, D[a] - 1);
      }
      if (xe(0.05)) {
        gc(a);
        return 1;
      }
    } else if (D[a] >= 3 && D[a] <= 5) {
      S(c, ~~A[a].x + 0.5, ~~A[a].y + 0.5);
      if (D[a] == 3) {
        if (xe(0.1)) {
          e = I(c.x - U[E[a]]);
          f = I(c.y + T[E[a]]);
          if (F[(f << 9) + e] <= 1) {
            qc(e, f, 8, 4);
          }
        }
        if (xe(0.1)) {
          e = I(c.x + U[E[a]]);
          f = I(c.y - T[E[a]]);
          if (F[(f << 9) + e] <= 1) {
            qc(e, f, 8, 5);
          }
        }
        if (xe(0.05)) {
          gc(a);
          return 1;
        }
      } else if (D[a] == 4) {
        c.x -= U[E[a]];
        c.y += T[E[a]];
        if (xe(0.15)) {
          gc(a);
          return 1;
        }
      } else if (D[a] == 5 && (c.x += U[E[a]], c.y -= T[E[a]], xe(0.15))) {
        gc(a);
        return 1;
      }
      c.x -= T[E[a]];
      c.y -= U[E[a]];
      b = F[(c.y << 9) + ~~c.x];
      if (b <= 1) {
        if (F[(c.y + T[E[a]] << 9) + I(c.x - U[E[a]])] > 1 || F[(c.y - T[E[a]] << 9) + I(c.x + U[E[a]])] > 1) {
          return 0;
        }
        e = ~~A[a].x;
        f = ~~A[a].y;
        uf(a, ~~c.x, ~~c.y);
        qc(e, f, 9, 2);
      }
    }
  } else if (B[a] == 9) {
    if (yc[a] == 0) {
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.3);
        c.set(H[a]);
        vf(a, c);
      }
    } else {
      Ef(a, c);
    }
    if (D[a] < 16) {
      d = Vb(20);
      b = B[F[E[a] + jf[d]]];
      if (b == 7) {
        if (xe(0.5)) {
          D[a] |= 16;
        }
      } else if (b == 21) {
        D[a] |= 16;
      } else if (b == 6) {
        if ($d - fc < 1000) {
          return 0;
        }
        d = Vb(8);
        if (F[E[a] + df[d]] <= 1 && xe(0.05)) {
          qc(~~A[a].x + gf[d], ~~A[a].y + hf[d], 8, 0);
        }
      }
    } else {
      g = 5;
      if (!(D[a] & 15)) {
        g = 5;
      }
      if ((D[a] & 15) == 1) {
        g = 34;
      }
      if ((D[a] & 15) == 2) {
        g = 18;
      }
      d = Vb(8);
      b = B[F[E[a] + df[d]]];
      if (b <= 1) {
        if (xe(0.3)) {
          qc(~~A[a].x + gf[d], ~~A[a].y + hf[d], 7, 1);
        }
      } else if (b == 6) {
        J(a, g, 0, n[g]);
      }
      if (xe(0.005)) {
        J(a, g, 0, n[g]);
      }
    }
  } else if (B[a] == 10) {
    if (yc[a] == 0) {
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      d = Lf(0.8);
      c.x += T[E[a]] * d;
      c.y += U[E[a]] * d;
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.8);
        c.add(H[a]);
      }
      vf(a, c);
    } else {
      Ef(a, c);
    }
    d = Vb(20);
    b = B[F[E[a] + jf[d]]];
    if (X[b] != 3) {
      return 0;
    }
    p = ~~A[a].x;
    u = ~~A[a].y;
    d = ue(p - 8, 8);
    b = ue(u - 8, 8);
    g = De(p + 8, 503);
    m = De(u + 8, 287);
    for (f = b; f <= m; f++) {
      for (e = d; e <= g; e++) {
        if (!((e - p) * (e - p) + (f - u) * (f - u) > 64)) {
          b = (f + u >> 1 << 9) + (e + p >> 1);
          if (!(t[Q[b]] >= 1)) {
            b = F[(f << 9) + e];
            if (b >= 4 && B[b] != 10) {
              if (B[b] == 20) {
                J(b, 18, 0, n[18]);
              }
              H[b].x += e - p;
              H[b].y += f - u;
            }
          }
        }
      }
    }
    p = Ed(p, 12, 499);
    u = Ed(u, 12, 283);
    d = (u >> 2 << 7) + (p >> 2);
    if (t[b = d - r - 1] == 0) {
      N[b] -= 0.4;
      O[b] -= 0.4;
    }
    if (t[b = d - r] == 0) {
      O[b] -= 0.5;
    }
    if (t[b = d - r + 1] == 0) {
      N[b] += 0.4;
      O[b] -= 0.4;
    }
    if (t[b = d - 1] == 0) {
      N[b] -= 0.5;
    }
    if (t[b = d + 1] == 0) {
      N[b] += 0.5;
    }
    if (t[b = d + r - 1] == 0) {
      N[b] -= 0.4;
      O[b] += 0.4;
    }
    if (t[b = d + r] == 0) {
      O[b] += 0.5;
    }
    if (t[b = d + r + 1] == 0) {
      N[b] += 0.4;
      O[b] += 0.4;
    }
    J(a, 7, 0, n[7]);
  } else if (B[a] == 1) {
    if (xe(0.9)) {
      N[Q[E[a]]] += H[a].x;
      O[Q[E[a]]] += H[a].y;
    }
    if (F[E[a]] == 0) {
      F[E[a]] = 1;
    }
  } else if (B[a] == 11) {
    if (yc[a] == 0) {
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      if (Ff(c) > 1 && xe(0.5)) {
        J(a, 12, 0, n[12]);
      }
    } else {
      Ef(a, c);
    }
    d = Vb(20);
    b = B[F[E[a] + jf[d]]];
    if (X[b] == 3) {
      J(a, 6, 0, n[6]);
    }
  } else if (B[a] == 12) {
    if (yc[a] == 0) {
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      d = Lf(0.3);
      c.x += T[E[a]] * d;
      c.y += U[E[a]] * d;
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.7);
        c.add(H[a]);
      }
      vf(a, c);
    } else {
      Ef(a, c);
    }
    d = Vb(8);
    b = F[E[a] + df[d]];
    if (b >= 4 && B[b] != 9 && B[b] != 12 && B[b] != 14 && B[b] != 34 && B[b] != 43) {
      if (B[b] == 11) {
        J(a, 11, 0, n[11]);
      } else if (xe(0.1)) {
        J(a, 6, 0, n[6]);
      }
    }
  } else if (B[a] == 13) {
    if (yc[a] == 0) {
      H[a].x += N[Q[E[a]]] * 0.05;
      H[a].y += O[Q[E[a]]] * 0.05;
      H[a].x += T[E[a]] * 0.01;
      H[a].y += U[E[a]] * 0.01;
      Xe(H[a], 0.999);
      c.set(H[a]);
      F[E[a]] = 0;
      b = ye(c);
      if (b > 3.8) {
        Xe(c, 3.8 / b);
      }
      b = F[(A[a].y << 9) + I(A[a].x + c.x)];
      if (b <= 1) {
        A[a].x += c.x;
      } else if (X[B[b]] == 2) {
        H[b].x -= H[a].x;
        H[a].x *= 0.9;
        A[b].x = A[a].x;
        A[a].x += c.x;
        E[b] = E[a];
        F[E[a]] = b;
      } else if (B[b] == 7) {
        tf(a, b);
      } else if (B[b] == 13) {
        d = H[a].x * 0.9;
        H[a].x = H[b].x * 0.9;
        H[b].x = d;
      } else {
        H[a].x *= -Ze[B[b]];
        H[a].y *= $e[B[b]];
      }
      E[a] = (A[a].y << 9) + I(A[a].x);
      F[E[a]] = 0;
      b = F[(A[a].y + c.y << 9) + I(A[a].x)];
      if (b <= 1) {
        A[a].y += c.y;
      } else if (X[B[b]] == 2) {
        H[b].y -= H[a].y;
        H[a].y *= 0.9;
        A[b].y = A[a].y;
        A[a].y += c.y;
        E[b] = E[a];
        F[E[a]] = b;
      } else if (B[b] == 7) {
        tf(a, b);
      } else if (B[b] == 13) {
        if (H[a].y > 0) {
          d = H[a].y * 0.45;
          H[a].y = -d;
          H[a].y += H[b].y;
          H[b].y = d;
        } else {
          d = H[b].y * 0.45;
          H[b].y = -d;
          H[b].y += H[a].y;
          H[a].y = d;
        }
      } else {
        H[a].y *= -Ze[B[b]];
        H[a].x *= $e[B[b]];
      }
      E[a] = (A[a].y << 9) + I(A[a].x);
      F[E[a]] = a;
    } else {
      Ef(a, c);
    }
  } else if (B[a] == 14) {
    if (yc[a] != 0) {
      S(H[a], 0, 0);
    }
    if (D[a] == 0) {
      d = Vb(20);
      b = F[E[a] + jf[d]];
      if (b >= 4) {
        D[a] = B[b] == 14 ? D[b] : B[b];
      }
    } else {
      if ($d - fc < 1000) {
        return 0;
      }
      d = Vb(8);
      if (F[E[a] + df[d]] <= 1 && xe(0.1)) {
        qc(~~A[a].x + gf[d], ~~A[a].y + hf[d], D[a], 0);
      }
    }
  }
  if (B[a] == 15) {
    if (yc[a] == 0) {
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      d = Lf(0.8);
      c.x += T[E[a]] * d;
      c.y += U[E[a]] * d;
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.9);
        c.add(H[a]);
      }
      vf(a, c);
    } else {
      Ef(a, c);
    }
    if (!(D[a] & 255)) {
      D[a] = Db[h] != 0 ? Db[h] : Db[k] != 0 ? Db[k] : 5;
    }
    if (D[a] < 256) {
      d = Vb(8);
      b = F[E[a] + df[d]];
      if (X[B[b]] == 3) {
        D[a] += 256;
      }
    } else if (D[a] < 512) {
      H[a].x = -T[E[a]] * 50;
      H[a].y = -U[E[a]] * 50;
      D[a] += 256;
    } else {
      if (D[a] < 12800) {
        D[a] += 256;
        return 0;
      }
      if (xe(0.95)) {
        return 0;
      }
      if ($d - fc < 1000) {
        gc(a);
        return 1;
      }
      for (d = 0; d < 8; d++) {
        b = F[E[a] + df[d]];
        if (b <= 1) {
          b = qc(~~A[a].x + gf[d], ~~A[a].y + hf[d], D[a] & 255, 0);
          if (b >= 0) {
            H[b].x += ef[d] * 20;
            H[b].y += ff[d] * 20;
          }
        }
      }
      gc(a);
      return 1;
    }
  } else if (B[a] == 16) {
    if (yc[a] == 0) {
      F[E[a]] = 0;
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      b = (A[a].y + U[E[a]] << 9) + I(A[a].x + T[E[a]]);
      if (B[F[b]] >= 2) {
        b = (A[a].y + T[E[a]] << 9) + I(A[a].x - U[E[a]]);
        if (F[b] <= 1) {
          d = Mf(0.1, 0.2);
          H[a].x -= U[E[a]] * d;
          H[a].y += T[E[a]] * d;
        }
        b = (A[a].y - T[E[a]] << 9) + I(A[a].x + U[E[a]]);
        if (F[b] <= 1) {
          d = Mf(0.1, 0.2);
          H[a].x += U[E[a]] * d;
          H[a].y -= T[E[a]] * d;
        }
        if (xe(0.01)) {
          A[a].x = ~~A[a].x + 0.5;
          A[a].y = ~~A[a].y + 0.5;
        }
      } else {
        d = Lf(1.5);
        c.x += T[E[a]] * d;
        c.y += U[E[a]] * d;
      }
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.9);
        c.add(H[a]);
      }
      if (U[E[a]] == 0) {
        vf(a, c);
      } else {
        zf(a, c);
      }
    } else {
      Ef(a, c);
    }
    d = Vb(8);
    b = F[E[a] + df[d]];
    if (X[B[b]] == 1 && B[b] != 20 || B[b] == 6 || B[b] == 19 || B[b] == 24 || B[b] == 36) {
      if (xe(0.2) && T[E[a]] * ef[d] + U[E[a]] * ff[d] <= 0.3) {
        tf(a, b);
      }
    } else if (X[B[b]] == 3) {
      D[a] = 1;
    }
    if (D[a] == 1 && (d = Vb(8), F[E[a] + df[d]] <= 1 && qc(~~A[a].x + gf[d], ~~A[a].y + hf[d], 7, 0), xe(0.1))) {
      gc(a);
      return 1;
    }
  }
  return 0;
}
aa.fff = Hf;
function Hf(a, c) {
  var b;
  var d;
  var e;
  var f;
  var g;
  var m;
  var p;
  var u;
  var v;
  if (B[a] == 17) {
    if (yc[a] != 0) {
      Ef(a, c);
    }
    if (D[a] == 0) {
      e = Vb(8);
      b = F[E[a] + df[e]];
      if (X[B[b]] == 3) {
        D[a] = 1;
      }
    } else {
      for (d = 0; d < 8; d++) {
        b = F[E[a] + df[d]];
        if (B[b] == 17) {
          D[b] = 1;
        }
      }
      var G = 8;
      u = ~~A[a].x;
      v = ~~A[a].y;
      e = ue(u - G, 8);
      d = ue(v - G, 8);
      m = De(u + G, 503);
      p = De(v + G, 287);
      for (g = d; g <= p; g++) {
        for (f = e; f <= m; f++) {
          if (!(G * G < (f - u) * (f - u) + (g - v) * (g - v))) {
            d = (g + v >> 1 << 9) + (f + u >> 1);
            if (!(t[Q[d]] >= 1)) {
              b = F[(g << 9) + f];
              if (b >= 4) {
                if (B[b] == 20) {
                  J(b, 18, 0, n[18]);
                }
                H[b].x += f - u;
                H[b].y += g - v;
              }
            }
          }
        }
      }
      u = Ed(u, 12, 499);
      v = Ed(v, 12, 283);
      e = (v >> 2 << 7) + (u >> 2);
      if (t[d = e - r - 1] == 0) {
        N[d] -= 0.08;
        O[d] -= 0.08;
      }
      if (t[d = e - r] == 0) {
        O[d] -= 0.1;
      }
      if (t[d = e - r + 1] == 0) {
        N[d] += 0.1;
        O[d] -= 0.08;
      }
      if (t[d = e - 1] == 0) {
        N[d] -= 0.1;
      }
      if (t[d = e + 1] == 0) {
        N[d] += 0.1;
      }
      if (t[d = e + r - 1] == 0) {
        N[d] -= 0.08;
        O[d] += 0.08;
      }
      if (t[d = e + r] == 0) {
        O[d] += 0.1;
      }
      if (t[d = e + r + 1] == 0) {
        N[d] += 0.08;
        O[d] += 0.08;
      }
      gc(a);
      return 1;
    }
  } else if (B[a] == 18) {
    if (yc[a] == 0) {
      F[E[a]] = 0;
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      d = Lf(1);
      c.x += T[E[a]] * d;
      c.y += U[E[a]] * d;
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.8);
        c.add(H[a]);
      }
      b = ~~A[a].x + 0.5;
      e = ~~A[a].y + 0.5;
      d = (e + U[E[a]] << 9) + I(b + T[E[a]]);
      if (B[F[d]] >= 2) {
        if (xe(0.5)) {
          d = (e + U[E[a]] + T[E[a]] << 9) + I(b + T[E[a]] - U[E[a]]);
          if (F[d] <= 1) {
            c.x -= U[E[a]] * 0.5;
            c.y += T[E[a]] * 0.5;
          }
        } else {
          d = (e + U[E[a]] - T[E[a]] << 9) + I(b + T[E[a]] + U[E[a]]);
          if (F[d] <= 1) {
            c.x += U[E[a]] * 0.5;
            c.y -= T[E[a]] * 0.5;
          }
        }
      }
      vf(a, c);
    } else {
      Ef(a, c);
    }
  } else if (B[a] == 19) {
    if (yc[a] == 0) {
      F[E[a]] = 0;
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      d = (A[a].y + U[E[a]] << 9) + I(A[a].x + T[E[a]]);
      if (B[F[d]] >= 2) {
        d = (A[a].y + T[E[a]] << 9) + I(A[a].x - U[E[a]]);
        if (F[d] <= 1) {
          d = Lf(0.05);
          H[a].x -= U[E[a]] * d;
          H[a].y += T[E[a]] * d;
        }
        d = (A[a].y - T[E[a]] << 9) + I(A[a].x + U[E[a]]);
        if (F[d] <= 1) {
          d = Lf(0.05);
          H[a].x += U[E[a]] * d;
          H[a].y -= T[E[a]] * d;
        }
        if (xe(0.01)) {
          A[a].x = ~~A[a].x + 0.5;
          A[a].y = ~~A[a].y + 0.5;
        }
      } else {
        d = Lf(1.5);
        c.x += T[E[a]] * d;
        c.y += U[E[a]] * d;
      }
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.9);
        c.add(H[a]);
      }
      if (U[E[a]] == 0) {
        vf(a, c);
      } else {
        zf(a, c);
      }
    } else {
      Ef(a, c);
    }
    e = Vb(8);
    b = F[E[a] + df[e]];
    if (X[B[b]] == 1 && B[b] != 20) {
      if (xe(0.2) && T[E[a]] * ef[e] + U[E[a]] * ff[e] <= 0.3) {
        tf(a, b);
      }
    } else if (X[B[b]] == 3) {
      J(a, 18, 0, n[18]);
    }
  } else if (B[a] == 20) {
    if (yc[a] == 0) {
      H[a].x += N[Q[E[a]]] * 0.05;
      H[a].y += O[Q[E[a]]] * 0.05;
      d = Lf(0.12);
      H[a].x += T[E[a]] * d;
      H[a].y += U[E[a]] * d;
      Xe(H[a], 0.95);
      c.set(H[a]);
      d = ye(c);
      if (d > 3.8) {
        Xe(c, 3.8 / d);
      }
      F[E[a]] = 0;
      b = F[(A[a].y << 9) + I(A[a].x + c.x)];
      if (b <= 1) {
        A[a].x += c.x;
      } else if (X[B[b]] == 2 || B[b] == 21) {
        H[b].x -= H[a].x;
        H[a].x *= 0.5;
        A[b].x = A[a].x;
        A[a].x += c.x;
        E[b] = E[a];
        F[E[a]] = b;
      } else {
        if (B[b] == 5 || B[b] == 8 || B[b] == 10 || B[b] == 15 || B[b] == 25) {
          H[b].x += Lf(H[a].x);
        }
        H[a].x *= 0.5;
      }
      E[a] = (A[a].y << 9) + ~~A[a].x;
      F[E[a]] = 0;
      b = F[(A[a].y + c.y << 9) + I(A[a].x)];
      if (b <= 1) {
        A[a].y += c.y;
      } else if (X[B[b]] == 2 || B[b] == 21) {
        H[b].y -= H[a].y;
        H[a].y *= 0.5;
        A[b].y = A[a].y;
        A[a].y += c.y;
        E[b] = E[a];
        F[E[a]] = b;
      } else {
        if (B[b] == 5 || B[b] == 8 || B[b] == 10 || B[b] == 15 || B[b] == 25) {
          H[b].y += Lf(H[a].y);
        }
        H[a].y *= 0.5;
      }
      E[a] = (A[a].y << 9) + ~~A[a].x;
      F[E[a]] = a;
    } else {
      Ef(a, c);
    }
  } else if (B[a] == 21) {
    if (yc[a] == 0) {
      F[E[a]] = 0;
      S(c, N[Q[E[a]]] * 0.1, O[Q[E[a]]] * 0.1);
      d = (A[a].y + U[E[a]] << 9) + I(A[a].x + T[E[a]]);
      if (B[F[d]] >= 2) {
        d = (A[a].y + T[E[a]] << 9) + I(A[a].x - U[E[a]]);
        if (F[d] <= 1) {
          d = Lf(0.1);
          H[a].x -= U[E[a]] * d;
          H[a].y += T[E[a]] * d;
        }
        d = (A[a].y - T[E[a]] << 9) + I(A[a].x + U[E[a]]);
        if (F[d] <= 1) {
          d = Lf(0.1);
          H[a].x += U[E[a]] * d;
          H[a].y -= T[E[a]] * d;
        }
        if (xe(0.01)) {
          A[a].x = ~~A[a].x + 0.5;
          A[a].y = ~~A[a].y + 0.5;
        }
      } else {
        d = Lf(2);
        c.x += T[E[a]] * d;
        c.y += U[E[a]] * d;
      }
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.9);
        c.add(H[a]);
      }
      if (U[E[a]] == 0) {
        vf(a, c);
      } else {
        zf(a, c);
      }
    } else {
      Ef(a, c);
    }
    e = Vb(20);
    b = F[E[a] + jf[e]];
    if (b >= 4) {
      if (B[b] == 5) {
        J(b, 7, 0, n[7]);
      } else if (B[b] == 6 || B[b] == 28) {
        J(a, 20, 0, n[20]);
        J(b, 22, 10, n[22]);
      } else if (B[b] == 8) {
        J(b, 7, 0, n[7]);
      } else if (B[b] == 13) {
        J(b, 7, 0, n[7]);
      } else if (B[b] == 18) {
        if (xe(0.05)) {
          J(b, 21, 0, n[21]);
        }
      } else if (B[b] == 20) {
        H[b].x += Mf(-0.1, 0.1);
      } else if (B[b] == 34) {
        J(b, 7, 0, n[7]);
      } else if (B[b] == 36) {
        J(a, 20, 0, n[20]);
        J(b, 35, 0, n[35]);
      } else if (B[b] == 37) {
        if (xe(0.5)) {
          J(b, 21, 0, n[21]);
        }
      } else if (B[b] == 40 && xe(0.01)) {
        J(b, 21, 0, n[21]);
      }
    }
  } else if (B[a] == 22) {
    if (Lf(D[a]) < 1) {
      gc(a);
      return 1;
    }
    c.set(H[a]);
    Xe(H[a], 0.7);
    vf(a, c);
  } else if (B[a] == 23) {
    if (yc[a] == 0) {
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      d = Lf(0.4);
      c.x += T[E[a]] * d;
      c.y += U[E[a]] * d;
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.7);
        c.add(H[a]);
      }
      vf(a, c);
    } else {
      Ef(a, c);
    }
    e = Vb(8);
    b = F[E[a] + df[e]];
    if (D[a] == 0) {
      if (b >= 4 && B[b] != 23) {
        D[a] = B[b];
      }
    } else if (D[a] <= 4096) {
      if (b >= 4) {
        if (B[b] != 23 || D[b] == 0) {
          J(b, 23, D[a] & 255, n[23]);
        }
      }
      D[a] += 256;
    } else {
      D[a] += 256;
      if (D[a] >= 24576) {
        J(a, D[a] & 255, 0, n[D[a] & 255]);
      }
    }
  } else if (B[a] == 24) {
    if (yc[a] == 0) {
      F[E[a]] = 0;
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      d = (A[a].y + U[E[a]] << 9) + I(A[a].x + T[E[a]]);
      if (B[F[d]] >= 2) {
        d = (A[a].y + T[E[a]] << 9) + I(A[a].x - U[E[a]]);
        if (F[d] <= 1) {
          d = Mf(0.1, 0.2);
          H[a].x -= U[E[a]] * d;
          H[a].y += T[E[a]] * d;
        }
        d = (A[a].y - T[E[a]] << 9) + I(A[a].x + U[E[a]]);
        if (F[d] <= 1) {
          d = Mf(0.1, 0.2);
          H[a].x += U[E[a]] * d;
          H[a].y -= T[E[a]] * d;
        }
        if (xe(0.01)) {
          A[a].x = ~~A[a].x + 0.5;
          A[a].y = ~~A[a].y + 0.5;
        }
      } else {
        d = Lf(1.5);
        c.x += T[E[a]] * d;
        c.y += U[E[a]] * d;
      }
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.9);
        c.add(H[a]);
      }
      if (U[E[a]] == 0) {
        vf(a, c);
      } else {
        zf(a, c);
      }
    } else {
      Ef(a, c);
    }
    e = Vb(8);
    b = F[E[a] + df[e]];
    if (X[B[b]] == 1 && B[b] != 20 || B[b] == 19) {
      if (xe(0.2) && T[E[a]] * ef[e] + U[E[a]] * ff[e] <= 0.3) {
        tf(a, b);
      }
    } else if (X[B[b]] == 3) {
      D[a] = 1;
    }
    if (D[a] == 0 && ye(H[a]) < 10) {
      return 0;
    }
    G = 8;
    u = ~~A[a].x;
    v = ~~A[a].y;
    e = ue(u - G, 8);
    d = ue(v - G, 8);
    m = De(u + G, 503);
    p = De(v + G, 287);
    for (g = d; g <= p; g++) {
      for (f = e; f <= m; f++) {
        if (!(G * G < (f - u) * (f - u) + (g - v) * (g - v))) {
          d = (g + v >> 1 << 9) + (f + u >> 1);
          if (!(t[Q[d]] >= 1)) {
            b = F[(g << 9) + f];
            if (b >= 4) {
              if (B[b] == 20) {
                J(b, 18, 0, n[18]);
              }
              H[b].x += f - u;
              H[b].y += g - v;
            }
          }
        }
      }
    }
    u = Ed(u, 12, 499);
    v = Ed(v, 12, 283);
    e = (v >> 2 << 7) + (u >> 2);
    if (t[d = e - r - 1] == 0) {
      N[d] -= 0.4;
      O[d] -= 0.4;
    }
    if (t[d = e - r] == 0) {
      O[d] -= 0.5;
    }
    if (t[d = e - r + 1] == 0) {
      N[d] += 0.4;
      O[d] -= 0.4;
    }
    if (t[d = e - 1] == 0) {
      N[d] -= 0.5;
    }
    if (t[d = e + 1] == 0) {
      N[d] += 0.5;
    }
    if (t[d = e + r - 1] == 0) {
      N[d] -= 0.4;
      O[d] += 0.4;
    }
    if (t[d = e + r] == 0) {
      O[d] += 0.5;
    }
    if (t[d = e + r + 1] == 0) {
      N[d] += 0.4;
      O[d] += 0.4;
    }
    J(a, 7, 0, n[7]);
  } else if (B[a] == 25) {
    e = Vb(8);
    b = F[E[a] + df[e]];
    if (X[B[b]] == 3) {
      J(a, 7, 0, n[7]);
      return 0;
    }
    if (D[a] == 0) {
      if (yc[a] == 0) {
        S(c, N[Q[E[a]]], O[Q[E[a]]]);
        d = Lf(0.5);
        c.x += T[E[a]] * d;
        c.y += U[E[a]] * d;
        if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
          Xe(H[a], 0.9);
          c.add(H[a]);
        }
        vf(a, c);
      } else {
        Ef(a, c);
      }
      e = Vb(4);
      b = F[E[a] + af[e]];
      if (X[B[b]] == 4 && B[b] != 14 && B[b] != 52) {
        D[a] = B[b] << 2 | e;
      }
    } else {
      if ($d - fc < 1000) {
        return 0;
      }
      e = D[a] & 3;
      d = E[a] + af[e];
      b = F[d];
      if (b <= 1) {
        D[a] = D[a] & 16777212 | e + 1 & 3;
        qc(d & 511, d >> 9, 25, D[a]);
        J(a, D[a] >> 2, 0, n[D[a] >> 2]);
      } else {
        if (b >= 4) {
          if (B[b] == D[a] >> 2) {
            D[a] = D[a] & 16777212 | e - 1 & 3;
          }
          J(b, 25, D[a], n[25]);
          gc(a);
          return 1;
        }
        D[a] = D[a] & 16777212 | e + 1 & 3;
      }
    }
  } else if (B[a] == 26) {
    if (yc[a] != 0) {
      Ef(a, c);
    }
    e = Vb(20);
    b = F[E[a] + jf[e]];
    if (b >= 4) {
      if (B[b] == 5) {
        J(b, 7, 0, n[7]);
      } else {
        if (B[b] == 6 || B[b] == 28 || B[b] == 36) {
          gc(a);
          return 1;
        }
        if (B[b] == 8) {
          J(b, 7, 0, n[7]);
        } else if (B[b] == 9) {
          J(b, 26, 0, n[26]);
        } else if (B[b] == 13) {
          J(b, 7, 0, n[7]);
        } else if (B[b] == 34) {
          J(b, 7, 0, n[7]);
        }
      }
    }
  } else if (B[a] == 27) {
    if (yc[a] == 0) {
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      d = Lf(-0.1);
      c.x += T[E[a]] * d;
      c.y += U[E[a]] * d;
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.9);
        c.add(H[a]);
      }
      vf(a, c);
    } else {
      Ef(a, c);
    }
    e = Vb(4);
    b = F[E[a] + af[e]];
    if (X[B[b]] == 1 || X[B[b]] == 2) {
      if (T[E[a]] * bf[e] + U[E[a]] * cf[e] <= 0.3) {
        tf(a, b);
      }
    } else if (B[b] == 27) {
      H[a].x += Mf(-0.6, 0.6);
      H[a].y += Mf(-0.6, 0.6);
    }
    if (D[a] == 0) {
      e = Vb(20);
      b = F[E[a] + jf[e]];
      if (X[B[b]] != 3) {
        return 0;
      }
    } else if (D[a] < 2) {
      D[a]++;
      return 0;
    }
    G = 8;
    u = ~~A[a].x;
    v = ~~A[a].y;
    e = ue(u - G, 8);
    d = ue(v - G, 8);
    m = De(u + G, 503);
    p = De(v + G, 287);
    for (g = d; g <= p; g++) {
      for (f = e; f <= m; f++) {
        if (!(G * G < (f - u) * (f - u) + (g - v) * (g - v))) {
          d = (g + v >> 1 << 9) + (f + u >> 1);
          if (!(t[Q[d]] >= 1)) {
            b = F[(g << 9) + f];
            if (B[b] == 27) {
              D[b] = 1;
            }
            if (b <= 1 && xe(0.02)) {
              qc(f, g, 7, 0);
            }
          }
        }
      }
    }
    J(a, 7, 0, n[7]);
  }
  return 0;
}
aa.fff = If;
function If(a, c) {
  var b;
  var d;
  var e;
  var f;
  var g;
  var m;
  var p;
  var u;
  var v;
  var G;
  if (B[a] == 28) {
    if (D[a] == 0) {
      F[E[a]] = 0;
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      f = (A[a].y + U[E[a]] << 9) + I(A[a].x + T[E[a]]);
      if (B[F[f]] >= 2) {
        f = (A[a].y + T[E[a]] << 9) + I(A[a].x - U[E[a]]);
        if (F[f] <= 1) {
          e = Mf(0.1, 0.2);
          H[a].x -= U[E[a]] * e;
          H[a].y += T[E[a]] * e;
        }
        f = (A[a].y - T[E[a]] << 9) + I(A[a].x + U[E[a]]);
        if (F[f] <= 1) {
          e = Mf(0.1, 0.2);
          H[a].x += U[E[a]] * e;
          H[a].y -= T[E[a]] * e;
        }
        if (xe(0.01)) {
          A[a].x = ~~A[a].x + 0.5;
          A[a].y = ~~A[a].y + 0.5;
        }
      } else {
        e = Lf(1.5);
        c.x += T[E[a]] * e;
        c.y += U[E[a]] * e;
      }
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.9);
        c.add(H[a]);
      }
      C[a] = n[28];
      if (Ff(c) > 10 && Re - hc >= 3) {
        for (d = e = 0; d < 60; d++) {
          b = F[E[a] + kf[d]];
          if (B[b] == 28 && D[b] == 0) {
            e++;
          }
        }
        if (e >= 2) {
          e = a;
          for (d = 0; d < 60 && !(b = F[E[a] + kf[d]], B[b] == 28 && D[b] == 0 && (vc(0, 0, e, b, 0), e = b, Re - hc <= 1)); d++);
          vc(0, 0, e, a, 0);
        }
      }
      if (U[E[a]] == 0) {
        vf(a, c);
      } else {
        zf(a, c);
      }
      e = Vb(8);
      b = F[E[a] + df[e]];
      if (X[B[b]] == 1 && B[b] != 20 || B[b] == 19 || B[b] == 24 || B[b] == 36) {
        if (xe(0.2) && T[E[a]] * ef[e] + U[E[a]] * ff[e] <= 0.3) {
          tf(a, b);
        }
      } else if (B[b] == 11) {
        if (xe(0.5)) {
          J(a, 11, 0, n[11]);
        }
      } else if (B[b] == 16) {
        J(b, 22, 0, n[B[b]]);
        gc(a);
        return 1;
      }
    } else {
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      Xe(H[a], 0.9);
      c.add(H[a]);
      vf(a, c);
      if (C[a] == n[28]) {
        C[a] = Te[Vb(6)];
      }
      e = Vb(8);
      b = F[E[a] + df[e]];
      if (B[b] == 28 && D[b] == 0) {
        if (xe(0.2) && T[E[a]] * ef[e] + U[E[a]] * ff[e] <= 0.3) {
          tf(a, b);
        }
      } else if (b >= 2 && B[b] != 28) {
        Ue(0, a);
        D[a] = 0;
      }
      if (D[a] == 2) {
        Ue(0, a);
        D[a] = 0;
      }
    }
  } else if (B[a] == 29) {
    e = D[a] >> 12;
    p = D[a] >> 10 & 3;
    if (!(b = D[a] & 1023)) {
      b = Q[E[a]] % 1000;
    }
    b = b * 73 % 955 + 44;
    if (p) {
      if (p == 1) {
        if (b & 1) {
          g = 0;
          d = 1;
          p = 0;
        } else {
          g = -1;
          p = d = 1;
        }
      } else if (b & 1) {
        g = 0;
        d = 1;
        p = 0;
      } else {
        d = g = 1;
        p = 3;
      }
    } else if (p = b % 3) {
      if (p == 1) {
        d = g = 1;
        p = 3;
      } else {
        g = 0;
        d = 1;
        p = 0;
      }
    } else {
      g = -1;
      p = d = 1;
    }
    if (e == 1) {
      m = g;
      g = -d;
      d = m;
    } else if (e == 2) {
      g = -g;
      d = -d;
    } else if (e == 3) {
      m = g;
      g = d;
      d = -m;
    }
    p = e << 12 | p << 10 | b;
    f = (A[a].y + d << 9) + I(A[a].x + g);
    b = F[f];
    if (b <= 1) {
      F[E[a]] = 0;
      A[a].x += g;
      A[a].y += d;
      D[a] = p;
      E[a] = f;
      F[E[a]] = a;
    } else if (B[b] == 29) {
      if (D[b] != p) {
        gc(a);
        return 1;
      }
    } else {
      if (B[b] == 30) {
        J(b, 30, e + 1, n[29]);
        gc(a);
        return 1;
      }
      if (B[b] == 40) {
        J(b, 40, e + 1, n[29]);
        gc(a);
        return 1;
      }
      if (B[b] == 50) {
        if (D[b] == 0) {
          D[b] = 1;
        }
        gc(a);
        return 1;
      }
      if (B[b] == 43) {
        tf(a, b);
      } else {
        if (b >= 4) {
          var K = 4;
          u = ~~A[a].x;
          v = ~~A[a].y;
          e = ue(u - K, 8);
          f = ue(v - K, 8);
          m = De(u + K, 503);
          p = De(v + K, 287);
          var W = u + Mf(-0.5, 0.5);
          var ta = v + Mf(-0.5, 0.5);
          for (d = f; d <= p; d++) {
            for (g = e; g <= m; g++) {
              if (!(K * K < (g - u) * (g - u) + (d - v) * (d - v))) {
                b = F[(d << 9) + g];
                if (b >= 4 && B[b] != 29) {
                  if (B[b] == 11) {
                    J(b, 12, 0, n[12]);
                  } else if (B[b] == 15 && D[b] < 256) {
                    D[b] += 512;
                  } else if (B[b] == 16) {
                    D[b] = 1;
                  }
                  H[b].x -= (g - W) * 2;
                  H[b].y -= (d - ta) * 2;
                }
              }
            }
          }
        }
        gc(a);
        return 1;
      }
    }
  } else if (B[a] == 30) {
    if (yc[a] != 0) {
      Ef(a, c);
    }
    if (D[a] == 0) {
      e = Vb(20);
      b = F[E[a] + jf[e]];
      if (B[b] == 6) {
        if (xe(0.02)) {
          J(a, 5, 0, n[5]);
        }
      } else if (B[b] == 21 && xe(0.02)) {
        J(a, 21, 0, n[21]);
      }
    } else {
      e = Vb(4);
      b = F[E[a] + af[e]];
      if (B[b] == 11) {
        J(b, 6, 0, n[6]);
      } else if (B[b] == 15 && D[b] < 256) {
        D[b] += 256;
      }
      e = D[a] - 1;
      for (d = 0; d < 4; d++) {
        if (d != 2) {
          b = F[E[a] + af[e + d & 3]];
          if (B[b] == 30) {
            if (D[b] == 0) {
              tf(a, b);
              D[a] = (e + d & 3) + 1;
            } else {
              J(a, 30, 0, n[30]);
            }
            break;
          } else if (B[b] == 40) {
            J(b, 40, (e + d & 3) + 1, n[29]);
            J(a, 30, 0, n[30]);
            break;
          } else if (B[b] == 37 && D[b] == 0) {
            J(b, 37, 2, n[29]);
          } else if (B[b] == 50 && D[b] == 0) {
            D[b] = 1;
          }
        }
      }
      if (d == 4) {
        if (F[E[a] + af[e]] <= 1) {
          qc(~~A[a].x + bf[e], ~~A[a].y + cf[e], 29, e << 12);
        }
        J(a, 30, 0, n[30]);
      }
    }
  }
  if (B[a] == 31) {
    if (yc[a] == 0) {
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      H[a].x += T[E[a]] * 0.05;
      H[a].y += U[E[a]] * 0.05;
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.95);
      }
      c.add(H[a]);
      vf(a, c);
    } else {
      Ef(a, c);
    }
    if (D[a] != 0) {
      if (xe(0.95)) {
        return 0;
      }
      if (D[a] == 11) {
        J(a, 12, 0, n[12]);
      } else if (D[a] == 9) {
        J(a, 5, 0, n[5]);
      } else if (D[a] == 20) {
        J(a, 18, 0, n[18]);
      } else if (D[a] == 34) {
        J(a, 5, 0, n[5]);
      } else if (D[a] == 24) {
        J(a, 7, 1, n[7]);
      } else if (D[a] == 26) {
        J(a, 7, 1, n[7]);
      } else if (D[a] == 28) {
        J(a, 22, 10, n[22]);
      } else if (D[a] == 30) {
        J(a, 30, 0, n[30]);
      } else if (D[a] == 37) {
        J(a, 20, 0, n[20]);
      } else if (D[a] == 44) {
        J(a, 41, 0, n[41]);
      } else if (D[a] == 51) {
        J(a, 41, 1, n[41]);
      } else {
        gc(a);
        return 1;
      }
      return 0;
    }
    e = Vb(8);
    b = F[E[a] + df[e]];
    if (b < 4 || B[b] == 31 || B[b] == 14) {
      return 0;
    }
    G = B[b];
    K = 8;
    u = ~~A[a].x;
    v = ~~A[a].y;
    e = ue(u - K, 8);
    f = ue(v - K, 8);
    m = De(u + K, 503);
    p = De(v + K, 287);
    W = u + Mf(-0.5, 0.5);
    ta = v + Mf(-0.5, 0.5);
    S(c, 0, 0);
    for (d = f; d <= p; d++) {
      for (g = e; g <= m; g++) {
        if (!(K * K < (g - u) * (g - u) + (d - v) * (d - v))) {
          b = F[(d << 9) + g];
          if (b >= 4 && B[b] != 31) {
            c.x += W - g;
            c.y += ta - d;
          }
        }
      }
    }
    Pd(c);
    for (d = f; d <= p; d++) {
      for (g = e; g <= m; g++) {
        if (!(K * K < (g - u) * (g - u) + (d - v) * (d - v))) {
          f = (d + v >> 1 << 9) + (g + u >> 1);
          if (!(t[Q[f]] >= 1)) {
            b = F[(d << 9) + g];
            if (b >= 4 && B[b] != 14) {
              H[b].x += c.x + (W - g);
              H[b].y += c.y + (ta - d);
              if (B[b] != 31 || D[b] == 0) {
                J(b, 31, G, n[31]);
              }
            }
          }
        }
      }
    }
  } else if (B[a] == 32) {
    e = D[a] & 15;
    g = D[a] >> 4 & 15;
    p = D[a] >> 8 & 255;
    g++;
    if (g == 1) {
      D[a] = p << 8 | g << 4 | e;
      return 0;
    }
    if (g > 12) {
      if (p == 37) {
        J(a, 37, 0, n[37]);
      } else if (p == 50) {
        J(a, 50, 0, C[a]);
      } else {
        gc(a);
      }
      return 1;
    }
    if (g > 8) {
      D[a] = p << 8 | g << 4 | e;
      return 0;
    }
    if (!e) {
      K = F[E[a] + nf[0]];
      if (B[K] == 32) {
        K = 0;
      }
      b = F[E[a] + nf[1]];
      if (B[b] == 32) {
        b = 0;
      }
      d = F[E[a] + nf[2]];
      if (B[d] == 32) {
        d = 0;
      }
      f = F[E[a] + nf[3]];
      if (B[f] == 32) {
        f = 0;
      }
      m = F[E[a] + nf[4]];
      if (B[m] == 32) {
        m = 0;
      }
      u = F[E[a] + nf[5]];
      if (B[u] == 32) {
        u = 0;
      }
      v = F[E[a] + nf[6]];
      if (B[v] == 32) {
        v = 0;
      }
      G = F[E[a] + nf[7]];
      if (B[G] == 32) {
        G = 0;
      }
      if (f >= 1 && m >= 1 && u >= 1) {
        e = 1;
      } else if (u >= 1 && v >= 1 && G >= 1) {
        e = 3;
      } else if (G >= 1 && K >= 1 && b >= 1) {
        e = 5;
      } else if (b >= 1 && d >= 1 && f >= 1) {
        e = 7;
      } else if (u >= 1) {
        e = 2;
      } else if (G >= 1) {
        e = 4;
      } else if (b >= 1) {
        e = 6;
      } else if (f >= 1) {
        e = 8;
      } else {
        D[a] = e | 160;
        return 0;
      }
    }
    --e;
    b = F[E[a] + nf[e]];
    if (b >= 4) {
      if (B[b] == 32) {
        for (d = 2; d <= 4; d++) {
          b = F[E[a] + nf[e] * d];
          if (B[b] != 32) {
            if (b <= 1) {
              if ($d - fc < 1000) {
                break;
              }
              f = qc(~~A[a].x + lf[e] * d, ~~A[a].y + mf[e] * d, 32, e + 1);
              if (f >= 0) {
                C[f] = C[a];
              }
            }
            break;
          }
        }
      } else if (B[b] == 30 || B[b] == 40) {
        b = F[E[a] + nf[e + 1 & 7]];
        if (B[b] != 30 && B[b] != 40) {
          b = 0;
        }
        d = F[E[a] + nf[e + 2 & 7]];
        if (B[d] != 30 && B[d] != 40) {
          d = 0;
        }
        f = F[E[a] + nf[e + 3 & 7]];
        if (B[f] != 30 && B[f] != 40) {
          f = 0;
        }
        m = F[E[a] + nf[e + 4 & 7]];
        if (B[m] != 30 && B[m] != 40) {
          m = 0;
        }
        u = F[E[a] + nf[e + 5 & 7]];
        if (B[u] != 30 && B[u] != 40) {
          u = 0;
        }
        v = F[E[a] + nf[e + 6 & 7]];
        if (B[v] != 30 && B[v] != 40) {
          v = 0;
        }
        G = F[E[a] + nf[e + 7 & 7]];
        if (B[G] != 30 && B[G] != 40) {
          G = 0;
        }
        K = F[E[a] + nf[e] + nf[e + 1 & 7]];
        if (B[K] != 30 && B[K] != 40) {
          K = 0;
        }
        W = F[E[a] + nf[e] + nf[e + 2 & 7]];
        if (B[W] != 30 && B[W] != 40) {
          W = 0;
        }
        ta = F[E[a] + nf[e] + nf[e + 3 & 7]];
        if (B[ta] != 30 && B[ta] != 40) {
          ta = 0;
        }
        var lb = F[E[a] + nf[e] + nf[e + 5 & 7]];
        if (B[lb] != 30 && B[lb] != 40) {
          lb = 0;
        }
        var tb = F[E[a] + nf[e] + nf[e + 6 & 7]];
        if (B[tb] != 30 && B[tb] != 40) {
          tb = 0;
        }
        var Va = F[E[a] + nf[e] + nf[e + 7 & 7]];
        if (B[Va] != 30 && B[Va] != 40) {
          Va = 0;
        }
        if (e & 1) {
          var pe = F[E[a] + nf[e] + nf[e + 2 & 7] + nf[e + 3 & 7]];
          if (B[pe] != 30 && B[pe] != 40) {
            pe = 0;
          }
          var qe = F[E[a] + nf[e] + nf[e + 6 & 7] + nf[e + 5 & 7]];
          if (B[qe] != 30 && B[qe] != 40) {
            qe = 0;
          }
          if (G >= 1 && u >= 1 && b < 1 && m < 1) {
            e = e + 1 & 7;
          } else if (b >= 1 && f >= 1 && m < 1 && G < 1) {
            e = e - 1 & 7;
          } else if (b >= 1 && v >= 1 && G >= 1 && d < 1 && u < 1) {
            e = e + 3 & 7;
          } else if (K >= 1 && tb >= 1 && W < 1 && ta < 1 && lb < 1) {
            e = e + 3 & 7;
          } else if (W >= 1 && lb >= 1 && ta < 1 && pe < 1) {
            e = e + 3 & 7;
          } else if (b >= 1 && d >= 1 && G >= 1 && f < 1 && v < 1) {
            e = e - 3 & 7;
          } else if (W >= 1 && Va >= 1 && ta < 1 && lb < 1 && tb < 1) {
            e = e - 3 & 7;
          } else if (ta >= 1 && tb >= 1 && lb < 1 && qe < 1) {
            e = e - 3 & 7;
          } else if (G >= 1 && b < 1) {
            e = e + 2 & 7;
          } else if (b >= 1 && G < 1) {
            e = e - 2 & 7;
          }
        } else if (u >= 1 && v >= 1 && b < 1 && d < 1) {
          e = e + 1 & 7;
        } else if (d >= 1 && f >= 1 && G < 1 && v < 1) {
          e = e - 1 & 7;
        } else if (b >= 1 && v >= 1 && d < 1 && f < 1 && u < 1) {
          e = e + 3 & 7;
        } else if (K >= 1 && tb >= 1 && W < 1 && ta < 1 && lb < 1) {
          e = e + 3 & 7;
        } else if (d >= 1 && G >= 1 && f < 1 && u < 1 && v < 1) {
          e = e - 3 & 7;
        } else if (W >= 1 && Va >= 1 && ta < 1 && lb < 1 && tb < 1) {
          e = e - 3 & 7;
        } else if (v >= 1 && b < 1 && d < 1 && u < 1) {
          e = e + 2 & 7;
        } else if (d >= 1 && f < 1 && u < 1 && v < 1) {
          e = e - 2 & 7;
        }
      } else if (B[b] == 5 || B[b] == 8 || B[b] == 9 || B[b] == 13 || B[b] == 25 || B[b] == 34) {
        J(b, 7, 0, n[7]);
      } else if (B[b] == 6 || B[b] == 16 || B[b] == 28 || B[b] == 33 || B[b] == 36 || B[b] == 43) {
        J(b, 32, e + 1, n[32]);
      } else if (B[b] == 37) {
        J(b, 32, e + 1 | 9472, n[32]);
      } else if (B[b] == 50) {
        J(b, 32, e + 1 | 12800, C[b]);
      }
    } else if (b <= 1 && !($d - fc < 1000)) {
      f = qc(~~A[a].x + lf[e], ~~A[a].y + mf[e], 32, e + 1);
      if (f >= 0) {
        C[f] = C[a];
      }
    }
    D[a] = p << 8 | g << 4 | e + 1;
  } else if (B[a] == 33) {
    if (D[a] >= 100) {
      gc(a);
      return 1;
    }
    if (yc[a] == 0) {
      F[E[a]] = 0;
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      f = (A[a].y + U[E[a]] << 9) + I(A[a].x + T[E[a]]);
      if (B[F[f]] >= 2) {
        f = (A[a].y + T[E[a]] << 9) + I(A[a].x - U[E[a]]);
        if (F[f] <= 1) {
          e = Lf(0.2);
          H[a].x -= U[E[a]] * e;
          H[a].y += T[E[a]] * e;
        }
        f = (A[a].y - T[E[a]] << 9) + I(A[a].x + U[E[a]]);
        if (F[f] <= 1) {
          e = Lf(0.2);
          H[a].x += U[E[a]] * e;
          H[a].y -= T[E[a]] * e;
        }
        if (xe(0.01)) {
          A[a].x = ~~A[a].x + 0.5;
          A[a].y = ~~A[a].y + 0.5;
        }
      } else {
        e = Lf(1.5);
        c.x += T[E[a]] * e;
        c.y += U[E[a]] * e;
      }
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.9);
        c.add(H[a]);
      }
      if (U[E[a]] == 0) {
        vf(a, c);
      } else {
        zf(a, c);
      }
    } else {
      Ef(a, c);
    }
    e = Vb(8);
    b = F[E[a] + df[e]];
    if (Ye[B[b]] != 0 && xe(0.2)) {
      D[a] = Ed(D[a] + Ye[B[b]], 0, 100);
      J(b, 33, 100, n[B[b]]);
    }
  } else if (B[a] == 34) {
    if (yc[a] == 0) {
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.3);
        c.set(H[a]);
        vf(a, c);
      }
      if ($d - fc < 1000) {
        return 0;
      }
      if (D[a] == 0 && (e = Vb(8), b = F[E[a] + df[e]], b <= 1)) {
        for (d = 0; d < 8; d++) {
          b = F[E[a] + df[e] + df[d]];
          if (b >= 4 && B[b] != 34 && B[b] != 25) {
            if (xe(0.5)) {
              qc(~~A[a].x + gf[e], ~~A[a].y + hf[e], 34, 0);
            }
            break;
          }
        }
      }
      if (D[a] <= 1) {
        W = ~~A[a].x + 0.5 + T[E[a]];
        ta = ~~A[a].y + 0.5 + U[E[a]];
        if (F[(ta << 9) + I(W)] <= 1 && F[(ta + U[E[a]] << 9) + I(W + T[E[a]])] <= 1 && F[(ta + T[E[a]] << 9) + I(W - U[E[a]])] <= 1 && F[(ta - T[E[a]] << 9) + I(W + U[E[a]])] <= 1 && xe(0.2)) {
          qc(~~W, ~~ta, 34, 1);
        }
      }
      if (D[a] == 1 && xe(0.04)) {
        D[a] = 2;
      }
    } else {
      Ef(a, c);
    }
  }
  return 0;
}
aa.fff = Jf;
function Jf(a, c) {
  var b;
  var d;
  var e;
  var f;
  if (B[a] == 35) {
    if (yc[a] == 0) {
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      b = Lf(0.5);
      c.x += T[E[a]] * b;
      c.y += U[E[a]] * b;
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.7);
        c.add(H[a]);
      }
      vf(a, c);
    } else {
      Ef(a, c);
    }
    e = Vb(8);
    b = F[E[a] + df[e]];
    if (B[b] == 6) {
      J(b, 36, 0, n[36]);
      gc(a);
      return 1;
    }
    if (B[b] == 21 && xe(0.2)) {
      gc(a);
      return 1;
    }
  } else if (B[a] == 36) {
    if (yc[a] == 0) {
      F[E[a]] = 0;
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      f = (A[a].y + U[E[a]] << 9) + I(A[a].x + T[E[a]]);
      if (B[F[f]] >= 2) {
        f = (A[a].y + T[E[a]] << 9) + I(A[a].x - U[E[a]]);
        if (F[f] <= 1) {
          b = Mf(0.1, 0.2);
          H[a].x -= U[E[a]] * b;
          H[a].y += T[E[a]] * b;
        }
        f = (A[a].y - T[E[a]] << 9) + I(A[a].x + U[E[a]]);
        if (F[f] <= 1) {
          b = Mf(0.1, 0.2);
          H[a].x += U[E[a]] * b;
          H[a].y -= T[E[a]] * b;
        }
        if (xe(0.01)) {
          A[a].x = ~~A[a].x + 0.5;
          A[a].y = ~~A[a].y + 0.5;
        }
      } else {
        b = Lf(1.5);
        c.x += T[E[a]] * b;
        c.y += U[E[a]] * b;
      }
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.9);
        c.add(H[a]);
      }
      if (U[E[a]] == 0) {
        vf(a, c);
      } else {
        zf(a, c);
      }
    } else {
      Ef(a, c);
    }
    e = Vb(20);
    b = F[E[a] + jf[e]];
    if (B[b] == 8 || B[b] == 9 || B[b] == 30) {
      J(b, 5, 0, n[5]);
    }
    e = Vb(8);
    b = F[E[a] + df[e]];
    if (X[B[b]] == 1 && B[b] != 20 || B[b] == 19 || B[b] == 24) {
      if (xe(0.2) && T[E[a]] * ef[e] + U[E[a]] * ff[e] <= 0.3) {
        tf(a, b);
      }
    } else if (B[b] == 34) {
      J(b, 5, 0, n[5]);
    }
  } else if (B[a] == 37) {
    if (D[a] == 0) {
      if (Ff(H[a]) > 1) {
        D[a] = 1;
      } else {
        S(H[a], 0, 0);
      }
    } else if (D[a] == 1) {
      c.set(H[a]);
      var g = Pd(c) * 0.5;
      for (d = 1; d < 6; d++) {
        b = F[(A[a].y + 0.5 + c.y * d << 9) + I(A[a].x + 0.5 + c.x * d)];
        if (B[b] == 37) {
          D[b] = 1;
          H[b].x = H[a].x * 0.98;
          H[b].y = H[a].y * 0.98;
        } else {
          break;
        }
      }
      for (d = 1; d < 8; d += 2) {
        b = F[E[a] + df[d]];
        if (B[b] == 37 && D[b] != 1) {
          D[b] = 1;
          var m = Vb(8);
          H[b].x = ef[m] * g + H[a].x * 0.1;
          H[b].y = ff[m] * g + H[a].y * 0.1;
        }
      }
      if (g < 1) {
        J(a, 20, 0, n[20]);
      } else {
        J(a, 18, 0, n[18]);
      }
    } else if (D[a] >= 2) {
      if (D[a] == 2) {
        for (d = 1; d < 8; d += 2) {
          b = F[E[a] + df[d]];
          if (B[b] == 37 && D[b] == 0) {
            J(b, 37, 2, n[29]);
          }
        }
      }
      D[a]++;
      if (D[a] > 22) {
        J(a, 37, 0, n[37]);
      }
    }
  } else if (B[a] == 38) {
    if (D[a] == 1) {
      if (xe(0.02)) {
        D[a] = 0;
        Xe(H[a], -1);
      }
      return 0;
    }
    if (yc[a] == 0) {
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      c.add(H[a]);
      vf(a, c);
    } else {
      Ef(a, c);
    }
    Pd(H[a]);
    b = F[(~~A[a].y + 0.5 + H[a].y << 9) + I(~~A[a].x + 0.5 + H[a].x)];
    if (b > 1) {
      if (xe(0.5)) {
        S(H[a], H[a].y, -H[a].x);
      } else {
        S(H[a], -H[a].y, H[a].x);
      }
    }
    e = Vb(8);
    b = F[E[a] + df[e]];
    if (b >= 4) {
      if (X[B[b]] == 2) {
        if (T[E[a]] * ef[e] + U[E[a]] * ff[e] <= 0.3) {
          tf(a, b);
        }
      } else {
        if (B[b] == 8 || B[b] == 25 || B[b] == 39) {
          J(b, 38, 0, n[38]);
          H[b].set(H[a]);
          gc(a);
          return 1;
        }
        if (B[b] == 9) {
          D[a] = 1;
        } else if (X[B[b]] == 3) {
          J(a, 7, 0, n[7]);
        }
      }
    }
    S(c, 0, 0);
    var p = m = 0;
    var u = 0;
    var v = 0;
    b = Ed(I(A[a].x + H[a].x * 4), 8, 503);
    d = Ed(I(A[a].y + H[a].y * 4), 8, 287);
    f = (d << 9) + b;
    for (d = 0; d < 101; d++) {
      e = f + of[d];
      b = F[e];
      if (!(b <= 1)) {
        if (B[b] == 38) {
          c.x += H[b].x;
          c.y += H[b].y;
          m++;
        } else if (B[b] != 9 && B[b] != 8 && B[b] != 25 && B[b] != 39) {
          p += e & 511;
          u += e >> 9;
          v++;
        }
      }
    }
    if (m > 0) {
      Xe(c, 1 / m);
    }
    H[a].x = (H[a].x + c.x) * 0.5;
    H[a].y = (H[a].y + c.y) * 0.5;
    if (v > 0) {
      p = p / v - A[a].x;
      u = u / v - A[a].y;
      b = H[a].y * p - H[a].x * u;
      if (b < 0) {
        S(c, H[a].y, -H[a].x);
      } else {
        S(c, -H[a].y, H[a].x);
      }
      H[a].x = H[a].x * 0.9 + c.x * 0.1;
      H[a].y = H[a].y * 0.9 + c.y * 0.1;
    }
    H[a].x += Mf(-0.1, 0.1);
    H[a].y += Mf(-0.1, 0.1);
  } else if (B[a] == 39) {
    m = D[a] >> 8;
    g = D[a] & 255;
    if (m) {
      Pd(H[a]);
      b = F[(A[a].y + H[a].y << 9) + I(A[a].x + H[a].x)];
      if (X[B[b]] != 2) {
        if (xe(0.5)) {
          S(H[a], H[a].y, -H[a].x);
        } else {
          S(H[a], -H[a].y, H[a].x);
        }
      }
      Xe(H[a], 0.8);
      F[E[a]] = 0;
      c.x = A[a].x + H[a].x;
      c.y = A[a].y;
      b = F[(c.y << 9) + ~~c.x];
      if (b <= 1) {
        A[a].x = c.x;
      } else if (X[B[b]] == 2) {
        tf(a, b);
        A[a].set(c);
        if (B[b] != g) {
          J(b, g, 0, n[g]);
        }
      }
      c.x = A[a].x;
      c.y = A[a].y + H[a].y;
      b = F[(c.y << 9) + ~~c.x];
      if (b <= 1) {
        A[a].y = c.y;
      } else if (X[B[b]] == 2) {
        tf(a, b);
        A[a].set(c);
        if (B[b] != g) {
          J(b, g, 0, n[g]);
        }
      }
      E[a] = (A[a].y << 9) + ~~A[a].x;
      F[E[a]] = a;
      S(c, 0, 0);
      v = u = p = m = 0;
      b = Ed(I(A[a].x + 0.5 + H[a].x * 4), 8, 503);
      d = Ed(I(A[a].y + 0.5 + H[a].y * 4), 8, 287);
      f = (d << 9) + b;
      for (d = 0; d < 101; d++) {
        e = f + of[d];
        b = F[e];
        if (X[B[b]] != 2 || B[b] != g) {
          if (B[b] == 39 && D[a] == D[b]) {
            c.x += H[b].x;
            c.y += H[b].y;
            m++;
          } else {
            p += e & 511;
            u += e >> 9;
            v++;
          }
        }
      }
      if (m > 0) {
        Xe(c, 1 / m);
      }
      H[a].x = (H[a].x + c.x) * 0.5;
      H[a].y = (H[a].y + c.y) * 0.5;
      if (v > 0) {
        p = p / v - A[a].x;
        u = u / v - A[a].y;
        b = H[a].y * p - H[a].x * u;
        if (b < 0) {
          S(c, H[a].y, -H[a].x);
        } else {
          S(c, -H[a].y, H[a].x);
        }
        H[a].x = H[a].x * 0.8 + c.x * 0.2;
        H[a].y = H[a].y * 0.8 + c.y * 0.2;
      }
      H[a].x += Mf(-0.1, 0.1);
      H[a].y += Mf(-0.1, 0.1);
      e = Vb(8);
      b = F[E[a] + df[e]];
      if (b <= 1) {
        D[a] = g | 0;
      } else if (X[B[b]] == 3) {
        J(a, 7, 0, n[7]);
      }
    } else {
      if (yc[a] == 0) {
        S(c, N[Q[E[a]]], O[Q[E[a]]]);
        b = Lf(0.5);
        c.x += T[E[a]] * b;
        c.y += U[E[a]] * b;
        if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
          Xe(H[a], 0.9);
          c.add(H[a]);
        }
        vf(a, c);
      } else {
        Ef(a, c);
      }
      e = Vb(8);
      b = F[E[a] + df[e]];
      if (X[B[b]] == 2) {
        if (!g) {
          g = B[b];
          C[a] = ~n[g] | 0;
        }
        D[a] = g | 256;
      } else if (X[B[b]] == 3) {
        J(a, 7, 0, n[7]);
      }
    }
  } else if (B[a] == 40) {
    if (D[a] == 0) {
      if (yc[a] == 0) {
        F[E[a]] = 0;
        S(c, N[Q[E[a]]], O[Q[E[a]]]);
        f = (A[a].y + U[E[a]] << 9) + I(A[a].x + T[E[a]]);
        if (B[F[f]] >= 2) {
          f = (A[a].y + T[E[a]] << 9) + I(A[a].x - U[E[a]]);
          if (F[f] <= 1) {
            b = Mf(0.1, 0.2);
            H[a].x -= U[E[a]] * b;
            H[a].y += T[E[a]] * b;
          }
          f = (A[a].y - T[E[a]] << 9) + I(A[a].x + U[E[a]]);
          if (F[f] <= 1) {
            b = Mf(0.1, 0.2);
            H[a].x += U[E[a]] * b;
            H[a].y -= T[E[a]] * b;
          }
          if (xe(0.01)) {
            A[a].x = ~~A[a].x + 0.5;
            A[a].y = ~~A[a].y + 0.5;
          }
        } else {
          b = Lf(1.5);
          c.x += T[E[a]] * b;
          c.y += U[E[a]] * b;
        }
        if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
          Xe(H[a], 0.9);
          c.add(H[a]);
        }
        if (U[E[a]] == 0) {
          vf(a, c);
        } else {
          zf(a, c);
        }
      } else {
        Ef(a, c);
      }
      e = Vb(8);
      b = F[E[a] + df[e]];
      if ((X[B[b]] == 1 && B[b] != 40 || X[B[b]] == 2) && T[E[a]] * ef[e] + U[E[a]] * ff[e] >= -0.3) {
        tf(a, b);
      }
    } else {
      e = Vb(4);
      b = F[E[a] + af[e]];
      if (B[b] == 11) {
        J(b, 6, 0, n[6]);
      } else if (B[b] == 15 && D[b] < 256) {
        D[b] += 256;
      }
      m = D[a] - 1;
      for (d = 0; d < 4; d++) {
        if (d != 2) {
          b = F[E[a] + af[m + d & 3]];
          if (B[b] == 40) {
            if (D[b] == 0) {
              tf(a, b);
              D[a] = (m + d & 3) + 1;
            } else {
              J(a, 40, 0, n[40]);
            }
            break;
          } else if (B[b] == 30) {
            J(b, 30, (m + d & 3) + 1, n[29]);
            J(a, 40, 0, n[40]);
            break;
          } else if (B[b] == 37 && D[b] == 0) {
            J(b, 37, 2, n[29]);
          } else if (B[b] == 50 && D[b] == 0) {
            D[b] = 1;
          }
        }
      }
      if (d == 4) {
        if (F[E[a] + af[m]] <= 1) {
          qc(~~A[a].x + bf[m], ~~A[a].y + cf[m], 29, m << 12);
        }
        J(a, 40, 0, n[40]);
      }
    }
  } else if (B[a] == 41) {
    if (yc[a] == 0) {
      if (xe(0.15)) {
        gc(a);
        return 1;
      }
      H[a].x += N[Q[E[a]]] * 0.1;
      H[a].y += O[Q[E[a]]] * 0.1;
      H[a].x += T[E[a]] * 0.02;
      H[a].y += U[E[a]] * 0.02;
      if (F[E[a] + 1] >= 2 || F[E[a] + 2] >= 2) {
        H[a].x -= Mf(0.3, 0.6);
      }
      if (F[E[a] - 1] >= 2 || F[E[a] - 2] >= 2) {
        H[a].x += Mf(0.3, 0.6);
      }
      if (F[E[a] + 512] >= 2 || F[E[a] + 2048] >= 2) {
        H[a].y -= Mf(0.3, 0.6);
      }
      if (F[E[a] - 512] >= 2 || F[E[a] - 2048] >= 2) {
        H[a].y += Mf(0.3, 0.6);
      }
      Xe(H[a], 0.98);
      c.set(H[a]);
      vf(a, c);
    } else {
      Ef(a, c);
    }
    e = Vb(20);
    b = F[E[a] + jf[e]];
    if (B[b] == 5) {
      J(b, 7, 0, n[7]);
    } else if (B[b] == 6 || B[b] == 36 || B[b] == 28) {
      gc(a);
      return 1;
    }
  } else if (B[a] == 42) {
    if (yc[a] != 0) {
      Ef(a, c);
    }
    if (D[a] < 256) {
      e = Vb(8);
      b = F[E[a] + df[e]];
      if (X[B[b]] == 3 && B[b] != 41) {
        D[a] += 256;
      } else if (B[b] == 6 || B[b] == 36) {
        J(a, 10, 0, n[10]);
      } else if (B[b] == 16 || B[b] == 24 || B[b] == 28) {
        D[a] = B[b];
        if (B[b] == 16) {
          C[a] = 6697762;
        }
        if (B[b] == 24) {
          C[a] = 4478242;
        }
        if (B[b] == 28) {
          C[a] = 6706500;
        }
        for (d = 0; d < 8; d++) {
          g = F[E[a] + df[d]];
          if (B[g] == 42 && D[g] == 0) {
            D[g] = B[b];
            if (B[b] == 16) {
              C[g] = 5583650;
            }
            if (B[b] == 24) {
              C[g] = 4473890;
            }
            if (B[b] == 28) {
              C[g] = 5588019;
            }
          }
        }
        J(b, 22, 0, n[B[b]]);
      }
    } else {
      D[a] += 256;
      if (D[a] >= 768) {
        b = D[a] & 255;
        g = 41;
        m = 0;
        if (b == 16) {
          g = 7;
          m = 0;
        } else if (b == 24) {
          g = 24;
          m = 0;
        } else if (b == 28) {
          g = 22;
          m = 10;
        }
        if (F[E[a] - 1] <= 1) {
          qc(~~A[a].x - 1, ~~A[a].y, g, m);
        }
        if (F[E[a] + 1] <= 1) {
          qc(~~A[a].x + 1, ~~A[a].y, g, m);
        }
        if (F[E[a] - 512] <= 1) {
          qc(~~A[a].x, ~~A[a].y - 1, g, m);
        }
        if (F[E[a] + 512] <= 1) {
          qc(~~A[a].x, ~~A[a].y + 1, g, m);
        }
        for (d = 0; d < 8; d++) {
          b = F[E[a] + df[d]];
          if (b >= 4) {
            if (B[b] == 42 && D[b] < 256) {
              D[b] += 256;
            } else if (B[b] == 15 && D[b] < 256) {
              D[b] += 256;
            } else if (B[b] == 16) {
              D[b] = 1;
            } else if (B[b] == 17) {
              D[b] = 1;
            } else if (B[b] == 24) {
              D[b] = 1;
            } else if (B[b] == 27) {
              D[b] = 1;
            }
          }
        }
        J(a, g, m, n[g]);
      }
    }
  } else if (B[a] == 43) {
    if (yc[a] == 0) {
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      b = Lf(-0.15);
      c.x += T[E[a]] * b;
      c.y += U[E[a]] * b;
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.9);
        c.add(H[a]);
      }
      vf(a, c);
    } else {
      Ef(a, c);
    }
    e = Vb(4);
    b = F[E[a] + af[e]];
    if (X[B[b]] == 1 || X[B[b]] == 2) {
      if (T[E[a]] * bf[e] + U[E[a]] * cf[e] <= 0.3) {
        tf(a, b);
      }
    } else if (B[b] == 43) {
      H[a].x += Mf(-0.3, 0.3);
      H[a].y += Mf(-0.3, 0.3);
    } else if (B[b] == 9) {
      J(a, 6, 0, n[6]);
    } else if (B[b] == 11) {
      J(a, 12, 0, n[12]);
    } else if (B[b] == 17) {
      J(a, 6, 0, n[6]);
    } else if (B[b] == 26) {
      J(a, 6, 0, n[6]);
    } else if (B[b] == 30) {
      J(a, 29, (e + 2 & 3) << 12, n[29]);
    } else if (B[b] == 34) {
      J(a, 6, 0, n[6]);
    } else if (B[b] == 42) {
      J(a, 6, 0, n[6]);
    } else if (b == 2) {
      J(a, 6, 0, n[6]);
    }
  } else if (B[a] == 44) {
    if (yc[a] != 0) {
      Ef(a, c);
    }
    if (C[a] == n[44]) {
      e = Vb(4);
      b = F[E[a] + af[e]];
      if (X[B[b]] == 2 || B[b] == 21 || B[b] == 27 || B[b] == 40 || B[b] == 43) {
        J(a, 44, e + 2 & 3, n[B[b]]);
        J(b, 22, 0, n[B[b]]);
      }
    } else {
      m = D[a] & 3;
      for (d = 0; d < 4; d++) {
        if (d != 2 && (b = F[E[a] + af[m + d & 3]], B[b] == 44)) {
          if (C[b] == n[44]) {
            tf(a, b);
            D[a] = m + d & 3;
          } else {
            C[a] = n[44];
          }
          break;
        }
      }
      if (d == 4) {
        if (F[E[a] + (af[m] << 1)] <= 1 && !($d - fc < 1000)) {
          for (d = 0; d < n.length; d++) {
            if (C[a] == n[d]) {
              qc(~~A[a].x + (bf[m] << 1), ~~A[a].y + (cf[m] << 1), d, 0);
              break;
            }
          }
        }
        C[a] = n[44];
      }
    }
  }
  return 0;
}
aa.fff = Kf;
function Kf(a, c) {
  var b;
  var d;
  var e;
  var f;
  var g;
  var m;
  var p;
  var u;
  var v;
  if (B[a] == 50) {
    if (yc[a] != 0) {
      Ef(a, c);
    }
    if (D[a] == 0) {
      v = C[a] >> 16 & 255;
      p = C[a] >> 8 & 255;
      var G = C[a] & 255;
      e = 1;
      for (d = 0; d < 8; d++) {
        b = F[E[a] + df[d]];
        if (B[b] != 32 && B[b] != 29 && b >= 4) {
          v += C[b] >> 16 & 255;
          p += C[b] >> 8 & 255;
          G += C[b] & 255;
          e++;
        }
      }
      if (e > 1) {
        C[a] = I(v / e) << 16 | I(p / e) << 8 | I(G / e);
      }
    } else if (D[a] >= 20) {
      v = I((C[a] >> 16 & 255) * 8 / 9);
      p = I((C[a] >> 8 & 255) * 8 / 9);
      G = I((C[a] & 255) * 8 / 9);
      C[a] = v << 16 | p << 8 | G;
      D[a]++;
      if (D[a] >= 30) {
        D[a] = 0;
      }
    } else if (D[a] >= 1) {
      if (D[a] == 1) {
        for (d = 0; d < 8; d++) {
          b = F[E[a] + df[d]];
          if (B[b] == 50 && D[b] == 0) {
            D[b] = 1;
          }
        }
      }
      v = C[a] >> 16 & 255;
      p = C[a] >> 8 & 255;
      G = C[a] & 255;
      if (v < 255 && p < 255 && G < 255) {
        v = I(v * 9 / 8) + 1;
        if (v > 255) {
          v = 255;
        }
        p = I(p * 9 / 8) + 1;
        if (p > 255) {
          p = 255;
        }
        G = I(G * 9 / 8) + 1;
        if (G > 255) {
          G = 255;
        }
        C[a] = v << 16 | p << 8 | G;
      }
      D[a]++;
    }
  } else if (B[a] == 51) {
    if (yc[a] == 0) {
      S(c, N[Q[E[a]]], O[Q[E[a]]]);
      H[a].x += T[E[a]] * 0.05;
      H[a].y += U[E[a]] * 0.05;
      if (H[a].x < -0.01 || H[a].x > 0.01 || H[a].y < -0.01 || H[a].y > 0.01) {
        Xe(H[a], 0.95);
      }
      c.add(H[a]);
      vf(a, c);
    } else {
      Ef(a, c);
    }
    if (D[a] == 0) {
      e = Vb(8);
      b = F[E[a] + df[e]];
      if (X[B[b]] == 3) {
        D[a] = 1;
      }
    } else {
      if (D[a] >= 2) {
        if (++D[a] < 50 || xe(0.95)) {
          return 0;
        }
        gc(a);
        return 1;
      }
      if (D[a] == 1) {
        v = 3;
        e = ~~A[a].x;
        b = ~~A[a].y;
        d = ue(e - v, 8);
        p = ue(b - v, 8);
        f = De(e + v, 503);
        u = De(b + v, 287);
        v = e + Mf(-0.5, 0.5);
        G = b + Mf(-0.5, 0.5);
        S(c, 0, 0);
        e = 0;
        for (m = p; m <= u; m++) {
          for (g = d; g <= f; g++) {
            b = F[(m << 9) + g];
            if (b >= 2) {
              c.x += v - g;
              c.y += G - m;
              if (b >= 4) {
                e++;
              }
            }
          }
        }
        Pd(c);
        Xe(c, I(e / 2) + 4);
        e = -1;
        for (m = p; m <= u; m++) {
          for (g = d; g <= f; g++) {
            b = F[(m << 9) + g];
            if (b >= 4 && B[b] != 14 && (B[b] != 51 || !(D[b] > 1))) {
              v = Mf(-1, 1);
              H[b].x += c.x + c.y * v;
              H[b].y += c.y - c.x * v;
              if (e == -1) {
                J(b, 51, 2, C[b]);
              } else {
                v = C[e] >> 16 & 255;
                v += C[b] >> 16 & 255;
                v >>= 1;
                p = C[e] >> 8 & 255;
                p += C[b] >> 8 & 255;
                p >>= 1;
                G = C[e] & 255;
                G += C[b] & 255;
                G >>= 1;
                J(b, 51, 2, v << 16 | p << 8 | G);
                e = vc(0, 0, e, b, 0);
                if (e != -1) {
                  Se[e] = 4;
                }
              }
              e = b;
            }
          }
        }
        D[a] = 2;
      }
    }
  } else if (B[a] == 52) {
    if (yc[a] != 0) {
      Ef(a, c);
    }
    if (D[a] >= 2 && D[a] >> 10 != (Rd & 1)) {
      D[a] &= 1;
    }
    u = D[a] >> 2 & 255;
    D[a] &= 1;
    g = 8;
    for (d = 0; d < g; d++) {
      if (!(u & 1 << d) && !(e = D[a] == 0 ? d : 2 - d & 7, b = F[E[a] + df[e]], b < 4 || B[b] == 52 || B[b] == 14 || B[b] == 32 || (f = D[a] == 0 ? e + 1 & 7 : e - 1 & 7, v = F[E[a] + df[f]], !(e & 1) && B[v] == 52))) {
        f = D[a] == 0 ? e - 1 & 7 : e + 1 & 7;
        v = F[E[a] + df[f]];
        if (v <= 1) {
          uf(b, A[b].x + gf[f] - gf[e], A[b].y + hf[f] - hf[e]);
          v = F[E[a] + df[f] + df[f] - df[e]];
          if (B[v] == 52) {
            if (D[v] >= 2 && D[v] >> 10 != (Rd & 1)) {
              D[v] &= 1;
            }
            D[v] = e & 1 ? (Rd & 1) << 10 | D[v] & 1020 | 1 << (d + 2 & 7) + 2 | 2 | D[v] : (Rd & 1) << 10 | D[v] & 1020 | 1 << (d + 1 & 7) + 2 | 2 | D[v];
          }
          if ((e & 1) == 1) {
            f = D[a] == 0 ? e - 2 & 7 : e + 2 & 7;
            v = F[E[a] + df[f]];
            if (B[v] == 52) {
              if (D[v] >= 2 && D[v] >> 10 != (Rd & 1)) {
                D[v] &= 1;
              }
              D[v] |= (Rd & 1) << 10 | D[v] & 1020 | 1 << d + 2 | 2;
            }
          }
          if (!d) {
            g = 7;
          }
        }
      }
    }
    C[a] = D[a] == 0 ? 6702131 : 3359829;
  }
  return 0;
}
var Zb = 10;
var ac = 20;
var bc = 30;
var cc = 40;
var Wb = 0;
var ld = 50;
var Xb = 11;
var w = Array(ld * Xb);
for (ba = 0; ba < ld * Xb; ba++) {
  w[ba] = new ha();
}
var Y = Array(ld * Xb);
for (ba = 0; ba < ld * Xb; ba++) {
  Y[ba] = new ha();
}
var md = new Int32Array(ld * Xb);
var x = new Int32Array(ld);
var nd = new Int32Array(ld);
var $b = new Int32Array(ld);
var Nf = Array(ld);
for (ba = 0; ba < ld; ba++) {
  Nf[ba] = new ha();
}
var od = new Int32Array(ld);
var pd = new Uint8Array(ld);
var Of = [0, 0];
var Pf = [0, 0];
var Qf = [0, 0];
var Rf = [0, 0];
var Sf = [0, 0];
var Tf = [0, 0, 0.5, 0.5, 0.5, 0.5, 0.8, 1, 0.5, 0.5, 0.5, 1, 0.5, 0.5, 0.5, 0.5, 0.8, 0.5, 0.5, 0.8, 0.5, 0.5, 1, 0.5, 0.8, 0.5, 0, 1, 1, 0, 0.5, 0.5, 0, 0.8, 0.5, 0.5, 0.8, 0.9, 0.1, 0.1, 1, 0.5, 0.5, 1, 0.5, 0, 0, 0, 0, 0, 0.5, 0.5, 0.2];
var Uf = [0, 1, 0, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0];
function oc(a, c, b, d) {
  if (Wb != ld) {
    var e;
    var f;
    if (b == 45 || b == 46) {
      for (e = f = 0; e < Wb; e++) {
        if (x[e] == Zb || x[e] == ac) {
          f++;
        }
      }
      if (f >= 2 || d != 0 && Uf[d] == 0) {
        return;
      }
      e = b == 45 ? 0 : 1;
      Rf[e] = 48;
      Sf[e] = 0;
    }
    f = Wb * Xb;
    for (e = 0; e < Xb; e++, f++) {
      if (b == 49) {
        S(w[f], a, c);
      } else if (e == 1) {
        S(w[f], a, c);
      } else {
        S(w[f], a + Lf(4), c + Lf(4));
      }
      Y[f].set(w[f]);
      md[f] = 0;
    }
    if (b == 45) {
      x[Wb] = Zb;
    } else if (b == 46) {
      x[Wb] = ac;
    } else if (b == 47) {
      x[Wb] = bc;
    } else if (b == 49) {
      x[Wb] = cc;
    }
    nd[Wb] = 0;
    $b[Wb] = d;
    S(Nf[Wb], 0, 0);
    od[Wb] = 0;
    pd[Wb] = 0;
    Wb++;
  }
}
function Yb(a) {
  if (Wb) {
    Wb--;
    Ue(1, a);
    for (var c = a * Xb, b = Wb * Xb, d = 0; d < Xb; d++, c++, b++) {
      w[c].set(w[b]);
      Y[c].set(Y[b]);
      md[c] = md[b];
    }
    x[a] = x[Wb];
    nd[a] = nd[Wb];
    $b[a] = $b[Wb];
    Nf[a].set(Nf[Wb]);
    od[a] = od[Wb];
    pd[a] = pd[Wb];
    Ve(1, Wb, a);
  }
}
function tc(a) {
  var c;
  var b;
  for (c = 0; c < Wb; c++) {
    b = c * Xb;
    if (x[c] == Zb || x[c] == ac) {
      b = (Y[b + 1].y << 9) + ~~Y[b + 1].x;
    } else if (x[c] == bc || x[c] == bc + 1) {
      b = (Y[b + 1].y << 9) + ~~Y[b + 1].x;
    } else {
      continue;
    }
    if (b == a) {
      return c;
    }
  }
  return -1;
}
function Vf(a, c, b, d) {
  var e = w[a].x - Y[a].x;
  var f = w[a].y - Y[a].y;
  Y[a].set(w[a]);
  if (c == null) {
    c = (w[a].y << 9) + ~~w[a].x;
    e += T[c] * b;
    f += U[c] * b;
  } else {
    e += c.x * b;
    f += c.y * b;
  }
  w[a].x += e * d;
  w[a].y += f * d;
}
function Wf(a, c, b, d, e) {
  var f = new ha();
  Nd(f, w[c], w[a]);
  var g = Pd(f);
  if (g != 0) {
    b -= g;
    d *= b;
    e *= b;
    w[a].x -= f.x * d;
    w[a].y -= f.y * d;
    w[c].x += f.x * e;
    w[c].y += f.y * e;
  }
}
function Xf(a, c, b, d, e) {
  var f = new ha();
  Nd(f, w[a], Y[a]);
  w[a].set(Y[a]);
  if (b != 0) {
    var g = (w[a].y >> 2 << 7) + (w[a].x >> 2);
    f.x += N[g] * b;
    f.y += O[g] * b;
  }
  if (e == 0) {
    b = ye(f) + 1;
    if (b >= 8) {
      Xe(f, 3.8 / b);
      b = 2;
    } else if (b >= 4) {
      Xe(f, 0.5);
      b = 2;
    } else {
      b = 1;
    }
  } else {
    b = I(ye(f) / 3) + 1;
    Xe(f, 1 / b);
  }
  md[a] = 0;
  if (d == 1) {
    Xe(f, b);
    w[a].add(f);
    w[a].x = Ed(w[a].x, 4, 507);
    w[a].y = Ed(w[a].y, 4, 291);
  } else {
    d = new ha();
    e = new ha();
    if (c == null) {
      g = (w[a].y << 9) + ~~w[a].x;
      S(e, T[g], U[g]);
    } else {
      e.set(c);
    }
    c = Af(e, f);
    Xe(e, c);
    d.set(f);
    d.sub(e);
    var m;
    var p;
    for (var g = 0; g < b; g++) {
      m = w[a].x + e.x;
      p = w[a].y + e.y;
      if (m < 4 || m >= 508 || p < 4 || p >= 292) {
        md[a] = -5;
        return;
      }
      f = (p << 9) + ~~m;
      if (F[f] <= 1) {
        S(w[a], m, p);
      } else if (F[f] <= 2) {
        Xe(d, 0.5);
        md[a] = F[f];
      } else {
        if (c < 0) {
          S(w[a], m, p);
        } else {
          Xe(d, Tf[B[F[f]]]);
          if (X[B[F[f]]] == 2) {
            S(w[a], m, p);
          } else if (B[F[f]] == 52) {
            m = ~~m - ~~w[a].x;
            p = ~~p - ~~w[a].y;
            if (D[F[f]] == 0) {
              if (!m && p == 1) {
                --d.x;
              }
              if (m == -1 && !p) {
                --d.y;
              }
              if (!m && p == -1) {
                d.x += 1;
              }
              if (m == 1 && !p) {
                d.y += 1;
              }
            } else {
              if (!m && p == 1) {
                d.x += 1;
              }
              if (m == -1 && !p) {
                d.y += 1;
              }
              if (!m && p == -1) {
                --d.x;
              }
              if (m == 1 && !p) {
                --d.y;
              }
            }
          }
        }
        md[a] = B[F[f]];
      }
    }
    for (g = 0; g < b; g++) {
      m = w[a].x + d.x;
      p = w[a].y;
      if (m < 4 || m >= 508 || p < 4 || p >= 292) {
        md[a] = -5;
        break;
      }
      f = (p << 9) + ~~m;
      if (F[f] <= 1) {
        S(w[a], m, p);
      } else {
        if (X[B[F[f]]] == 2) {
          S(w[a], m, p);
        }
        md[a] = B[F[f]];
      }
      m = w[a].x;
      p = w[a].y + d.y;
      if (m < 4 || m >= 508 || p < 4 || p >= 292) {
        md[a] = -5;
        break;
      }
      f = (p << 9) + ~~m;
      if (F[f] <= 1) {
        S(w[a], m, p);
      } else {
        if (X[B[F[f]]] == 2) {
          S(w[a], m, p);
        }
        md[a] = B[F[f]];
      }
    }
  }
}
function Yf(a, c) {
  var b = 0;
  for (; a < c; a++) {
    if (md[a] == -5) {
      return -5;
    }
    if (md[a] == 7 && b > -1) {
      b = -1;
    } else if (md[a] == 21 && b > -4) {
      b = -4;
    } else if (md[a] == 26 && b > -1) {
      b = -1;
    } else if (md[a] == 29 && b > -3) {
      b = -3;
    } else if (md[a] == 32 && b > -2) {
      b = -2;
    } else if (md[a] == 33 && b > -1) {
      b = -1;
    } else if (md[a] == 41 && b > -1) {
      b = -1;
    } else if (md[a] != 0 && !b) {
      b = 1;
    }
  }
  return b;
}
function Zf(a, c, b) {
  if (!ca && !Sa) {
    var d = new ha();
    var e;
    var f;
    if (od[a] == 0) {
      if (h == 47 && yd || k == 47 && Cd) {
        e = 400;
        for (var g = c; g < b; g++) {
          d.x = da - Y[g].x;
          d.y = ea - Y[g].y;
          f = Ff(d);
          if (f < e) {
            e = f;
            od[a] = g - c + 1;
          }
        }
      }
    } else if (h == 47 && Kd || k == 47 && Ld) {
      w[c + od[a] - 1].x += (da - w[c + od[a] - 1].x) * 0.1;
      w[c + od[a] - 1].y += (ea - w[c + od[a] - 1].y) * 0.1;
    } else {
      od[a] = 0;
    }
  }
}
aa.fff = Vd;
function Vd() {
  var a;
  for (a = 0; a < Wb; a++) {
    if (x[a] <= Zb + 3) {
      $f(a);
    } else if (x[a] <= ac + 3) {
      $f(a);
    } else {
      ag(a);
    }
  }
}
function $f(a) {
  var c;
  var b;
  var d;
  var e;
  var f;
  var g = new ha();
  var m = new ha();
  var p = new ha();
  b = a * Xb;
  if (x[a] == Zb || x[a] == ac) {
    var u = x[a] == Zb ? 0 : 1;
    var v = x[a] == Zb ? Hc[37] : Hc[65] | Hc[97];
    var G = x[a] == Zb ? Hc[39] : Hc[68] | Hc[100];
    var K = x[a] == Zb ? Hc[38] : Hc[87] | Hc[119];
    var W = x[a] == Zb ? Hc[40] : Hc[83] | Hc[115];
    nd[a]++;
    d = (Y[b + 4].y << 9) + ~~Y[b + 4].x;
    e = (Y[b + 5].y << 9) + ~~Y[b + 5].x;
    f = F[(~~Y[b + 4].y + 0.5 + U[d] << 9) + I(~~Y[b + 4].x + 0.5 + T[d])] > 1 ? 1 : 0;
    var ta = F[(~~Y[b + 5].y + 0.5 + U[e] << 9) + I(~~Y[b + 5].x + 0.5 + T[e])] > 1 ? 1 : 0;
    f ||= F[d] > 1 ? 1 : 0;
    ta ||= F[e] > 1 ? 1 : 0;
    g.x = T[d] + T[e];
    g.y = U[d] + U[e];
    Oe(g);
    m.set(g);
    p.set(g);
    We(m);
    if (W && $b[a] == 38) {
      for (c = 0; c < 6; c++) {
        Vf(b + c, p, 0.01, 0.997);
      }
    } else if (!W || $b[a] != 11) {
      Vf(b + 0, p, -0.2, 0.995);
      Vf(b + 1, p, -0.1, 0.995);
      Vf(b + 2, p, 0, 0.995);
      Vf(b + 3, p, 0, 0.995);
      Vf(b + 4, p, 0.3, 0.995);
      Vf(b + 5, p, 0.3, 0.995);
    }
    Zf(a, b, b + 6);
    w[b].add(Nf[a]);
    Xe(Nf[a], 0.5);
    if (Of[u] > 1) {
      Of[u]--;
    } else if (Of[u] > 0 && (f == 1 || ta == 1)) {
      Of[u]--;
    }
    if (Of[u] == 0) {
      if (G) {
        Of[u] = 15;
        g.x = w[b + 5].x - w[b + 4].x;
        g.y = w[b + 5].y - w[b + 4].y;
        c = g.x * m.x + g.y * m.y;
        if (c > 0) {
          w[b + 2].x += U[d] * 3.2 + -T[d] * 3 * 0.8;
          w[b + 2].y += -T[d] * 3.2 + -U[d] * 3 * 0.8;
        } else {
          w[b + 3].x += U[e] * 3.2 + -T[e] * 3 * 0.8;
          w[b + 3].y += -T[e] * 3.2 + -U[e] * 3 * 0.8;
        }
        Qf[u] = 1;
      } else if (v) {
        Of[u] = 15;
        g.x = w[b + 5].x - w[b + 4].x;
        g.y = w[b + 5].y - w[b + 4].y;
        c = g.x * m.x + g.y * m.y;
        if (c < 0) {
          w[b + 2].x += -U[d] * 3.2 + -T[d] * 3 * 0.8;
          w[b + 2].y += T[d] * 3.2 + -U[d] * 3 * 0.8;
        } else {
          w[b + 3].x += -U[e] * 3.2 + -T[e] * 3 * 0.8;
          w[b + 3].y += T[e] * 3.2 + -U[e] * 3 * 0.8;
        }
        Qf[u] = 0;
      }
    } else if (v) {
      g.x = w[b + 1].x - Y[b + 1].x;
      g.y = w[b + 1].y - Y[b + 1].y;
      c = g.x * m.x + g.y * m.y;
      if (c > 0) {
        w[b + 1].x -= m.x * 0.2;
        w[b + 1].y -= m.y * 0.2;
      }
      Qf[u] = 0;
    } else if (G) {
      g.x = w[b + 1].x - Y[b + 1].x;
      g.y = w[b + 1].y - Y[b + 1].y;
      c = g.x * m.x + g.y * m.y;
      if (c < 0) {
        w[b + 1].x += m.x * 0.2;
        w[b + 1].y += m.y * 0.2;
      }
      Qf[u] = 1;
    }
    if (Pf[u] > 1) {
      Pf[u]--;
    }
    if (Pf[u] > 0 && (f == 1 || ta == 1)) {
      Pf[u]--;
    }
    if (Pf[u] == 0 && K) {
      Pf[u] = 50;
      w[b + 4].x -= p.x * 6;
      w[b + 4].y -= p.y * 6;
      w[b + 5].x -= p.x * 6;
      w[b + 5].y -= p.y * 6;
    }
    if (!W || $b[a] != 11) {
      d = 0.5;
      Wf(b + 0, b + 1, 4, d, d);
      Wf(b + 1, b + 2, 4, d, d);
      Wf(b + 1, b + 3, 4, d, d);
      Wf(b + 2, b + 4, 5, d, d);
      Wf(b + 3, b + 5, 5, d, d);
      Wf(b + 2, b + 3, 5, 0.1, 0.1);
    }
    d = 0.1;
    for (c = 0; c < 4; c++) {
      Xf(b + c, p, d, 1, od[a] > 0 ? 1 : 0);
    }
    for (c = 4; c < 6; c++) {
      Xf(b + c, p, d, 0, od[a] > 0 ? 1 : 0);
    }
    if (!W) {
      for (f = -1; f < 2; f++) {
        for (e = -1; e < 2; e++) {
          d = F[(Y[b + 0].y + f << 9) + (~~Y[b + 0].x + e)];
          if (Uf[B[d]] == 1) {
            $b[a] = B[d];
          }
        }
      }
    }
    if ((!K || !v && !G) && !!W && $b[a] != 0) {
      e = ~~w[b + 0].x;
      f = ~~w[b + 0].y;
      if ($b[a] == 24) {
        e += m.x * (Qf[u] == 0 ? 0 : -0) + p.x * 8;
        f += m.y * (Qf[u] == 0 ? 0 : -0) + p.y * 8;
        w[b + 0].x += m.x * (Qf[u] == 0 ? -0.5 : 0.5) + p.x * -1;
        w[b + 0].y += m.y * (Qf[u] == 0 ? -0.5 : 0.5) + p.y * -1;
      }
      e = Ed(e, 8, 503);
      f = Ed(f, 8, 287);
      if ($b[a] == 1) {
        d = (f >> 2 << 7) + (e >> 2);
        if (t[d] == 0) {
          N[d] += m.x * (Qf[u] == 0 ? -1 : 1);
          O[d] += m.y * (Qf[u] == 0 ? -1 : 1);
        }
      } else if ($b[a] != 11 && $b[a] != 38 && F[f * 512 + e] == 0) {
        d = qc(e, f, $b[a], 0);
        if (d >= 0) {
          if ($b[a] == 7) {
            H[d].x = m.x * (Qf[u] == 0 ? -7 : 7) + p.x * 2.4;
            H[d].y = m.y * (Qf[u] == 0 ? -7 : 7) + p.y * 2.4;
            D[d] = 2;
          } else if ($b[a] == 13) {
            H[d].x = m.x * (Qf[u] == 0 ? -20 : 20) + p.x * 20;
            H[d].y = m.y * (Qf[u] == 0 ? -20 : 20) + p.y * 20;
          } else if ($b[a] == 24) {
            H[d].x = m.x * (Qf[u] == 0 ? 20 : -20);
            H[d].y = m.y * (Qf[u] == 0 ? 20 : -20);
          } else if ($b[a] == 29) {
            D[d] = Qf[u] == 0 ? (I(-ve(p) * 4 / we - 0.5) & 3) << 12 : (I(-ve(p) * 4 / we - 2.5) & 3) << 12;
          } else if ($b[a] == 32) {
            D[d] = Qf[u] == 0 ? (I(ve(p) * 8 / we + 6.5) & 7) + 1 : (I(ve(p) * 8 / we + 2.5) & 7) + 1;
          } else {
            H[d].x = m.x * (Qf[u] == 0 ? -20 : 20) + Mf(-1, 1);
            H[d].y = m.y * (Qf[u] == 0 ? -20 : 20) + Mf(-1, 1);
          }
        }
      }
    }
    if (sa == 1) {
      for (m = 4; m <= 5; m++) {
        f = e = 0;
        if (w[b + m].x < 8) {
          e = 502;
          f = ~~Y[b + m].y;
        } else if (w[b + m].x >= 504) {
          e = 10;
          f = ~~Y[b + m].y;
        } else if (w[b + m].y < 8) {
          e = ~~Y[b + m].x;
          f = 286;
        } else if (w[b + m].y >= 288) {
          e = ~~Y[b + m].x;
          f = 10;
        }
        if (e + f) {
          d = (f << 9) + e;
          if (F[d] <= 1 || X[B[F[d]]] == 2) {
            Ue(1, a);
            Nd(g, w[b + m], Y[b + m]);
            Pd(g);
            for (c = 0; c <= 5; c++) {
              w[b + c].x = e + g.x + Mf(-0.1, 0.1);
              w[b + c].y = f + g.y + Mf(-0.1, 0.1);
              S(Y[b + c], e, f);
              md[b + c] = 0;
            }
            break;
          } else {
            w[b + m].set(Y[b + m]);
            md[b + m] = 2;
            if (Pf[u] > 0) {
              Pf[u]--;
            }
            if (Of[u] > 0) {
              Of[u]--;
            }
          }
        }
      }
    } else if (Yf(b, b + 6) == -5) {
      x[a] = u ? ac + 2 : Zb + 2;
    }
    if (Sf[u] > 0) {
      Sf[u]--;
    }
    b = Yf(b, b + 6);
    if (b < 0) {
      Rf[u] += b;
      Sf[u] = 25;
    }
    if (Rf[u] <= 0) {
      x[a] = u ? ac + 2 : Zb + 2;
    }
  } else if (x[a] == Zb + 2 || x[a] == ac + 2) {
    w[b + 10].set(w[b + 5]);
    Y[b + 10].set(Y[b + 5]);
    w[b + 9].set(w[b + 4]);
    Y[b + 9].set(Y[b + 4]);
    w[b + 8].set(w[b + 3]);
    Y[b + 8].set(Y[b + 3]);
    w[b + 7].set(w[b + 3]);
    Y[b + 7].set(Y[b + 3]);
    w[b + 6].set(w[b + 2]);
    Y[b + 6].set(Y[b + 2]);
    w[b + 5].set(w[b + 2]);
    Y[b + 5].set(Y[b + 2]);
    w[b + 4].set(w[b + 1]);
    Y[b + 4].set(Y[b + 1]);
    w[b + 3].set(w[b + 1]);
    Y[b + 3].set(Y[b + 1]);
    w[b + 2].set(w[b + 1]);
    Y[b + 2].set(Y[b + 1]);
    w[b + 1].set(w[b + 0]);
    Y[b + 1].set(Y[b + 0]);
    w[b + 0].set(w[b + 0]);
    Y[b + 0].set(Y[b + 0]);
    --Nf[a].y;
    nd[a] = 0;
    x[a]++;
  } else if (x[a] == Zb + 3 || x[a] == ac + 3) {
    nd[a]++;
    for (c = 0; c < 11; c++) {
      Vf(b + c, null, 0.1, 0.999);
      w[b + c].add(Nf[a]);
    }
    Xe(Nf[a], 0.5);
    d = 0.5;
    u = (150 - nd[a]) / 150;
    Wf(b + 1, b + 2, u * 4, d, d);
    Wf(b + 3, b + 5, u * 4, d, d);
    Wf(b + 4, b + 7, u * 4, d, d);
    Wf(b + 6, b + 9, u * 5, d, d);
    Wf(b + 8, b + 10, u * 5, d, d);
    d = 0.1;
    for (c = 0; c < 11; c++) {
      Xf(b + c, null, d, 0, 0);
    }
    if (nd[a] > 150) {
      Yb(a--);
    }
  }
}
aa.fff = ag;
function ag(a) {
  var c;
  var b;
  var d;
  var e;
  var f;
  var g = new ha();
  f = new ha();
  e = new ha();
  b = a * Xb;
  if (x[a] == bc || x[a] == bc + 1) {
    nd[a]++;
    d = (Y[b + 4].y << 9) + ~~Y[b + 4].x;
    c = (Y[b + 5].y << 9) + ~~Y[b + 5].x;
    g.x = T[d] + T[c];
    g.y = U[d] + U[c];
    Oe(g);
    f.set(g);
    e.set(g);
    We(f);
    if (x[a] == bc) {
      Vf(b + 0, e, -0.2, 0.995);
      Vf(b + 1, e, -0.1, 0.995);
      Vf(b + 2, e, 0, 0.995);
      Vf(b + 3, e, 0, 0.995);
      Vf(b + 4, e, 0.3, 0.995);
      Vf(b + 5, e, 0.3, 0.995);
    } else {
      Vf(b + 0, e, 0.1, 0.995);
      Vf(b + 1, e, 0.1, 0.995);
      Vf(b + 2, e, 0.1, 0.995);
      Vf(b + 3, e, 0.1, 0.995);
      Vf(b + 4, e, 0.1, 0.995);
      Vf(b + 5, e, 0.1, 0.995);
    }
    Zf(a, b, b + 6);
    w[b].add(Nf[a]);
    Xe(Nf[a], 0.5);
    if (x[a] == bc) {
      g.x = w[b + 5].x - w[b + 4].x;
      g.y = w[b + 5].y - w[b + 4].y;
      f = g.x * f.x + g.y * f.y;
      if (md[b + 4] != 0 && md[b + 5] != 0) {
        var m = Vb(100);
        if (m < 5) {
          if (f > 0) {
            w[b + 4].x += U[d] * 4 + -T[d] * 4;
            w[b + 4].y += -T[d] * 4 + -U[d] * 4;
          } else {
            w[b + 5].x += U[c] * 4 + -T[c] * 4;
            w[b + 5].y += -T[c] * 4 + -U[c] * 4;
          }
        } else if (m < 10) {
          if (f < 0) {
            w[b + 4].x += -U[d] * 4 + -T[d] * 4;
            w[b + 4].y += T[d] * 4 + -U[d] * 4;
          } else {
            w[b + 5].x += -U[c] * 4 + -T[c] * 4;
            w[b + 5].y += T[c] * 4 + -U[c] * 4;
          }
        }
      } else if (md[b + 4] != 0) {
        if (xe(0.02)) {
          f = Mf(-4, 4);
          w[b + 4].x += U[d] * f + -T[d] * 4;
          w[b + 4].y += -T[d] * f + -U[d] * 4;
        }
      } else if (md[b + 5] != 0 && xe(0.02)) {
        f = Mf(-4, 4);
        w[b + 5].x += U[c] * f + -T[c] * 4;
        w[b + 5].y += -T[c] * f + -U[c] * 4;
      }
      for (c = 0; c < Wb; c++) {
        if (a != c && (x[c] == bc || x[c] == bc + 1 || x[c] == Zb || x[c] == ac)) {
          d = c * Xb;
          f = Md(w[b + 4].x - w[d].x);
          m = Md(w[b + 4].y - w[d].y);
          if (f <= 4 && m <= 4) {
            Nf[c].x += (w[b + 4].x - Y[b + 4].x) * 1;
            Nf[c].y += (w[b + 4].y - Y[b + 4].y) * 2;
            if (x[c] == bc) {
              x[c] = bc + 1;
            }
            nd[c] = 0;
            if (x[c] == Zb) {
              Rf[0] -= 8;
              Sf[0] = 25;
            }
            if (x[c] == ac) {
              Rf[1] -= 8;
              Sf[1] = 25;
            }
          }
          f = Md(w[b + 5].x - w[d].x);
          m = Md(w[b + 5].y - w[d].y);
          if (f <= 4 && m <= 4) {
            Nf[c].x += (w[b + 5].x - Y[b + 5].x) * 1;
            Nf[c].y += (w[b + 5].y - Y[b + 5].y) * 2;
            if (x[c] == bc) {
              x[c] = bc + 1;
            }
            nd[c] = 0;
            if (x[c] == Zb) {
              Rf[0] -= 8;
              Sf[0] = 25;
            }
            if (x[c] == ac) {
              Rf[1] -= 8;
              Sf[1] = 25;
            }
          }
        }
      }
    } else if (nd[a] > 10 && (md[b + 4] != 0 || md[b + 5] != 0) && xe(0.1)) {
      x[a] = bc;
      nd[a] = 0;
    }
    f = 0.5;
    Wf(b + 0, b + 1, 4, f, f);
    Wf(b + 1, b + 2, 4, f, f);
    Wf(b + 1, b + 3, 4, f, f);
    Wf(b + 2, b + 4, 5, f, f);
    Wf(b + 3, b + 5, 5, f, f);
    Wf(b + 2, b + 3, 5, 0.1, 0.1);
    d = 0.1;
    for (c = 0; c < 4; c++) {
      Xf(b + c, e, d, 1, od[a] > 0 ? 1 : 0);
    }
    for (c = 4; c < 6; c++) {
      Xf(b + c, e, d, 0, od[a] > 0 ? 1 : 0);
    }
    if (x[a] == bc) {
      if (Yf(b, b + 6) != 0) {
        nd[a] = 0;
      } else if (nd[a] > 50) {
        x[a] = bc + 1;
      }
    }
    if (sa == 1) {
      for (c = 4; c <= 5; c++) {
        f = e = 0;
        if (w[b + c].x < 8) {
          e = 502;
          f = ~~Y[b + c].y;
        } else if (w[b + c].x >= 504) {
          e = 10;
          f = ~~Y[b + c].y;
        } else if (w[b + c].y < 8) {
          e = ~~Y[b + c].x;
          f = 286;
        } else if (w[b + c].y >= 288) {
          e = ~~Y[b + c].x;
          f = 10;
        }
        if (e + f) {
          d = (f << 9) + e;
          if (F[d] <= 1 || X[B[F[d]]] == 2) {
            Ue(1, a);
            Nd(g, w[b + c], Y[b + c]);
            Pd(g);
            for (c = 0; c <= 5; c++) {
              w[b + c].x = e + g.x + Mf(-0.1, 0.1);
              w[b + c].y = f + g.y + Mf(-0.1, 0.1);
              S(Y[b + c], e, f);
              md[b + c] = 0;
            }
            break;
          } else {
            w[b + c].set(Y[b + c]);
            md[b + c] = 2;
          }
        }
      }
    } else if (Yf(b, b + 6) == -5) {
      x[a] = bc + 2;
    }
    if (Yf(b, b + 6) < 0) {
      x[a] = bc + 2;
    }
  } else if (x[a] == bc + 2) {
    w[b + 10].set(w[b + 5]);
    Y[b + 10].set(Y[b + 5]);
    w[b + 9].set(w[b + 4]);
    Y[b + 9].set(Y[b + 4]);
    w[b + 8].set(w[b + 3]);
    Y[b + 8].set(Y[b + 3]);
    w[b + 7].set(w[b + 3]);
    Y[b + 7].set(Y[b + 3]);
    w[b + 6].set(w[b + 2]);
    Y[b + 6].set(Y[b + 2]);
    w[b + 5].set(w[b + 2]);
    Y[b + 5].set(Y[b + 2]);
    w[b + 4].set(w[b + 1]);
    Y[b + 4].set(Y[b + 1]);
    w[b + 3].set(w[b + 1]);
    Y[b + 3].set(Y[b + 1]);
    w[b + 2].set(w[b + 1]);
    Y[b + 2].set(Y[b + 1]);
    w[b + 1].set(w[b + 0]);
    Y[b + 1].set(Y[b + 0]);
    w[b + 0].set(w[b + 0]);
    Y[b + 0].set(Y[b + 0]);
    --Nf[a].y;
    nd[a] = 0;
    x[a] = bc + 3;
  } else if (x[a] == bc + 3) {
    nd[a]++;
    for (c = 0; c < 11; c++) {
      Vf(b + c, null, 0.1, 0.999);
      w[b + c].add(Nf[a]);
    }
    Xe(Nf[a], 0.5);
    f = 0.5;
    g = (150 - nd[a]) / 150;
    Wf(b + 1, b + 2, g * 4, f, f);
    Wf(b + 3, b + 5, g * 4, f, f);
    Wf(b + 4, b + 7, g * 4, f, f);
    Wf(b + 6, b + 9, g * 5, f, f);
    Wf(b + 8, b + 10, g * 5, f, f);
    d = 0.1;
    for (c = 0; c < 11; c++) {
      Xf(b + c, null, d, 0, 0);
    }
    if (nd[a] > 150) {
      Yb(a--);
    }
  } else if (x[a] == cc) {
    if (md[b] == 0) {
      for (c = 0; c < Wb; c++) {
        if (!(w[b].x + 8 < w[c * Xb].x) && !(w[c * Xb].x < w[b].x - 4) && !(w[b].y + 8 < w[c * Xb].y) && !(w[c * Xb].y < w[b].y - 4)) {
          if (x[c] == Zb || x[c] == ac) {
            for (g = 0; g < Wb; g++) {
              if (x[g] == cc && md[g * Xb] == Zb) {
                md[g * Xb] = 0;
              }
            }
            md[b] = Zb;
            $b[a] = $b[c];
          } else if (x[c] == bc) {
            md[b] = x[c];
            $b[a] = $b[c];
          }
        }
      }
      for (c = 0; c < dc; c++) {
        if (y[c] != 0 && !(w[b].x + 8 < z[c].x) && !(z[c].x < w[b].x - 4) && !(w[b].y + 8 < z[c].y) && !(z[c].y < w[b].y - 4)) {
          md[b] = 3;
          $b[a] = y[c];
        }
      }
    } else {
      e = ~~w[b + 0].x;
      f = ~~w[b + 0].y;
      if (md[b] == Zb) {
        if (xe(0.1)) {
          d = 45;
          for (c = 0; c < Wb; c++) {
            if (x[c] == Zb) {
              d = 46;
            }
          }
          oc(e, f, d, $b[a]);
        }
      } else if (md[b] == bc) {
        if (xe(0.01)) {
          oc(e, f, 47, 0);
        }
      } else if (md[b] == 3 && xe(0.01)) {
        pc(e + 2, f + 2, $b[a]);
      }
    }
  }
}
aa.fff = Fe;
function Fe() {
  var a;
  var c;
  var b;
  var d;
  var e;
  var f = [-1023, -1022, -510, 2, 514, 1026, 1025, 1024, 1023, 1022, 510, -2, -514, -1026, -1025, -1024];
  var g = [-1023, -510, 2, 514, 1025, 1024, 1023, 510, -2, -514, -1025, -1024];
  var m = [-511, 1, 513, 512, 511, -1, -513, -512];
  var p = [1, 512, -1, -512];
  var u = 16769198;
  var v = 16777215;
  var G = 52224;
  var K = 10027008;
  if (la == 14) {
    G = v = u = 0;
    K = 13421772;
  }
  for (b = a = 0; a < Wb; a++, b += Xb) {
    if (x[a] <= ac + 3) {
      if (x[a] != Zb + 3 && x[a] != ac + 3) {
        Zd(w[b + 1].x, w[b + 1].y, w[b + 2].x, w[b + 2].y, v);
        Zd(w[b + 1].x, w[b + 1].y, w[b + 3].x, w[b + 3].y, v);
        Zd(w[b + 2].x, w[b + 2].y, w[b + 4].x, w[b + 4].y, v);
        Zd(w[b + 3].x, w[b + 3].y, w[b + 5].x, w[b + 5].y, v);
        e = x[a] <= Zb + 3 ? f : g;
      } else {
        Zd(w[b + 3].x, w[b + 3].y, w[b + 5].x, w[b + 5].y, v);
        if (nd[a] > 140) {
          continue;
        }
        Zd(w[b + 4].x, w[b + 4].y, w[b + 7].x, w[b + 7].y, v);
        if (nd[a] > 135) {
          continue;
        }
        Zd(w[b + 6].x, w[b + 6].y, w[b + 9].x, w[b + 9].y, v);
        if (nd[a] > 130) {
          continue;
        }
        Zd(w[b + 8].x, w[b + 8].y, w[b + 10].x, w[b + 10].y, v);
        if (nd[a] > 125) {
          continue;
        }
        e = x[a] <= Zb + 3 ? m : p;
      }
      d = n[$b[a]] == 0 ? u : n[$b[a]];
      if (la == 14) {
        d = 0;
      }
      var W = 0;
      var ta = 0;
      if (x[a] == Zb) {
        W = Rf[0];
        ta = Sf[0];
      }
      if (x[a] == ac) {
        W = Rf[1];
        ta = Sf[1];
      }
      var lb = e.length;
      for (c = 0; c < lb; c++) {
        var tb = (w[b].y << 9) + ~~w[b].x + e[c];
        if (jd[tb]) {
          q[tb] = ta > 0 ? lb - I(W * lb / 48) <= c ? G : K : q[tb] == d ? 0 : d;
        }
      }
      if (la == 12) {
        c = I(Ed(w[b + 0].x, 8, 503));
        W = I(Ed(w[b + 0].y, 8, 283));
        e = W - 4;
        for (; e <= W + 4; e += 4) {
          for (d = c - 4; d <= c + 4; d += 4) {
            Ab[(e << 9) + d] = 536870911;
          }
        }
      }
    } else if (x[a] <= bc + 2) {
      Zd(w[b + 0].x, w[b + 0].y, w[b + 1].x, w[b + 1].y, u);
      Zd(w[b + 1].x, w[b + 1].y, w[b + 2].x, w[b + 2].y, v);
      Zd(w[b + 1].x, w[b + 1].y, w[b + 3].x, w[b + 3].y, v);
      Zd(w[b + 2].x, w[b + 2].y, w[b + 4].x, w[b + 4].y, v);
      Zd(w[b + 3].x, w[b + 3].y, w[b + 5].x, w[b + 5].y, v);
      dd(w[b + 0].x - 1, w[b + 0].y - 1, 3, 3, u);
    } else if (x[a] <= bc + 3) {
      Zd(w[b + 1].x, w[b + 1].y, w[b + 2].x, w[b + 2].y, v);
      if (nd[a] > 145) {
        continue;
      }
      Zd(w[b + 3].x, w[b + 3].y, w[b + 5].x, w[b + 5].y, v);
      if (nd[a] > 140) {
        continue;
      }
      Zd(w[b + 4].x, w[b + 4].y, w[b + 7].x, w[b + 7].y, v);
      if (nd[a] > 135) {
        continue;
      }
      Zd(w[b + 6].x, w[b + 6].y, w[b + 9].x, w[b + 9].y, v);
      if (nd[a] > 130) {
        continue;
      }
      Zd(w[b + 8].x, w[b + 8].y, w[b + 10].x, w[b + 10].y, v);
      if (nd[a] > 125) {
        continue;
      }
      dd(w[b + 0].x - 1, w[b + 0].y - 1, 2, 2, u);
    } else if (x[a] <= cc) {
      d = 9465872;
      if (la == 14) {
        d = 0;
      }
      if (md[b] == Zb) {
        Zd(w[b].x, w[b].y, w[b].x, w[b].y + 3, d);
        Zd(w[b].x, w[b].y, w[b].x + 2, w[b].y, d);
        Zd(w[b].x, w[b].y + 2, w[b].x + 2, w[b].y + 2, d);
        Zd(w[b].x + 3, w[b].y, w[b].x + 3, w[b].y + 2, d);
      } else if (md[b] == bc) {
        Zd(w[b].x, w[b].y, w[b].x, w[b].y + 3, d);
        Zd(w[b].x, w[b].y, w[b].x + 3, w[b].y, d);
        Zd(w[b].x, w[b].y + 2, w[b].x + 2, w[b].y + 2, d);
      } else if (md[b] == 3) {
        Zd(w[b].x + 1, w[b].y, w[b].x + 2, w[b].y, d);
        Zd(w[b].x, w[b].y + 1, w[b].x, w[b].y + 2, d);
        Zd(w[b].x + 3, w[b].y + 1, w[b].x + 3, w[b].y + 2, d);
        Zd(w[b].x + 1, w[b].y + 3, w[b].x + 2, w[b].y + 3, d);
      } else {
        dd(w[b].x, w[b].y, 4, 4, d);
      }
    }
    if (x[a] <= bc + 3 && la == 13) {
      for (c = 0; c < 6; c++) {
        d = I(Ed(w[b + c].x, 8, 503));
        e = I(Ed(w[b + c].y, 8, 287));
        Ab[(e << 9) + d] = 3000;
      }
    }
  }
}
var dc = 50;
var z = Array(dc);
for (ba = 0; ba < dc; ba++) {
  z[ba] = new ha();
}
var V = Array(dc);
for (ba = 0; ba < dc; ba++) {
  V[ba] = new ha();
}
var y = new Int32Array(dc);
var R = new Int32Array(dc);
var qd = new Int32Array(dc);
var rd = new Uint8Array(dc);
var bg;
function pc(a, c, b) {
  for (var d = 0; d < dc; d++) {
    if (y[d] == 0) {
      S(z[d], a + 0.5, c + 0.5);
      S(V[d], 0, 0);
      y[d] = b;
      R[d] = 0;
      qd[d] = 0;
      rd[d] = 0;
      break;
    }
  }
}
function ec(a) {
  y[a] = 0;
  Ue(2, a);
}
function uc(a) {
  var c;
  var b;
  for (c = 0; c < dc; c++) {
    if (y[c] != 0 && (b = (z[c].y << 9) + ~~z[c].x, b == a)) {
      return c;
    }
  }
  return -1;
}
var Ae = [-513, -512, -511, -1, 0, 1, 511, 512, 513, -1025, -1024, -1023, 1023, 1024, 1025, -514, -2, 510, -510, 2, 514, -1537, -1536, -1535, 1535, 1536, 1537, -515, -3, 509, -509, 3, 515, -1026, -1022, 1022, 1026];
var cg = [-0.7, 0, 0.7, -1, 0, 1, -0.7, 0, 0.7, -0.44, 0, 0.44, -0.44, 0, 0.44, -0.89, -1, -0.89, 0.89, 1, 0.89, -0.31, 0, 0.31, -0.31, 0, 0.31, -0.94, -1, -0.94, 0.94, 1, 0.94, -0.7, 0.7, -0.7, 0.7];
var dg = [-0.7, -1, -0.7, 0, 0, 0, 0.7, 1, 0.7, -0.89, -1, -0.89, 0.89, 1, 0.89, -0.44, 0, 0.44, -0.44, 0, 0.44, -0.94, -1, -0.94, 0.94, 1, 0.94, -0.31, 0, 0.31, -0.31, 0, 0.31, -0.7, -0.7, 0.7, 0.7];
var eg = [-1, 0, 1, -1, 0, 1, -1, 0, 1, -1, 0, 1, -1, 0, 1, -2, -2, -2, 2, 2, 2, -1, 0, 1, -1, 0, 1, -3, -3, -3, 3, 3, 3, -2, 2, -2, 2];
var fg = [-1, -1, -1, 0, 0, 0, 1, 1, 1, -2, -2, -2, 2, 2, 2, -1, 0, 1, -1, 0, 1, -3, -3, -3, 3, 3, 3, -1, 0, 1, -1, 0, 1, -2, -2, 2, 2];
var gg = [0, 0.1, 0, 0, 0, 0.1, 0.1, -0.03, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0, 0.1, 0.1, 0.1, 0.1, -0.01, 0.1, 0.1, 0.2, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.05, 0.1, 0.2, 0.1, 0.1, -0.02, 0.1, 0, 0, 0, 0, 0, 0.1, 0.1, 0.1];
var hg = [0, 0, 0, 0, 0, 0.5, 0.4, 0.5, 0.5, 0.4, 0.4, 0.3, 0.4, 0.3, 0.3, 0.3, 0, 0.2, 0.2, 0.3, 0.1, 0, 0, 0.5, 0.3, 0.5, 0.3, 0.5, 0.4, 0, 0, 0.1, 0, 0.4, 0.4, 0.5, 0.4, 0.2, 0.5, 0.5, 0, 0.5, 0.2, 0.5, 0, 0, 0, 0, 0, 0, 0.2, 0.1, 0];
var ig = [0, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1];
aa.fff = Wd;
function Wd() {
  var a;
  var c;
  var b;
  var d;
  var e = new ha();
  for (a = 0; a < dc; a++) {
    if (y[a] != 0) {
      if (ig[y[a]] == 0) {
        ec(a);
      } else {
        b = (z[a].y << 9) + ~~z[a].x;
        for (c = 0; c < 21; c++) {
          if (F[b + Ae[c]] == 3) {
            F[b + Ae[c]] = 0;
          }
        }
        var f = T[b] * gg[y[a]];
        var g = U[b] * gg[y[a]];
        V[a].x += f;
        V[a].y += g;
        var m = hg[y[a]];
        if (m != 0) {
          var p = (z[a].y >> 2 << 7) + (z[a].x >> 2);
          V[a].x += N[p] * m;
          V[a].y += O[p] * m;
          if (Ff(V[a]) > 100) {
            Xe(V[a], 0.9 + (1 - m) * 0.1);
          }
        }
        p = a;
        if (qd[p] == 0) {
          if (h == 47 && yd || k == 47 && Cd) {
            var m = da - z[p].x;
            var u = ea - z[p].y;
            if (m * m + u * u < 400) {
              qd[p] = 1;
            }
          }
        } else if (h == 47 && Kd || k == 47 && Ld) {
          V[p].x += (da - z[p].x) * 0.05;
          V[p].y += (ea - z[p].y) * 0.05;
          Xe(V[p], 0.9);
        } else {
          qd[p] = 0;
        }
        for (m = 0; m < Wb; m++) {
          if (x[m] == bc || x[m] == bc + 1 || x[m] == Zb || x[m] == ac) {
            p = m * Xb;
            u = 4;
            for (; u <= 5; u++) {
              var v = Md(w[p + u].y - z[a].y);
              if (Md(w[p + u].x - z[a].x) <= 9 && v <= 9) {
                V[a].x += (w[p + u].x - Y[p + u].x) * 0.1;
                V[a].y += (w[p + u].y - Y[p + u].y) * 0.2;
              }
            }
          }
        }
        bg = p = 0;
        for (var m = I(jg(V[a]) / 2) + 1, u = 1 / m, G, K, v = 0; v < m; v++) {
          G = z[a].x + V[a].x * u;
          K = z[a].y + V[a].y * u;
          if (G < 4 || G >= 508 || K < 4 || K >= 292) {
            ec(a);
            break;
          }
          if (sa == 1) {
            if (G < 8) {
              if (F[(K << 9) + I(G + 496)] <= 1) {
                z[a].x += 496;
                V[a].x *= 0.8;
                Ue(2, a);
              } else {
                V[a].x *= -0.8;
              }
              G = z[a].x + V[a].x * u;
            } else if (G >= 504) {
              if (F[(K << 9) + I(G - 496)] <= 1) {
                z[a].x -= 496;
                V[a].x *= 0.8;
                Ue(2, a);
              } else {
                V[a].x *= -0.8;
              }
              G = z[a].x + V[a].x * u;
            }
            if (K < 8) {
              if (F[(K + 280 << 9) + ~~G] <= 1) {
                z[a].y += 280;
                V[a].y *= 0.8;
                Ue(2, a);
              } else {
                V[a].y *= -0.8;
              }
              K = z[a].y + V[a].y * u;
            } else if (K >= 288) {
              if (F[(K - 280 << 9) + ~~G] <= 1) {
                z[a].y -= 280;
                V[a].y *= 0.5;
                Ue(2, a);
              } else {
                V[a].y *= -0.8;
              }
              K = z[a].y + V[a].y * u;
            }
          }
          if (G < 4 || G >= 508 || K < 4 || K >= 292) {
            ec(a);
            break;
          }
          b = (K << 9) + ~~G;
          d = 0;
          S(e, 0, 0);
          for (c = 0; c < 37; c++) {
            var W = F[b + Ae[c]];
            if (!(W <= 1)) {
              p = B[W];
              if (kg(a, c, p, W) != 1 && (X[p] != 2 || X[y[a]] != 2 || y[a] == p) && (X[p] != 2 || X[y[a]] == 2) && (X[p] != 5 || X[y[a]] == 5) && p != 7 && p != 29) {
                if (p == 52) {
                  if (D[W] == 0) {
                    if (c == 22) {
                      e.x += 1;
                    }
                    if (c == 25) {
                      --e.x;
                    }
                    if (c == 28) {
                      --e.y;
                    }
                    if (c == 31) {
                      e.y += 1;
                    }
                  } else {
                    if (c == 22) {
                      --e.x;
                    }
                    if (c == 25) {
                      e.x += 1;
                    }
                    if (c == 28) {
                      e.y += 1;
                    }
                    if (c == 31) {
                      --e.y;
                    }
                  }
                }
                e.x -= cg[c];
                e.y -= dg[c];
                d++;
              }
            }
          }
          if (d) {
            Oe(e);
            V[a].x -= f;
            V[a].y -= g;
            c = jg(V[a]) * 0.999;
            b = Af(e, V[a]);
            if (b < 0) {
              Xe(e, -b);
              V[a].add(e);
              Xe(V[a], 0.9);
              Xe(e, 0.1);
              V[a].add(e);
              Oe(V[a]);
              Xe(V[a], c);
            }
            z[a].x += V[a].x * u;
            z[a].y += V[a].y * u;
            V[a].x += f;
            V[a].y += g;
          } else {
            z[a].x = G;
            z[a].y = K;
          }
          if (z[a].x < 4 || z[a].x >= 508 || z[a].y < 4 || z[a].y >= 292) {
            ec(a);
            break;
          }
          b = (z[a].y << 9) + ~~z[a].x;
          d = 0;
          S(e, 0, 0);
          for (c = 0; c < 21; c++) {
            W = F[b + Ae[c]];
            if (!(W <= 1) && (X[B[W]] != 2 || X[y[a]] != 2 || y[a] == B[W]) && (X[B[W]] != 2 || X[y[a]] == 2) && (X[B[W]] != 5 || X[y[a]] == 5) && (B[W] != 32 || X[y[a]] != 2) && (B[W] != 32 || y[a] != 40) && B[W] != 7 && B[W] != 29) {
              e.x -= cg[c];
              e.y -= dg[c];
              d++;
            }
          }
          if (d) {
            Oe(e);
            z[a].add(e);
          }
        }
        if (z[a].x < 4 || z[a].x >= 508 || z[a].y < 4 || z[a].y >= 292) {
          ec(a);
        } else {
          lg(a, p);
          if (y[a] != 0) {
            if (bg) {
              y[a] = bg;
              R[a] = 0;
            }
            b = (z[a].y << 9) + ~~z[a].x;
            c = 0;
            for (; c < 21; c++) {
              if (F[b + Ae[c]] <= 1) {
                F[b + Ae[c]] = 3;
              }
            }
          }
        }
      }
    }
  }
}
aa.fff = kg;
function kg(a, c, b, d) {
  if (y[a] != 5) {
    if (y[a] == 6) {
      if (b == 7) {
        gc(d);
      } else if (b == 9) {
        pf(d, 8);
      } else if (b == 11) {
        bg = 11;
      } else if (b == 12) {
        bg = 12;
      } else if (b == 18) {
        pf(d, 19);
      } else {
        if (b == 21) {
          return 1;
        }
        if (b == 26) {
          gc(d);
        } else if (b == 30) {
          if (xe(0.1)) {
            pf(d, 5);
          }
        } else {
          if (b == 32) {
            return 1;
          }
          if (b == 35) {
            if (++R[a] >= 20) {
              bg = 36;
            }
            gc(d);
          } else if (b == 41) {
            gc(d);
          } else if (b == 42) {
            pf(d, 10);
          }
        }
      }
    } else if (y[a] == 11) {
      if (b == 6) {
        pf(d, 11);
      } else if (b == 11) {
        R[a] = 0;
      } else if (b == 12) {
        R[a] = 0;
      } else if (b == 7) {
        if (++R[a] >= 20) {
          bg = 6;
        }
      } else if (b == 21) {
        bg = 6;
      } else if (b == 26) {
        if (++R[a] >= 20) {
          bg = 6;
        }
      } else if (b == 32) {
        if (++R[a] >= 20) {
          bg = 6;
        }
      } else if (b == 41 && ++R[a] >= 20) {
        bg = 6;
      }
    } else if (y[a] == 12) {
      if (b == 6) {
        pf(d, 12);
      } else if (b == 7) {
        bg = 6;
      } else if (b == 21) {
        bg = 6;
      } else if (b == 26) {
        bg = 6;
      } else if (b == 32) {
        bg = 6;
      } else if (b == 41) {
        bg = 6;
      }
    } else if (y[a] == 36) {
      if (b == 6) {
        R[a] = 0;
      } else if (b == 8) {
        pf(d, 5);
      } else if (b == 9) {
        pf(d, 5);
      } else if (b == 30) {
        pf(d, 5);
      } else if (b == 34) {
        pf(d, 5);
      } else if (b == 42) {
        pf(d, 10);
      } else if (b == 7) {
        if (++R[a] >= 20) {
          bg = 35;
        }
        gc(d);
      } else if (b == 21) {
        bg = 35;
      } else if (b == 26) {
        if (++R[a] >= 20) {
          bg = 35;
        }
        gc(d);
      } else {
        if (b == 32) {
          if (++R[a] >= 20) {
            bg = 35;
          }
          return 1;
        }
        if (b == 41) {
          if (++R[a] >= 20) {
            bg = 35;
          }
          gc(d);
        }
      }
    } else if (y[a] == 35) {
      if (b == 6) {
        bg = 36;
      } else if (b == 21) {
        return 1;
      }
    } else if (y[a] == 7) {
      if (b == 5) {
        pf(d, 7);
      } else if (b == 8) {
        pf(d, 7);
      } else if (b == 9) {
        pf(d, 7);
      } else if (b == 10) {
        pf(d, 7);
      } else if (b == 11) {
        pf(d, 6);
      } else if (b == 12) {
        pf(d, 6);
      } else if (b == 15) {
        if (B[d] == 15 && D[d] < 256) {
          D[d] += 256;
        }
      } else if (b == 16) {
        pf(d, 7);
      } else if (b == 17) {
        pf(d, 7);
      } else if (b == 24) {
        pf(d, 7);
      } else if (b == 25) {
        pf(d, 7);
      } else if (b == 27) {
        pf(d, 7);
      } else if (b == 34) {
        pf(d, 7);
      } else if (b == 38) {
        pf(d, 7);
      } else if (b == 39) {
        pf(d, 7);
      } else if (b == 42) {
        pf(d, 7);
      }
    } else if (y[a] == 8) {
      if (b == 5 || b == 18 || b == 34) {
        if (R[a] == 1) {
          bg = 9;
        } else {
          pf(d, 8);
        }
      } else if (b == 6) {
        R[a] = 1;
      }
    } else if (y[a] == 9) {
      if (b == 8) {
        D[d] = 1;
      } else if (b == 16) {
        R[a] = 1;
      }
    } else if (y[a] == 16) {
      if (b == 21) {
        return 1;
      }
      if (b == 28) {
        gc(d);
      } else {
        if (b == 32) {
          return 1;
        }
        if (b == 42) {
          J(d, 42, 16, 5583650);
        }
      }
    } else if (y[a] == 28) {
      if (b == 11) {
        bg = 11;
      } else if (b == 16) {
        gc(d);
      } else {
        if (b == 21) {
          return 1;
        }
        if (b == 26) {
          gc(d);
        } else {
          if (b == 32) {
            return 1;
          }
          if (b == 41) {
            gc(d);
          } else if (b == 42) {
            J(d, 42, 28, 5588019);
          }
        }
      }
    } else if (y[a] == 14) {
      if (R[a] == 0 && d >= 4) {
        R[a] = b;
      }
      if (b == 32) {
        return 1;
      }
    } else if (y[a] == 23) {
      if (R[a] == 0 && d >= 4) {
        R[a] = b;
      } else if (R[a] != 0 && d >= 4) {
        J(d, R[a], 0, n[R[a]]);
      }
    } else if (y[a] == 24) {
      if (b == 42) {
        J(d, 42, 24, 4473890);
      }
    } else if (y[a] == 33) {
      if (Ye[b] != 0 || b == 14) {
        gc(d);
      }
      if (b == 32) {
        return 1;
      }
    } else if (y[a] == 38) {
      if (b == 8 || b == 25 || b == 39) {
        gc(d);
      }
      if (b == 9) {
        Xe(V[a], 0.9);
      }
    } else if (y[a] == 29) {
      if (b == 36) {
        J(d, 29, 0, n[29]);
      } else if (b == 30) {
        if (eg[c] == 0 && fg[c] > 0) {
          J(d, 30, 1, n[29]);
        }
        if (eg[c] < 0 && fg[c] == 0) {
          J(d, 30, 2, n[29]);
        }
        if (eg[c] == 0 && fg[c] < 0) {
          J(d, 30, 3, n[29]);
        }
        if (eg[c] > 0 && fg[c] == 0) {
          J(d, 30, 4, n[29]);
        }
      } else if (b == 40) {
        if (eg[c] == 0 && fg[c] > 0) {
          J(d, 40, 1, n[29]);
        }
        if (eg[c] < 0 && fg[c] == 0) {
          J(d, 40, 2, n[29]);
        }
        if (eg[c] == 0 && fg[c] < 0) {
          J(d, 40, 3, n[29]);
        }
        if (eg[c] > 0 && fg[c] == 0) {
          J(d, 40, 4, n[29]);
        }
      } else if (b == 50 && D[d] == 0) {
        D[d] = 1;
      }
    } else if (y[a] == 18) {
      if (b == 6) {
        bg = 19;
      } else if (b == 21) {
        bg = 21;
      }
    } else if (y[a] == 19) {
      if (b == 7) {
        if (++R[a] >= 20) {
          bg = 18;
        }
        gc(d);
      } else if (b == 21) {
        bg = 18;
      } else if (b == 26) {
        if (++R[a] >= 20) {
          bg = 18;
        }
      } else {
        if (b == 32) {
          if (++R[a] >= 20) {
            bg = 18;
          }
          return 1;
        }
        if (b == 41) {
          if (++R[a] >= 20) {
            bg = 18;
          }
          gc(d);
        }
      }
    } else if (y[a] == 20) {
      if (b == 20) {
        if (Ff(V[a]) > 10) {
          b = ~~z[a].x + Vb(5) - 2;
          d = ~~z[a].y + Vb(5) - 2;
          a = F[(d << 9) + b];
          if (a <= 1) {
            qc(b, d, 41, 0);
          }
        }
      } else if (b == 41) {
        return 1;
      }
    } else if (y[a] == 21) {
      if (b == 6) {
        if (++R[a] >= 20) {
          bg = 30;
        }
        J(d, 22, 10, n[22]);
      } else if (b == 28) {
        if (++R[a] >= 20) {
          bg = 37;
        }
        J(d, 22, 10, n[22]);
      } else if (b == 36) {
        if (++R[a] >= 20) {
          bg = 20;
        }
        J(d, 35, 0, n[35]);
      } else if (b == 19) {
        if (++R[a] >= 20) {
          bg = 18;
        }
        J(d, 18, 0, n[18]);
      } else if (b == 21) {
        R[a] = 0;
      }
      if (b == 5) {
        J(d, 7, 0, n[7]);
      } else if (b == 8) {
        J(d, 7, 0, n[7]);
      } else if (b == 9) {
        J(d, 7, 0, n[7]);
      } else if (b == 10) {
        J(d, 7, 0, n[7]);
      } else if (b == 11) {
        J(d, 6, 0, n[6]);
      } else if (b == 12) {
        J(d, 6, 0, n[6]);
      } else if (b == 13) {
        J(d, 7, 0, n[7]);
      } else if (b == 15) {
        if (B[d] == 15 && D[d] < 256) {
          D[d] += 256;
        }
      } else if (b == 16) {
        J(d, 7, 0, n[7]);
      } else if (b == 17) {
        J(d, 7, 0, n[7]);
      } else if (b == 24) {
        J(d, 7, 0, n[7]);
      } else if (b == 25) {
        J(d, 7, 0, n[7]);
      } else if (b == 27) {
        J(d, 7, 0, n[7]);
      } else if (b == 34) {
        J(d, 7, 0, n[7]);
      } else if (b == 38) {
        J(d, 7, 0, n[7]);
      } else if (b == 39) {
        J(d, 7, 0, n[7]);
      } else if (b == 42) {
        J(d, 7, 0, n[7]);
      }
    } else if (y[a] == 30) {
      if (b == 6) {
        R[a] = 0;
      } else if (b == 21) {
        if (++R[a] >= 20) {
          bg = 21;
        }
      } else if (b == 30) {
        if (Ff(V[a]) > 10) {
          b = ~~z[a].x + Vb(5) - 2;
          d = ~~z[a].y + Vb(5) - 2;
          a = F[(d << 9) + b];
          if (a <= 1) {
            qc(b, d, 41, 0);
          }
        }
      } else if (b == 32 || b == 41) {
        return 1;
      }
    } else if (y[a] == 37) {
      if (b == 6) {
        R[a] = 0;
      } else if (b == 21) {
        if (++R[a] >= 20) {
          bg = 21;
        }
      } else if (b == 32) {
        return 1;
      }
    } else if (y[a] == 26) {
      if (b == 5) {
        J(d, 7, 0, n[7]);
      } else if (b == 8) {
        J(d, 7, 0, n[7]);
      } else if (b == 9) {
        J(d, 26, 0, n[26]);
      } else if (b == 10) {
        J(d, 7, 0, n[7]);
      } else if (b == 11) {
        J(d, 6, 0, n[6]);
      } else if (b == 12) {
        J(d, 6, 0, n[6]);
      } else if (b == 13) {
        J(d, 7, 0, n[7]);
      } else if (b == 15) {
        if (B[d] == 15 && D[d] < 256) {
          D[d] += 256;
        }
      } else if (b == 16) {
        J(d, 7, 0, n[7]);
      } else if (b == 17) {
        J(d, 7, 0, n[7]);
      } else if (b == 24) {
        J(d, 7, 0, n[7]);
      } else if (b == 25) {
        J(d, 7, 0, n[7]);
      } else if (b == 27) {
        J(d, 7, 0, n[7]);
      } else if (b == 34) {
        J(d, 7, 0, n[7]);
      } else if (b == 38) {
        J(d, 7, 0, n[7]);
      } else if (b == 39) {
        J(d, 7, 0, n[7]);
      } else if (b == 42) {
        J(d, 7, 0, n[7]);
      } else if (b == 43) {
        J(d, 6, 0, n[6]);
      }
    } else if (y[a] == 42) {
      if (b == 16) {
        R[a] = 16;
      } else if (b == 24) {
        R[a] = 24;
      } else if (b == 28) {
        R[a] = 28;
      }
    } else if (y[a] == 43) {
      if (b == 9) {
        bg = 6;
      } else if (b == 11) {
        bg = 12;
      } else if (b == 17) {
        bg = 6;
      } else if (b == 26) {
        bg = 6;
      } else if (b == 30) {
        bg = 29;
      } else if (b == 34) {
        bg = 6;
      } else if (b == 42) {
        bg = 6;
      } else if (b == 32) {
        return 1;
      }
    } else if (y[a] == 44) {
      if (R[a] == 0) {
        if (b == 6) {
          R[a] = 6;
        } else if (b == 16) {
          R[a] = 16;
        } else if (b == 19) {
          R[a] = 19;
        } else if (b == 21) {
          R[a] = 21;
        } else if (b == 24) {
          R[a] = 24;
        } else if (b == 27) {
          R[a] = 27;
        } else if (b == 28) {
          R[a] = 28;
        } else if (b == 33) {
          R[a] = 33;
        } else if (b == 36) {
          R[a] = 36;
        } else if (b == 40) {
          R[a] = 40;
        } else if (b == 43) {
          R[a] = 43;
        }
      } else {
        c = R[a] & 255;
        var e = R[a] >> 8;
        if (b == c) {
          R[a] = e + 1 << 8 | c;
          gc(d);
        }
      }
      if (b == 21 || b == 32) {
        return 1;
      }
    } else if (y[a] == 13) {
      if (b == 13) {
        H[d].x += cg[c];
        H[d].y += dg[c];
      }
    } else if (y[a] == 25) {
      if (X[b] == 4 && b != 14) {
        J(d, 25, 0, n[25]);
      }
    } else if (y[a] == 32) {
      if (b == 30 || b == 40) {
        b = (z[a].y << 9) + ~~z[a].x;
        if (c >= 21 && c <= 23 && F[b + Ae[c + 3]] <= 1) {
          qc(~~z[a].x + eg[c + 3], ~~z[a].y + fg[c + 3], 32, 7);
        }
        if (c >= 24 && c <= 26 && F[b + Ae[c - 3]] <= 1) {
          qc(~~z[a].x + eg[c - 3], ~~z[a].y + fg[c - 3], 32, 3);
        }
        if (c >= 27 && c <= 29 && F[b + Ae[c + 3]] <= 1) {
          qc(~~z[a].x + eg[c + 3], ~~z[a].y + fg[c + 3], 32, 1);
        }
        if (c >= 30 && c <= 32 && F[b + Ae[c - 3]] <= 1) {
          qc(~~z[a].x + eg[c - 3], ~~z[a].y + fg[c - 3], 32, 5);
        }
      } else if (b == 11) {
        J(d, 6, 0, n[6]);
      } else if (b == 37) {
        return 1;
      }
    } else if (y[a] == 34) {
      if (b == 8) {
        D[d] = 2;
      } else if (b == 18 || b == 20 || b == 44) {
        J(d, 34, 0, n[34]);
      }
    } else if (y[a] == 40) {
      if (b == 6) {
        R[a] = 0;
      } else if (b == 21) {
        if (++R[a] >= 20) {
          bg = 21;
        }
      } else if (b == 29) {
        if (c >= 21 && c <= 23) {
          D[d] = D[d] & 4095 | 8192;
        }
        if (c >= 24 && c <= 26) {
          D[d] = D[d] & 4095 | 0;
        }
        if (c >= 27 && c <= 29) {
          D[d] = D[d] & 4095 | 4096;
        }
        if (c >= 30 && c <= 32) {
          D[d] = D[d] & 4095 | 12288;
        }
      } else if (b == 32) {
        if (c >= 21 && c <= 23) {
          D[d] = D[d] & 65520 | 3;
        }
        if (c >= 24 && c <= 26) {
          D[d] = D[d] & 65520 | 7;
        }
        if (c >= 27 && c <= 29) {
          D[d] = D[d] & 65520 | 5;
        }
        if (c >= 30 && c <= 32) {
          D[d] = D[d] & 65520 | 1;
        }
        if (c == 33) {
          D[d] = D[d] & 65520 | 4;
        }
        if (c == 34) {
          D[d] = D[d] & 65520 | 2;
        }
        if (c == 35) {
          D[d] = D[d] & 65520 | 6;
        }
        if (c == 36) {
          D[d] = D[d] & 65520 | 8;
        }
        return 1;
      }
    } else if (y[a] == 41) {
      if (b == 41) {
        return 1;
      }
      if (X[b] != 0 && Ff(V[a]) > 2) {
        b = ~~z[a].x + Vb(2);
        d = ~~z[a].y;
        if (V[a].x < 0) {
          b += 2;
        }
        if (V[a].x > 0) {
          b -= 3;
        }
        a = F[(d << 9) + b];
        if (a <= 1) {
          qc(b, d, 41, 0);
        }
      }
    } else if (y[a] == 50) {
      if (b != 29 && b != 30 && b != 40 || R[a] == 0) {
        if (b == 32) {
          if (R[a] != 0) {
            C[d] = R[a];
          }
          return 1;
        }
        if (b == 50) {
          if (R[a] != 0) {
            C[d] = R[a];
          }
        } else if (d >= 4) {
          R[a] = n[b];
        }
      } else if (D[d] != 0) {
        b = R[a] >> 16 & 255;
        d = R[a] >> 8 & 255;
        c = R[a] & 255;
        if (b + d + c < 384) {
          b = I(b * 9 / 7 + 1);
          if (b > 255) {
            b = 255;
          }
          d = I(d * 9 / 7 + 1);
          if (d > 255) {
            d = 255;
          }
          c = I(c * 9 / 7 + 1);
          if (c > 255) {
            c = 255;
          }
          R[a] = b << 16 | d << 8 | c;
        }
      }
    } else if (y[a] == 52 && X[b] != 0 && b != 52 && b != 14 && b != 32) {
      a = 8;
      if (b == 13) {
        a = 1;
      }
      if (b == 31 || b == 51) {
        a = 4;
      }
      if (b == 24 || b == 28) {
        a = 16;
      }
      if (c >= 9 && c <= 11) {
        H[d].y = a;
      }
      if (c >= 21 && c <= 23) {
        H[d].y = a;
      }
      if (c >= 12 && c <= 14) {
        H[d].y = -a;
      }
      if (c >= 24 && c <= 26) {
        H[d].y = -a;
      }
      if (c >= 15 && c <= 17) {
        H[d].x = a;
      }
      if (c >= 27 && c <= 29) {
        H[d].x = a;
      }
      if (c >= 18 && c <= 20) {
        H[d].x = -a;
      }
      if (c >= 30 && c <= 32) {
        H[d].x = -a;
      }
    }
  }
  return 0;
}
aa.fff = lg;
function lg(a, c) {
  var b;
  var d;
  var e = new ha();
  d = (z[a].y << 9) + ~~z[a].x;
  if (y[a] == 5) {
    if (X[c] == 2) {
      Z(a, d, 0, 5, 0, V[a].x * 0.5, V[a].y * 0.5, 0.5);
    } else if (X[c] == 3) {
      Z(a, d, 0, 7, 0, V[a].x * 0.5, V[a].y * 0.5, 0.5);
    }
  } else if (y[a] == 6) {
    if (c == 21 || c == 29 || c == 33) {
      Z(a, d, 0, 6, 0, 0, 0, 0);
    }
  } else if (y[a] == 11) {
    b = Ff(V[a]);
    if (c == 29 || c == 33 || (c == 2 || c == 20 || c == 30 || c == 31 || c == 50) && b > 25) {
      Z(a, d, 0, 12, 0, V[a].x, V[a].y, -b * 0.1);
    }
  } else if (y[a] == 12) {
    b = Ff(V[a]);
    if (c == 29 || c == 33 || (c == 2 || c == 20 || c == 30 || c == 31 || c == 50) && b > 25) {
      Z(a, d, 0, 12, 0, V[a].x, V[a].y, 0);
    }
  } else if (y[a] == 36) {
    if (c == 29 || c == 33) {
      Z(a, d, 0, 36, 0, 0, 0, 0);
    }
  } else if (y[a] == 35) {
    if (c == 21 || c == 29 || c == 33) {
      Z(a, d, 0, 35, 0, 0, 0, 0);
    }
  } else if (y[a] == 7) {
    if (c == 6 || c == 19 || c == 28 || c == 36 || c == 33) {
      Z(a, d, 0, 7, 0, 0, 0, 0);
    }
  }
  if (y[a] == 8) {
    if (c == 33) {
      Z(a, d, 0, 8, 0, V[a].x * 0.5, V[a].y * 0.5, 0.5);
    } else if (c != 41 && X[c] == 3) {
      Z(a, d, 0, 7, 0, V[a].x * 0.5, V[a].y * 0.5, 0.5);
    }
  }
  if (y[a] == 9) {
    if (c == 26) {
      Z(a, d, 0, 26, 0, 0, 0, 0);
    } else if (c == 33) {
      Z(a, d, 0, 9, 0, 0, 0, 0);
    } else if (c == 29) {
      Z(a, d, 0, 5, 0, 0, 0, 1);
    } else if (c != 41) {
      if (X[c] == 3 && R[a] == 1) {
        Z(a, d, 0, 9, 0, 0, 0, 0);
      } else if (X[c] == 3) {
        Z(a, d, 0, 7, 0, 0, 0, 0);
      }
    }
  } else if (y[a] == 10) {
    if (X[c] == 2) {
      Z(a, d, 0, 10, 0, 0, 0, 0);
    } else if (X[c] == 3) {
      for (b = 0; b < 37; b++) {
        if (F[d + Ae[b]] <= 1) {
          var f = qc(~~z[a].x + eg[b], ~~z[a].y + fg[b], 7, 2);
          if (f > 0) {
            var g = Lf(4);
            H[f].x += V[a].x * g + cg[b] * g;
            H[f].y += V[a].y * g + dg[b] * g;
          }
        }
      }
      ec(a);
    }
  } else if (y[a] == 16) {
    if (X[c] == 3) {
      for (b = 9; b < 21; b++) {
        if (F[d + Ae[b]] <= 1 && xe(0.5)) {
          qc(~~z[a].x + eg[b], ~~z[a].y + fg[b], 7, 0);
        }
      }
      if (xe(0.01)) {
        Z(a, d, 0, 16, 0, 0, 0, 0);
      }
    } else if (c == 33) {
      Z(a, d, 0, 16, 0, 0, 0, 0);
    }
  } else if (y[a] == 28) {
    if (c == 21 || c == 29 || c == 33) {
      Z(a, d, 0, 28, 0, 0, 0, 0);
    }
  } else if (y[a] == 1) {
    d = (z[a].y >> 2 << 7) + (z[a].x >> 2);
    S(e, V[a].x, V[a].y);
    Oe(e);
    N[d] += e.x;
    O[d] += e.y;
  } else if (y[a] == 14) {
    if (R[a] != 0 && !($d - fc < 1000)) {
      b = ~~z[a].x;
      g = ~~z[a].y;
      if (X[R[a]] == 1 || R[a] == 21 || R[a] == 9 || R[a] == 11 || R[a] == 34 || R[a] == 42 || R[a] == 50) {
        b = I(z[a].x + T[d] * 4);
        g = I(z[a].y + U[d] * 4);
      } else if (R[a] == 7 || R[a] == 27) {
        b = I(z[a].x - T[d] * 4);
        g = I(z[a].y - U[d] * 4);
      } else if (R[a] == 41 || R[a] == 26) {
        e.set(V[a]);
        Pd(e);
        b = I(z[a].x - e.x * 4);
        g = I(z[a].y - e.y * 4);
      }
      d = 0;
      if (R[a] == 32) {
        d = 128;
      }
      if (F[(g << 9) + b] <= 1) {
        qc(b, g, R[a], d);
      }
    }
  } else if (y[a] == 17 || y[a] == 24) {
    if (X[c] == 3) {
      d = 8;
      var m = ~~z[a].x;
      var p = ~~z[a].y;
      var u = ue(m - d, 8);
      var f = ue(p - d, 8);
      var v = De(m + d, 503);
      for (var G = De(p + d, 287), K, g = f; g <= G; g++) {
        for (b = u; b <= v; b++) {
          if (!(d * d < (b - m) * (b - m) + (g - p) * (g - p))) {
            f = (g + p >> 1 << 9) + (b + m >> 1);
            if (!(t[Q[f]] >= 1)) {
              K = F[(g << 9) + b];
              if (K >= 4) {
                if (B[K] == 20) {
                  J(K, 18, 0, n[18]);
                }
                H[K].x += (b - m) * 2;
                H[K].y += (g - p) * 2;
              }
              if (K <= 1 && y[a] == 24) {
                qc(b, g, 7, 0);
              }
            }
          }
        }
      }
      m = Ed(m, 12, 499);
      p = Ed(p, 12, 283);
      d = (p >> 2 << 7) + (m >> 2);
      m = 5;
      if (t[f = d - r - 1] == 0) {
        N[f] -= m * 0.4;
        O[f] -= m * 0.4;
      }
      if (t[f = d - r] == 0) {
        O[f] -= m * 0.5;
      }
      if (t[f = d - r + 1] == 0) {
        N[f] += m * 0.4;
        O[f] -= m * 0.4;
      }
      if (t[f = d - 1] == 0) {
        N[f] -= m * 0.5;
      }
      if (t[f = d + 1] == 0) {
        N[f] += m * 0.5;
      }
      if (t[f = d + r - 1] == 0) {
        N[f] -= m * 0.4;
        O[f] += m * 0.4;
      }
      if (t[f = d + r] == 0) {
        O[f] += m * 0.5;
      }
      if (t[f = d + r + 1] == 0) {
        N[f] += m * 0.4;
        O[f] += m * 0.4;
      }
      ec(a);
    } else if (c == 33) {
      Z(a, d, 0, y[a], 0, 0, 0, 0);
    }
  } else if (y[a] == 27) {
    if (X[c] == 3) {
      Z(a, d, 0, 27, 0, 0, 0, 1);
      if (R[a] < 2) {
        R[a]++;
        y[a] = 27;
      }
    } else if (c == 33) {
      Z(a, d, 0, 27, 0, 0, 0, 0);
    }
  } else if (y[a] == 31) {
    if (X[c] > 0 && c != 31) {
      d = 8;
      m = ~~z[a].x;
      p = ~~z[a].y;
      u = ue(m - d, 8);
      f = ue(p - d, 8);
      v = De(m + d, 503);
      G = De(p + d, 287);
      S(e, 0, 0);
      for (g = f; g <= G; g++) {
        for (b = u; b <= v; b++) {
          if (!(d * d < (b - m) * (b - m) + (g - p) * (g - p))) {
            K = F[(g << 9) + b];
            if (K >= 4) {
              e.x += m - b;
              e.y += p - g;
            }
          }
        }
      }
      Pd(e);
      for (g = f; g <= G; g++) {
        for (b = u; b <= v; b++) {
          if (!(d * d < (b - m) * (b - m) + (g - p) * (g - p))) {
            f = (g + p >> 1 << 9) + (b + m >> 1);
            if (!(t[Q[f]] >= 1)) {
              K = F[(g << 9) + b];
              if (K >= 4) {
                if (B[K] != 31 || D[K] == 0) {
                  J(K, 31, B[K], n[31]);
                }
                H[K].x += e.x * 0.5 + (m - b) * 0.5;
                H[K].y += e.y * 0.5 + (p - g) * 0.5;
              }
            }
          }
        }
      }
      ec(a);
    }
  } else if (y[a] == 38) {
    if (X[c] == 3) {
      Z(a, d, 0, 7, 0, V[a].x * 0.5, V[a].y * 0.5, 0.5);
    } else if (c == 33) {
      Z(a, d, 0, 38, 0, 0, 0, 0);
    }
  } else if (y[a] == 39) {
    if (X[c] == 3) {
      Z(a, d, 0, 7, 0, V[a].x * 0.5, V[a].y * 0.5, 0.5);
    } else if (X[c] == 2 || c == 38) {
      Z(a, d, 0, 39, 0, 0, 0, 0);
    }
  } else if (y[a] == 18) {
    if (c == 29 || c == 33) {
      Z(a, d, 0, 18, 0, 0, 0, 0);
    }
  } else if (y[a] == 19) {
    if (c == 29 || c == 33) {
      Z(a, d, 0, 19, 0, 0, 0, 0);
    }
  } else if (y[a] == 20) {
    b = Ff(V[a]);
    if ((c == 2 || c == 30 || c == 31 || c == 50) && b > 45) {
      y[a] = 18;
    } else if (c == 33) {
      Z(a, d, 0, 20, 0, 0, 0, 0);
    }
  } else if (y[a] == 30) {
    if (c == 36) {
      Z(a, d, 1, 5, 0, 0, 0, 0);
    } else if (c == 29) {
      Z(a, d, 2, 30, 0, 0, 0, 0);
    } else if (c == 32) {
      Z(a, d, 1, 30, 0, 0, 0, 0);
    } else if (c == 33) {
      Z(a, d, 0, 30, 0, 0, 0, 0);
    }
  } else if (y[a] == 37) {
    b = Ff(V[a]);
    if ((c == 2 || c == 20 || c == 30 || c == 31) && b > 25) {
      Z(a, d, 0, 20, 0, 0, 0, b * 0.05);
    } else if (c == 29) {
      Z(a, d, 1, 37, 0, 0, 0, 0);
    } else if (c == 32) {
      Z(a, d, 2, 37, 0, 0, 0, 0);
    } else if (c == 33) {
      Z(a, d, 0, 37, 0, 0, 0, 0);
    }
  } else if (y[a] == 26) {
    if (c == 6) {
      Z(a, d, 0, 26, 0, 0, 0, 0);
    }
    if (c == 19) {
      Z(a, d, 0, 26, 0, 0, 0, 0);
    } else if (c == 28) {
      Z(a, d, 0, 26, 0, 0, 0, 0);
    } else if (c == 36) {
      Z(a, d, 0, 26, 0, 0, 0, 0);
    } else if (c == 29) {
      Z(a, d, 0, 7, 0, 0, 0, 0);
    } else if (c == 33) {
      Z(a, d, 0, 26, 0, 0, 0, 0);
    }
  } else if (y[a] == 42) {
    if (X[c] == 3) {
      if (R[a] == 16) {
        Z(a, d, 2, 7, 0, 0, 0, 0);
      } else if (R[a] == 24) {
        Z(a, d, 0, 24, 0, 0, 0, 1);
      } else if (R[a] == 28) {
        Z(a, d, 0, 22, 10, 0, 0, 1);
      } else {
        Z(a, d, 0, 41, 0, 0, 0, 0);
      }
    } else if (c == 6) {
      Z(a, d, 0, 10, 0, 0, 0, 0);
    } else if (c == 36) {
      Z(a, d, 0, 10, 0, 0, 0, 0);
    } else if (c == 33) {
      Z(a, d, 0, 42, 0, 0, 0, 0);
    }
  } else if (y[a] == 43) {
    if (c == 33) {
      Z(a, d, 0, 43, 0, 0, 0, 0);
    }
  } else if (y[a] == 44) {
    if (R[a] != 0 && !($d - fc < 1000)) {
      e.set(V[a]);
      Pd(e);
      Xe(e, 4);
      b = I(z[a].x - e.x);
      g = I(z[a].y - e.y);
      K = F[(g << 9) + b];
      if (K <= 1) {
        m = R[a] & 255;
        e = R[a] >> 8;
        if (e > 0) {
          qc(b, g, m, 0);
          R[a] = e - 1 << 8 | m;
        }
      }
    }
  } else if (y[a] == 13) {
    if (c == 29) {
      Z(a, d, 0, 13, 0, 0, 0, 1);
    } else if (c == 32) {
      Z(a, d, 0, 13, 0, 0, 0, 2);
    } else if (c != 41) {
      if (X[c] == 3) {
        Z(a, d, 0, 7, 0, 0, 0, 0);
      } else if (c == 33) {
        Z(a, d, 0, 13, 0, 0, 0, 2);
      }
    }
  } else if (y[a] == 15) {
    if (R[a] == 0) {
      if (X[c] == 3) {
        V[a].x -= T[d] * 5;
        V[a].y -= U[d] * 5;
        R[a] = 1;
      } else if (c == 33) {
        Z(a, d, 0, 15, 0, 0, 0, 0);
      }
    } else {
      R[a]++;
      if (R[a] > 50) {
        if (!($d - fc < 1000)) {
          e = Vb(6);
          if (e == 0) {
            e = Vb(256) << 8 | 16711680;
          } else if (e == 1) {
            e = Vb(256) << 16 | 65280;
          } else if (e == 2) {
            e = Vb(256) | 65280;
          } else if (e == 3) {
            e = Vb(256) << 8 | 255;
          } else if (e == 4) {
            e = Vb(256) << 16 | 255;
          } else if (e == 5) {
            e = Vb(256) | 16711680;
          }
          b = 9;
          for (; b < 37; b++) {
            if (F[d + Ae[b]] <= 1) {
              g = qc(~~z[a].x + eg[b], ~~z[a].y + fg[b], 7, 2);
              if (g > 0) {
                H[g].x += cg[b] * 5;
                H[g].y += dg[b] * 5;
                C[g] = e;
              }
            }
          }
        }
        ec(a);
      }
    }
  } else if (y[a] == 25) {
    if (X[c] == 3) {
      Z(a, d, 0, 7, 0, 0, 0, 0);
    } else if (c == 33) {
      Z(a, d, 0, 25, 0, 0, 0, 0);
    }
  } else if (y[a] == 32) {
    if (c == 33) {
      Z(a, d, 0, 32, 0, 0, 0, 0);
    }
  } else if (y[a] == 34) {
    if (c == 36) {
      Z(a, d, 0, 5, 0, 0, 0, 0);
    } else if (c == 29) {
      Z(a, d, 0, 34, 0, 0, 0, 0);
    } else if (c != 41) {
      if (X[c] == 3) {
        Z(a, d, 0, 7, 0, 0, 0, 0);
      } else if (c == 33) {
        Z(a, d, 0, 34, 0, 0, 0, 0);
      }
    }
  } else if (y[a] == 40) {
    if (c == 33) {
      Z(a, d, 0, 40, 0, 0, 0, 0);
    }
  } else if (y[a] == 41) {
    if (c == 6) {
      Z(a, d, 2, 41, 0, 0, 0, 0);
    } else if (c == 28) {
      Z(a, d, 2, 41, 0, 0, 0, 0);
    } else if (c == 36) {
      Z(a, d, 2, 41, 0, 0, 0, 0);
    } else if (c == 29) {
      Z(a, d, 2, 41, 0, 0, 0, 0);
    } else if (c == 33) {
      Z(a, d, 2, 41, 0, 0, 0, 0);
    }
  } else if (y[a] == 51) {
    if (X[c] != 0) {
      b = F[d - 1024 - 2];
      g = F[d - 1024 + 2];
      e = F[d + 1026];
      d = F[d + 1024 - 2];
      if (b <= 1) {
        b = qc(~~z[a].x - 2, ~~z[a].y - 2, c, 0);
      }
      if (g <= 1) {
        g = qc(~~z[a].x + 2, ~~z[a].y - 2, c, 0);
      }
      if (e <= 1) {
        e = qc(~~z[a].x + 2, ~~z[a].y + 2, c, 0);
      }
      if (d <= 1) {
        d = qc(~~z[a].x - 2, ~~z[a].y + 2, c, 0);
      }
      if (b > 0) {
        H[b].set(V[a]);
      }
      if (g > 0) {
        H[g].set(V[a]);
      }
      if (e > 0) {
        H[e].set(V[a]);
      }
      if (d > 0) {
        H[d].set(V[a]);
      }
      if (b >= 4 && g >= 4) {
        vc(0, 0, b, g, 0);
      }
      if (g >= 4 && e >= 4) {
        vc(0, 0, g, e, 0);
      }
      if (e >= 4 && d >= 4) {
        vc(0, 0, e, d, 0);
      }
      if (d >= 4 && b >= 4) {
        vc(0, 0, d, b, 0);
      }
      if (b >= 4 && e >= 4) {
        vc(0, 0, b, e, 5);
      }
      if (g >= 4 && d >= 4) {
        vc(0, 0, g, d, 5);
      }
      ec(a);
    }
  } else if (y[a] == 52 && c == 33) {
    Z(a, d, 2, 52, 0, 0, 0, 0);
  }
}
function Z(a, c, b, d, e, f, g, m) {
  if (b == 0) {
    for (b = 9; b < 21; b++) {
      var p = F[c + Ae[b]];
      if (p <= 1) {
        p = qc(~~z[a].x + eg[b], ~~z[a].y + fg[b], d, e);
        if (p > 0) {
          H[p].x += f + cg[b] * m;
          H[p].y += g + dg[b] * m;
        }
      }
    }
    ec(a);
  } else if (b == 1 || b == 2) {
    for (b = b == 1 ? 9 : 0; b < 21; b++) {
      p = F[c + Ae[b]];
      if (p <= 1) {
        qc(~~z[a].x + eg[b], ~~z[a].y + fg[b], d, e);
      } else if (p >= 4) {
        J(p, d, e, n[d]);
      }
    }
    ec(a);
  }
}
aa.fff = Ge;
function Ge() {
  var a;
  var c;
  var b;
  var d;
  for (a = 0; a < dc; a++) {
    if (y[a] != 0) {
      d = n[y[a]];
      if (y[a] == 50 && R[a] != 0) {
        d = R[a];
      }
      if (la == 14) {
        d = 0;
      }
      b = (z[a].y << 9) + ~~z[a].x;
      for (c = 9; c < 21; c++) {
        q[b + Ae[c]] = q[b + Ae[c]] == d ? 0 : d;
      }
      if (z[a].y < 288) {
        if (la == 12) {
          if (y[a] == 7 || y[a] == 21 || y[a] == 26 || y[a] == 29 || y[a] == 32 || y[a] == 41) {
            Ab[b] = 255000;
          }
        } else if (la == 13) {
          Ab[b] = Hb[y[a]] * 2;
        }
      }
    }
  }
}
var Uc = document;
var Ec = Uc.getElementById("cv");
var mg = Ec.getContext("2d");
var ng = mg.createImageData(512, 430);
var og = new Uint32Array(ng.data.buffer);
var pg = aa.console;
var $c = String.fromCharCode;
var Yc = setTimeout;
var qg = location.hostname;
aa.fff = rg;
function rg(a, c, b, d, e, f, g) {
  try {
    Ec = Uc.getElementById("cv");
    mg = Ec.getContext("2d");
    mg.putImageData(a, c, b, d, e, f, g);
  } catch (m) {}
}
aa.fff = Cc;
function Cc(a) {
  try {
    pg.log(a);
  } catch (c) {}
}
aa.Init = Bc;
var Dc = $c(68, 65, 78, 45, 66, 65, 76, 76, 46, 106, 112, 32, 40, 67, 41, 32, 50, 48, 49, 49, 32, 104, 97, 53, 53, 105, 105);
var Rc = $c(46, 47, 100, 97, 116, 97, 47);
var be = $c(102, 112, 115);
var Vc = $c(99, 97, 110, 118, 97, 115);
var Wc = $c(50, 100);
var sg = 0;
var tg = $c(100, 97, 110, 45, 98, 97, 108, 108, 46, 106, 112);
var q = new Int32Array(220160);
function fd() {
  if (ug) {
    ug(fd);
    vg++;
    wg = Date.now();
    var a = I((wg - xg) * 60 / 1000 + 0.5);
    if (a < 0 || a >= 60) {
      vg = 0;
      ae = yg;
      yg = 0;
      xg = wg;
      a = 0;
    } else if (a == zg) {
      return;
    }
    yg++;
    zg = a;
  }
  yd = Kd == 0 && Ag == 1;
  Id = Kd == 1 && Ag == 0;
  Cd = Ld == 0 && Bg == 1;
  Jd = Ld == 1 && Bg == 0;
  Kd = Ag;
  Ld = Bg;
  xd = !(Id | Kd | Jd | Ld);
  Dd = yd ? 1 : Cd ? -1 : 0;
  if (Ag) {
    Cg++;
  } else {
    Cg = 0;
  }
  Be = Bd;
  Ce = wd;
  Bd = Dg;
  wd = Eg;
  for (a = 0; a < 256; a++) {
    Fc[a] = Gc[a];
    Gc[a] = false;
    Jc[a] = Ic[a] == 0 && Hc[a] == 1;
    Kc[a] = Ic[a] == 1 && Hc[a] == 0;
    Ic[a] = Hc[a];
  }
  Oc = Oc + I(Math.random() * 1024) & 1023;
  Pc = I(Math.random() * 512) | 1;
  ud();
  for (var c = sg == 11 ? 220160 : 0, a = 0; a < c; a++) {
    og[a] = (q[a] & 255) << 16 | 4278190080 | q[a] & 65280 | q[a] >> 16 & 255;
  }
  rg(ng, -8, -8, 8, 8, 496, 422);
  if (!ug) {
    Yc(fd, Zc());
  }
}
var vd = 1;
function Sc() {
  if (qg.length != tg.length) {
    return true;
  }
  for (vd = 0; sg < qg.length; sg++) {
    if (qg[sg] != tg[sg]) {
      return true;
    }
  }
  return false;
}
var ug = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;
var vg = 0;
var zg = 0;
var yg = 0;
var ae = 0;
var Fg = 20;
var wg = Date.now();
var xg = wg;
var Gg = wg + Fg;
var Hg = wg;
var Rd = 0;
function Zc() {
  wg = Date.now();
  var a = Ed(Gg - wg, 5, Fg);
  yg++;
  Gg += Fg;
  if (wg + a >= Hg || wg < xg) {
    ae = yg;
    yg = 0;
    Gg = wg + Fg;
    Hg = wg + 1000;
  }
  xg = wg;
  return a;
}
var Qc = 0;
function mb() {
  this.a = 0;
  this.l = "";
  this.m = this.c = this.j = this.f = this.i = this.b = this.g = this.h = 0;
}
function Xc(a, c, b) {
  a.h = c;
  a.g = b;
  for (c = 0; c < 16; c++);
  a.b = new Int32Array(a.h * a.g);
}
function ce(a, c) {
  te(a, c, "sans-serif", 0, 14);
}
function te(a, c, b, d, e) {
  if (!a.i) {
    a.i = 1;
    Xc(a, 512, 128);
    a.j = Uc.createElement(Vc);
    a.j.width = a.h;
    a.j.height = a.g;
    a.c = a.j.getContext(Wc);
  }
  var f = c + b + d + e;
  if (a.m != f) {
    a.m = f;
    a.c.fillStyle = "#000000";
    a.c.fillRect(0, 0, a.h, a.g);
    f = "";
    if (d & 2) {
      f += "italic ";
    }
    if (d & 1) {
      f += "bold ";
    }
    a.c.font = f + (e + "px ") + b;
    a.c.fillStyle = "#ffffff";
    a.c.fillText(c, 0, e);
    b = a.c.getImageData(0, 0, a.h, a.g).data;
    c = 0;
    for (d = b.length; c < d; c += 4) {
      a.b[c >> 2] = b[c + 0] >= 1 ? 16777215 : -1;
    }
    for (c = b = a.f = 0; b < a.g; b++) {
      for (d = 0; d < a.h; d++, c++) {
        if (a.b[c] == 16777215 && a.f <= d) {
          a.f = d + 1;
        }
      }
    }
  }
}
var Ig = [[0, 2, 0, 0, 1, 0, 0, 2, 2, 1, 1, 1, 2, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 1, 1, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 3, 1, 0], [0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0]];
var Jg = [[0, 1, 1, 0, 0, 0, 0, 2, 1, 2, 0, 0, 2, 1, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 2, 1, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 1, 0], [0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0]];
var L = new Kg();
function Kg() {
  this.g = new mb();
  this.f = this.a = this.i = this.c = 0;
}
function M(a, c, b, d, e, f) {
  var g;
  var m;
  var p;
  var u;
  var v;
  var G;
  var K;
  var W = 512 - a.c;
  var ta = a.g.h - a.c;
  var lb = e > -1 ? 16777215 : 1;
  var tb = f > -1 ? 0 : 1;
  var Va = d.length;
  for (g = 0; g < Va; g++, c += a.c + a.a) {
    if (v = d.charCodeAt(g) - 32) {
      if (v >= 96) {
        v = 31;
      }
      if (a.f != 0) {
        c -= Ig[a.f - 1][v];
      }
      G = v * a.c;
      u = b * 512 + c;
      for (p = 0; p < a.i; p++, u += W, G += ta) {
        for (m = 0; m < a.c; m++, u++, G++) {
          K = a.g.b[G];
          if (K == lb) {
            q[u] = e;
          } else if (K == tb) {
            q[u] = f;
          }
        }
      }
      if (a.f != 0) {
        c -= Jg[a.f - 1][v];
      }
    }
  }
  a.a = 0;
  a.f = 0;
}
function ee(a, c, b, d) {
  var e = L;
  a -= b.length * (e.c + e.a) - e.a >> 1;
  c -= e.i >> 1;
  M(e, a, c, b, d, 0);
}
function ed(a, c, b, d, e, f) {
  var g = L;
  g.a = f;
  M(g, a, c, b, d, e);
  g.a = 0;
}
var Lg = 0;
function Zd(a, c, b, d, e) {
  var f = ~~b - ~~a;
  var g = ~~d - ~~c;
  var m = ue(ue(Md(f), Md(g)), 1);
  var f = I((f << 8) / m);
  var g = I((g << 8) / m);
  a = (a << 8) + 127;
  c = (c << 8) + 127;
  for (var p = 0; p <= m; p++, a += f, c += g) {
    b = a >> 8;
    d = c >> 8;
    if (!(b < 0) && !(b >= 512) && !(d < 0) && !(d >= 430)) {
      q[(d << 9) + b] = e;
    }
  }
}
function ge(a, c, b, d) {
  var e = 18;
  b--;
  e--;
  Zd(a, c, a + b, c, d);
  Zd(a, c + e, a + b, c + e, d);
  Zd(a, c, a, c + e, d);
  Zd(a + b, c, a + b, c + e, d);
}
function dd(a, c, b, d, e) {
  var f;
  var g;
  b = a + b > 512 ? 512 : ~~(a + b);
  a = a < 0 ? 0 : ~~a;
  f = (c < 0 ? 0 : ~~c) * 512 + a;
  g = 512 - (b - a);
  b = f + b - a;
  d = (c + d > 430 ? 430 : ~~(c + d)) * 512;
  if (Lg) {
    for (; f < d; f += g, b += 512) {
      for (; f < b; f++) {
        a = q[f];
        c = e >> 24 & 255;
        var m = Lg;
        var p = 0;
        var u = 0;
        var v = 0;
        if (m == 1) {
          m = a >> 16 & 255;
          p = (((e >> 16 & 255) - m) * c >> 8) + m;
          m = a >> 8 & 255;
          u = (((e >> 8 & 255) - m) * c >> 8) + m;
          m = a & 255;
          v = (((e & 255) - m) * c >> 8) + m;
        } else if (m == 2) {
          p = ((e >> 16 & 255) * c >> 8) + (a >> 16 & 255);
          if (p > 255) {
            p = 255;
          }
          u = ((e >> 8 & 255) * c >> 8) + (a >> 8 & 255);
          if (u > 255) {
            u = 255;
          }
          v = ((e & 255) * c >> 8) + (a & 255);
          if (v > 255) {
            v = 255;
          }
        } else if (m == 3) {
          p = (a >> 16 & 255) - ((e >> 16 & 255) * c >> 8);
          if (p < 0) {
            p = 0;
          }
          u = (a >> 8 & 255) - ((e >> 8 & 255) * c >> 8);
          if (u < 0) {
            u = 0;
          }
          v = (a & 255) - ((e & 255) * c >> 8);
          if (v < 0) {
            v = 0;
          }
        } else if (m == 4) {
          p = (e >> 16 & 255) * (a >> 16 & 255) >> 8;
          u = (e >> 8 & 255) * (a >> 8 & 255) >> 8;
          v = (e & 255) * (a & 255) >> 8;
        } else if (m == 5) {
          m = a >> 16 & 255;
          p = m + ((e >> 16 & 255) * m * c >> 16);
          if (p > 255) {
            p = 255;
          }
          m = a >> 8 & 255;
          u = m + ((e >> 8 & 255) * m * c >> 16);
          if (u > 255) {
            u = 255;
          }
          m = a & 255;
          v = m + ((e & 255) * m * c >> 16);
          if (v > 255) {
            v = 255;
          }
        } else if (m == 6) {
          m = a >> 16 & 255;
          p = m + (c - (m * 2 * c >> 8));
          m = a >> 8 & 255;
          u = m + (c - (m * 2 * c >> 8));
          m = a & 255;
          v = m + (c - (m * 2 * c >> 8));
        }
        q[f] = p << 16 | u << 8 | v;
      }
    }
  } else {
    for (; f < d; f += g, b += 512) {
      for (; f < b; f++) {
        q[f] = e;
      }
    }
  }
}
function Yd(a, c, b, d, e) {
  var f = 8;
  var g = 496;
  var m = 496 >> ma;
  var p;
  var u;
  if (g != 0 && c != 0) {
    m = ~~((m << 8) / g);
    e = ~~((e << 8) / c);
    b <<= 8;
    d <<= 8;
    if (f < 0) {
      b += m * -f;
    }
    if (a < 0) {
      d += e * -a;
    }
    g = f + g > 512 ? 512 : ~~(f + g);
    f = f < 0 ? 0 : ~~f;
    p = (a < 0 ? 0 : ~~a) * 512 + f;
    u = 512 - (g - f);
    g = p + g - f;
    c = (a + c > 430 ? 430 : ~~(a + c)) * 512;
    for (; p < c; p += u, g += 512, d += e) {
      for (a = ((d >> 8) * Bb.h << 8) + b; p < g; p++, a += m) {
        f = Bb.b[a >> 8];
        q[p] = f;
      }
    }
  }
}
function ie(a, c, b, d, e, f, g, m) {
  var p;
  var u;
  var v;
  var G;
  var K;
  f = I((f << 8) / d);
  g = I((g << 8) / e);
  u = p = 0;
  if (c < 0) {
    p += f * -c;
  }
  if (b < 0) {
    u += g * -b;
  }
  d = c + d > 512 ? 512 : I(c + d);
  e = b + e > 430 ? 430 : I(b + e);
  c = c < 0 ? 0 : I(c);
  b = b < 0 ? 0 : I(b);
  var W = m >> 16 & 255;
  var ta = m >> 8 & 255;
  var lb = m & 255;
  var tb;
  var Va;
  for (; b < e; b++, u += g) {
    v = b * 512 + c;
    G = ((u >> 8) * a.h << 8) + p;
    m = c;
    for (; m < d; m++, v++, G += f) {
      K = a.b[G >> 8];
      if (K != -1) {
        tb = W * (K >> 16 & 255) >> 8;
        Va = ta * (K >> 8 & 255) >> 8;
        K = lb * (K & 255) >> 8;
        q[v] = tb << 16 | Va << 8 | K;
      }
    }
  }
}
function fe(a) {
  var c = nb.f;
  ie(nb, 256 - (c >> 1), a - 8, c, 16, nb.f, 16, 0);
}
var Od = new ha();
aa.full_screen = Mg;
function Mg() {
  if (Uc.fullscreenEnabled) {
    if (Uc.fullscreenElement) {
      Uc.exitFullscreen();
    } else {
      Ec.requestFullscreen();
    }
  }
}
var yd = false;
var Id = false;
var Kd = false;
var Ag = false;
var Cd = false;
var Jd = false;
var Ld = false;
var Bg = false;
var xd = false;
var Dd = 0;
var Cg = 0;
var Bd = 0;
var wd = 0;
var Be = 0;
var Ce = 0;
var Dg = 0;
var Eg = 0;
var Ng = 0;
function Ad(a, c, b, d) {
  if (Bd < a || a + b <= Bd || wd < c || c + d <= wd) {
    return false;
  } else {
    return true;
  }
}
function Og(a) {
  var c = Ec.getBoundingClientRect();
  var b = c.right - c.left;
  var d = c.bottom - c.top;
  var e = De(b / 496, d / 422);
  var d = I(d / 2 - e * 422 / 2);
  Dg = I((a.clientX - c.left - I(b / 2 - e * 496 / 2)) / e);
  Eg = I((a.clientY - c.top - d) / e);
}
Uc.onmousemove = Og;
Uc.onmousedown = function (a) {
  Og(a);
  Pg = false;
  if (!(Dg < 0) && !(Dg >= 496) && !(Eg < 0) && !(Eg >= 422) && (Pg = true, a.button == 0 && (Ag = true), a.button == 2 && (Bg = true), Pg)) {
    return false;
  }
};
Uc.onmouseup = function (a) {
  Og(a);
  if (a.button == 0) {
    Ag = false;
  }
  if (a.button == 2) {
    Bg = false;
  }
};
Uc.oncontextmenu = function () {
  if (Pg) {
    return false;
  }
};
function Qg(a) {
  var c = Ec.getBoundingClientRect();
  var b = c.right - c.left;
  var d = c.bottom - c.top;
  var e = De(b / 496, d / 422);
  var b = I(b / 2 - e * 496 / 2);
  var d = I(d / 2 - e * 422 / 2);
  a = a.touches;
  Ng = a.length;
  if (Ng == 1) {
    Dg = I((a[0].clientX - c.left - b) / e);
    Eg = I((a[0].clientY - c.top - d) / e);
  } else if (Ng == 2) {
    Dg = I((a[0].clientX - c.left - b) / e);
    Eg = I((a[0].clientY - c.top - d) / e);
  }
}
Ec.ontouchstart = function (a) {
  Qg(a);
  Ag = true;
  if (Ng > 1) {
    Bg = true;
  }
  Bd = Be = Dg;
  wd = Ce = Eg;
  return false;
};
Ec.ontouchmove = function (a) {
  Qg(a);
  return false;
};
Ec.ontouchend = function (a) {
  Qg(a);
  if (Ng < 1) {
    Ag = false;
  }
  return Bg = false;
};
Ec.ontouchcancel = function () {
  Ng = 0;
  Bg = Ag = false;
};
var Fc = Array(256);
var Gc = Array(256);
var Hc = Array(256);
var Ic = Array(256);
var Jc = Array(256);
var Kc = Array(256);
var Lc = Array(256);
var Mc = Array(256);
Uc.onkeydown = function (a) {
  var c = a.keyCode;
  if (c >= 65 & c <= 90) {
    if (!a.shiftKey) {
      c += 32;
    }
  } else {
    c = a.shiftKey ? Mc[c] : Lc[c];
  }
  if (c >= 0 && c < 256) {
    Hc[c] = true;
    Gc[c] = true;
  }
  if (c != 0 && Pg) {
    return false;
  }
};
Uc.onkeyup = function (a) {
  var c = a.keyCode;
  if (c >= 65 & c <= 90) {
    if (!a.shiftKey) {
      c += 32;
    }
  } else {
    c = a.shiftKey ? Mc[c] : Lc[c];
  }
  if (c >= 0 && c < 256) {
    Hc[c] = false;
  }
  if (c != 0 && Pg) {
    return false;
  }
};
var Pg = false;
function he(a, c) {
  var b = null;
  try {
    b = prompt(a, c);
  } catch (d) {}
  return b;
}
var cd = Array(100);
var bd = 0;
var Rg = $c(80, 79, 83, 84);
var de = $c(38, 98, 61);
var je = $c(38, 99, 61);
var ke = $c(38, 100, 61);
var le = $c(38, 101, 61);
var me = $c(38, 102, 61);
var ne = $c(38, 103, 61);
var oe = $c(38, 104, 61);
$c(38, 105, 61);
var re = $c(38, 106, 61);
var se = $c(38, 107, 61);
$c(111, 107);
var Tc = $c(69, 82, 82, 79, 82);
var Sg = $c(61);
var Tg = $c(10);
var Ug = $c(67, 111, 110, 116, 101, 110, 116, 45, 84, 121, 112, 101);
var Vg = $c(97, 112, 112, 108, 105, 99, 97, 116, 105, 111, 110, 47, 120, 45, 119, 119, 119, 45, 102, 111, 114, 109, 45, 117, 114, 108, 101, 110, 99, 111, 100, 101, 100);
function ad(a, c) {
  for (var b = bd = 0; b < 100; b++) {
    cd[b] = "";
  }
  try {
    var d = new XMLHttpRequest();
    d.onreadystatechange = function () {
      if (d.readyState == 4) {
        if (d.status == 200) {
          var a;
          var b;
          var c = 0;
          var m = d.responseText.length;
          for (a = 0; a < m; a++) {
            b = d.responseText[a];
            if (b == Sg) {
              for (a += 1; a < m; a++) {
                b = d.responseText[a];
                if (b == Tg) {
                  break;
                }
                cd[c] += b;
              }
              c++;
            } else {
              for (; a < m && d.responseText[a] != Tg; a++);
            }
          }
          bd = 1;
        } else {
          bd = -1;
        }
      }
    };
    d.open(Rg, a, false);
    d.setRequestHeader(Ug, Vg);
    d.send(c);
  } catch (e) {
    bd = -2;
  }
}
function ha() {
  this.y = this.x = 0;
}
ha.prototype.set = function (a) {
  this.x = a.x;
  this.y = a.y;
  return this;
};
function S(a, c, b) {
  a.x = c;
  a.y = b;
}
ha.prototype.add = function (a) {
  this.x += a.x;
  this.y += a.y;
  return this;
};
ha.prototype.sub = function (a) {
  this.x -= a.x;
  this.y -= a.y;
  return this;
};
function Nd(a, c, b) {
  a.x = c.x - b.x;
  a.y = c.y - b.y;
}
function Xe(a, c) {
  a.x *= c;
  a.y *= c;
}
function Af(a, c) {
  return a.x * c.x + a.y * c.y;
}
function We(a) {
  var c = a.x;
  a.x = a.y;
  a.y = -c;
}
function ye(a) {
  return Math.sqrt(a.x * a.x + a.y * a.y);
}
function Ff(a) {
  return a.x * a.x + a.y * a.y;
}
function jg(a) {
  return Math.sqrt(a.x * a.x + a.y * a.y);
}
function Pd(a) {
  var c = ye(a);
  if (c == 0) {
    return 0;
  }
  a.x /= c;
  a.y /= c;
  return c;
}
function Oe(a) {
  var c = jg(a);
  if (c == 0) {
    return 0;
  }
  a.x /= c;
  a.y /= c;
  return c;
}
function ve(a) {
  var c = Math.acos(a.x / Math.sqrt(a.x * a.x + a.y * a.y));
  if (a.y > 0) {
    c = we - c;
  }
  return c;
}
var Nc = new Float32Array(1024);
var Oc = 0;
var Pc = 0;
function Lf(a) {
  Oc += Pc;
  Oc &= 1023;
  return Nc[Oc] * a;
}
function Mf(a, c) {
  Oc += Pc;
  Oc &= 1023;
  return Nc[Oc] * (c - a) + a;
}
function xe(a) {
  Oc += Pc;
  Oc &= 1023;
  if (Nc[Oc] < a) {
    return true;
  } else {
    return false;
  }
}
function Vb(a) {
  Oc += Pc;
  Oc &= 1023;
  return ~~(Nc[Oc] * a);
}
var rc = 3.1415927;
var we = 6.2831855;
function Md(a) {
  if (a < 0) {
    return -a;
  } else {
    return a;
  }
}
function ue(a, c) {
  if (a > c) {
    return a;
  } else {
    return c;
  }
}
function De(a, c) {
  if (a < c) {
    return a;
  } else {
    return c;
  }
}
function Ed(a, c, b) {
  if (a < c) {
    return c;
  } else if (a > b) {
    return b;
  } else {
    return a;
  }
}
function zd(a, c) {
  if (a < 0) {
    return c;
  } else if (a > c) {
    return 0;
  } else {
    return a;
  }
}
function I(a) {
  return Math.floor(a);
}
;
